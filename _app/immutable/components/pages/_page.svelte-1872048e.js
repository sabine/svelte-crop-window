var $r=Object.defineProperty;var el=(e,t,n)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>(el(e,typeof t!="symbol"?t+"":t,n),n);import{S as Qt,i as $t,s as en,e as Wn,b as ke,A as tr,h as d,H as Rr,o as Is,I as Ae,k as f,l as p,m as _,n as u,J as q,K as tl,L as Xn,f as se,g as wi,t as ce,d as Ei,v as Ne,a as M,w as Re,c as N,x as Te,y as Oe,M as wt,N as nr,O as Et,P as Dr,Q as nl,R as Fn,F as s,T as ir,U as or,V as sr,B as il,C as ol,D as sl,E as al,W as ar,j as rl,X as Ns,Y as ll,Z as rr,_ as cl,$ as ul,q as y,a0 as dl,a1 as gl,r as k,p as te,a2 as et,u as lr,a3 as mi,a4 as hl}from"../../chunks/index-4b9273a9.js";import{b as jr}from"../../chunks/paths-6cd3a76e.js";function cr(e,t,n){const l=e.slice();return l[10]=t[n],l}function fl(e){let t,n,l,r,c=Array.isArray(e[0].url)?e[0].url:[{src:e[0].url}],o=[];for(let i=0;i<c.length;i+=1)o[i]=ur(cr(e,c,i));return{c(){t=f("video");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){t=p(i,"VIDEO",{style:!0,class:!0});var a=_(t);for(let h=0;h<o.length;h+=1)o[h].l(a);a.forEach(d),this.h()},h(){t.autoplay=!0,t.loop=!0,t.muted=!0,u(t,"style",n=`transform: translateX(-50%) translateY(-50%) rotate(${e[3]}deg);height: ${e[2]}px;margin-left: ${e[1].x}px;margin-top: ${e[1].y}px;`),t.controls=!1,u(t,"class","svelte-gles9i")},m(i,a){ke(i,t,a);for(let h=0;h<o.length;h+=1)o[h].m(t,null);e[8](t),l||(r=q(t,"loadedmetadata",e[6]),l=!0)},p(i,a){if(a&1){c=Array.isArray(i[0].url)?i[0].url:[{src:i[0].url}];let h;for(h=0;h<c.length;h+=1){const E=cr(i,c,h);o[h]?o[h].p(E,a):(o[h]=ur(E),o[h].c(),o[h].m(t,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=c.length}a&14&&n!==(n=`transform: translateX(-50%) translateY(-50%) rotate(${i[3]}deg);height: ${i[2]}px;margin-left: ${i[1].x}px;margin-top: ${i[1].y}px;`)&&u(t,"style",n)},d(i){i&&d(t),tl(o,i),e[8](null),l=!1,r()}}}function pl(e){let t,n,l,r,c;return{c(){t=f("img"),this.h()},l(o){t=p(o,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){Xn(t.src,n=e[0].url)||u(t,"src",n),u(t,"alt","image to be cropped"),u(t,"style",l=`transform: translateX(-50%) translateY(-50%) rotate(${e[3]}deg);height: ${e[2]}px;margin-left: ${e[1].x}px;margin-top: ${e[1].y}px;`),u(t,"class","svelte-gles9i")},m(o,i){ke(o,t,i),e[7](t),r||(c=q(t,"load",e[6]),r=!0)},p(o,i){i&1&&!Xn(t.src,n=o[0].url)&&u(t,"src",n),i&14&&l!==(l=`transform: translateX(-50%) translateY(-50%) rotate(${o[3]}deg);height: ${o[2]}px;margin-left: ${o[1].x}px;margin-top: ${o[1].y}px;`)&&u(t,"style",l)},d(o){o&&d(t),e[7](null),r=!1,c()}}}function ur(e){let t,n;return{c(){t=f("source"),this.h()},l(l){t=p(l,"SOURCE",{src:!0}),this.h()},h(){Xn(t.src,n=e[10].src)||u(t,"src",n)},m(l,r){ke(l,t,r)},p(l,r){r&1&&!Xn(t.src,n=l[10].src)&&u(t,"src",n)},d(l){l&&d(t)}}}function _l(e){let t;function n(c,o){if(c[0]&&c[0].content_type=="image")return pl;if(c[0]&&c[0].content_type=="video")return fl}let l=n(e),r=l&&l(e);return{c(){r&&r.c(),t=Wn()},l(c){r&&r.l(c),t=Wn()},m(c,o){r&&r.m(c,o),ke(c,t,o)},p(c,[o]){l===(l=n(c))&&r?r.p(c,o):(r&&r.d(1),r=l&&l(c),r&&(r.c(),r.m(t.parentNode,t)))},i:tr,o:tr,d(c){r&&r.d(c),c&&d(t)}}}function ml(e,t,n){let{media:l}=t,{position:r={x:0,y:0}}=t,{height:c=1}=t,{rotation:o=0}=t,i,a,h=Rr();function E(){if(i||a){const D=(i==null?void 0:i.naturalWidth)||(a==null?void 0:a.videoWidth)||0,I=(i==null?void 0:i.naturalHeight)||(a==null?void 0:a.videoHeight)||0;h("media_size",{width:D,height:I})}}Is(()=>{i&&i.complete&&E()});function x(T){Ae[T?"unshift":"push"](()=>{i=T,n(4,i)})}function H(T){Ae[T?"unshift":"push"](()=>{a=T,n(5,a)})}return e.$$set=T=>{"media"in T&&n(0,l=T.media),"position"in T&&n(1,r=T.position),"height"in T&&n(2,c=T.height),"rotation"in T&&n(3,o=T.rotation)},[l,r,c,o,i,a,E,x,H]}class vl extends Qt{constructor(t){super(),$t(this,t,ml,_l,en,{media:0,position:1,height:2,rotation:3})}}function Ts(e,t){let n=t/180*Math.PI;return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.y*Math.cos(n)+e.x*Math.sin(n)}}function ve(...e){let t={x:0,y:0};for(var n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return t}function De(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ze(e,t){return{x:e.x*t,y:e.y*t}}function vt(e,t,n){let{x:l,y:r}=Ts({x:e.x-t.x,y:e.y-t.y},n);return{x:l+t.x,y:r+t.y}}function Os(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function vi(e,t){let n=-Math.atan2(e.y-t.y,t.x-e.x)*(180/Math.PI);return n<0?n+360:n}function As(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function bl(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Cr(e){e.rafTimeout&&window.cancelAnimationFrame(e.rafTimeout),e.rafTimeout=window.requestAnimationFrame(t=>{e.start_time||(e.start_time=t);const n=Math.min((t-e.start_time)/e.duration,1);let l=bl(n);if(e.offset===void 0||e.scale===void 0)throw"animation lacks start or end position/scale";e.on_progress({x:(1-l)*e.offset.x,y:(1-l)*e.offset.y},(1-l)*e.scale+l*1),n<1?Cr(e):e.abort()})}class wl{constructor(t,n){$e(this,"duration",500);$e(this,"start_time",null);$e(this,"offset");$e(this,"scale");$e(this,"rafTimeout",null);$e(this,"start",(t,n)=>{this.start_time=null,this.offset=t,this.scale=n,Cr(this)});$e(this,"abort",()=>{this.rafTimeout&&window.cancelAnimationFrame(this.rafTimeout),this.on_end(),this.start_time=null,this.offset=void 0,this.scale=void 0});$e(this,"on_progress");$e(this,"on_end");this.on_progress=t,this.on_end=n}}function dr(e){let t,n,l,r,c;t=new vl({props:{media:e[1],height:e[0].scale*e[12]*e[13]*e[5].height,position:ve(e[6],Ze(ve(e[0].position,e[7],e[9],e[8],e[10]),e[5].height)),rotation:e[0].rotation+e[11]}}),t.$on("media_size",e[14]);var o=e[2].overlay;function i(a){return{props:{options:a[2].overlay_options,show_lines:a[3],shape:a[2].shape}}}return o&&(r=new o(i(e))),{c(){Ne(t.$$.fragment),n=M(),l=f("div"),r&&Ne(r.$$.fragment),this.h()},l(a){Re(t.$$.fragment,a),n=N(a),l=p(a,"DIV",{class:!0});var h=_(l);r&&Re(r.$$.fragment,h),h.forEach(d),this.h()},h(){u(l,"class","inner svelte-143jpe6")},m(a,h){Te(t,a,h),ke(a,n,h),ke(a,l,h),r&&Te(r,l,null),c=!0},p(a,h){const E={};h[0]&2&&(E.media=a[1]),h[0]&12321&&(E.height=a[0].scale*a[12]*a[13]*a[5].height),h[0]&2017&&(E.position=ve(a[6],Ze(ve(a[0].position,a[7],a[9],a[8],a[10]),a[5].height))),h[0]&2049&&(E.rotation=a[0].rotation+a[11]),t.$set(E);const x={};if(h[0]&4&&(x.options=a[2].overlay_options),h[0]&8&&(x.show_lines=a[3]),h[0]&4&&(x.shape=a[2].shape),o!==(o=a[2].overlay)){if(r){wi();const H=r;ce(H.$$.fragment,1,0,()=>{Oe(H,1)}),Ei()}o?(r=new o(i(a)),Ne(r.$$.fragment),se(r.$$.fragment,1),Te(r,l,null)):r=null}else o&&r.$set(x)},i(a){c||(se(t.$$.fragment,a),r&&se(r.$$.fragment,a),c=!0)},o(a){ce(t.$$.fragment,a),r&&ce(r.$$.fragment,a),c=!1},d(a){Oe(t,a),a&&d(n),a&&d(l),r&&Oe(r)}}}function El(e){let t,n,l=e[5]&&e[4]&&dr(e);return{c(){l&&l.c(),t=Wn()},l(r){l&&l.l(r),t=Wn()},m(r,c){l&&l.m(r,c),ke(r,t,c),n=!0},p(r,c){r[5]&&r[4]?l?(l.p(r,c),c[0]&48&&se(l,1)):(l=dr(r),l.c(),se(l,1),l.m(t.parentNode,t)):l&&(wi(),ce(l,1,1,()=>{l=null}),Ei())},i(r){n||(se(l),n=!0)},o(r){ce(l),n=!1},d(r){l&&l.d(r),r&&d(t)}}}function yl(e,t,n){let{media:l}=t,{options:r}=t,{show_lines:c=!1}=t,{outer_size:o}=t,{crop_window_size:i}=t;function a(w,B){let X=De(B,ve(Q,Ze(ve(b.position,z,ae,Z),i.height))),ee=w/b.scale,ie={x:-X.x*(ee-G)/G/i.height,y:-X.y*(ee-G)/G/i.height};n(8,Z=ve(Z,ie)),n(12,G=ee),A.abort()}function h(w,B){if(!_e)throw"image points not defined";n(11,J=B-b.rotation);let X=vt(w,_e.center,J);n(9,ae=Ze(De(w,X),1/i.height)),A.abort()}function E(w){n(7,z=De(w,b.position)),A.abort()}function x(w,B){let X=De(B,ve(Q,Ze(ve(b.position,z,ae,Z),i.height))),ee=w*G,ie={x:-X.x*(ee-G)/G/i.height,y:-X.y*(ee-G)/G/i.height};n(8,Z=ve(Z,ie)),n(12,G=ee),A.abort()}function H(w,B){if(!_e)throw"image points not defined";n(11,J=J+B);let X=vt(w,_e.center,J);n(9,ae=Ze(De(w,X),1/i.height)),A.abort()}function T(w){n(7,z=ve(z,w)),A.abort()}function D(w){n(0,b.rotation=b.rotation+J,b),n(11,J=0),n(0,b.scale=b.scale*G,b),n(12,G=1),n(0,b.position=ve(b.position,z,ae,Z),b),n(7,z={x:0,y:0}),n(9,ae={x:0,y:0}),n(8,Z={x:0,y:0}),R(w)}function I(w){let B=Ze(b.position,i.height);return ve(Ts(w,b.rotation),B,Q)}function F(w){C={...w.detail,aspect:w.detail.width/w.detail.height},D(!0)}let A=new wl((w,B)=>{n(10,fe=w),n(13,ue=B)},()=>{n(7,z=ve(z,fe)),n(12,G*=ue),n(13,ue=1),n(10,fe={x:0,y:0})}),C,{value:b}=t,z={x:0,y:0},Z={x:0,y:0},ae={x:0,y:0},fe={x:0,y:0},J=0,G=1,ue=1,{center_point:Q}=t,_e,$,V,de,m,g;function S(){if(r.shape=="rect"){let w=(o.width-i.width)/2,B=(o.width-i.width)/2+i.width,X=(o.height-i.height)/2,ee=(o.height-i.height)/2+i.height;V=vt({x:w,y:X},Q,-b.rotation),de=vt({x:B,y:X},Q,-b.rotation),m=vt({x:w,y:ee},Q,-b.rotation),g=vt({x:B,y:ee},Q,-b.rotation)}else V=De(Q,{x:0,y:+i.height/2}),de=De(Q,{x:0,y:-i.height/2}),g=De(Q,{x:+i.width/2,y:0}),m=De(Q,{x:-i.width/2,y:0})}function R(w){if(!C||!o||!i)return;S();let B=Math.max(V.x,de.x,m.x,g.x),X=Math.min(V.x,de.x,m.x,g.x),ee=Math.max(V.y,de.y,m.y,g.y),ie=Math.min(V.y,de.y,m.y,g.y);if(b.scale){let Me=i.height*C.aspect*b.scale,me=i.height*b.scale,st=I({x:-Me/2,y:-me/2}),Se=I({x:Me/2,y:me/2});if(_e={top_left:st,top_right:I({x:Me/2,y:-me/2}),bottom_right:Se,bottom_left:I({x:-Me/2,y:me/2}),center:ve(Os(st,Se))},$=vt(_e.top_left,Q,-b.rotation),X>=$.x&&B<=$.x+i.height*C.aspect*b.scale&&ie>=$.y&&ee<=$.y+i.height*b.scale)return}let Ie=B-X,pe=ee-ie,je=Math.max(Ie/i.height/C.aspect,pe/i.height),Ce=je>b.scale?je:b.scale,Ye=vt(I({x:-i.height*C.aspect*Ce/2,y:-i.height*Ce/2}),Q,-b.rotation),Le={width:i.height*C.aspect*Ce,height:i.height*Ce},kt={x:Math.min(X-Ye.x,0)-Math.min(Ye.x+Le.width+-B,0),y:Math.min(ie-Ye.y,0)-Math.min(Ye.y+Le.height-ee,0)},We=Ze(Ts(kt,b.rotation),1/i.height);(w===void 0||w===!1)&&A.start(Ze(We,-1),b.scale/Ce),n(0,b.position=ve(b.position,We),b),n(0,b.scale=Ce,b)}return e.$$set=w=>{"media"in w&&n(1,l=w.media),"options"in w&&n(2,r=w.options),"show_lines"in w&&n(3,c=w.show_lines),"outer_size"in w&&n(4,o=w.outer_size),"crop_window_size"in w&&n(5,i=w.crop_window_size),"value"in w&&n(0,b=w.value),"center_point"in w&&n(6,Q=w.center_point)},e.$$.update=()=>{e.$$.dirty[0]&1&&b.aspect&&R(!0)},[b,l,r,c,o,i,Q,z,Z,ae,fe,J,G,ue,F,a,h,E,x,H,T,D]}class kl extends Qt{constructor(t){super(),$t(this,t,yl,El,en,{media:1,options:2,show_lines:3,outer_size:4,crop_window_size:5,set_zoom:15,set_rotation:16,set_pan:17,zoom:18,rotate:19,pan:20,commit:21,value:0,center_point:6},null,[-1,-1])}get set_zoom(){return this.$$.ctx[15]}get set_rotation(){return this.$$.ctx[16]}get set_pan(){return this.$$.ctx[17]}get zoom(){return this.$$.ctx[18]}get rotate(){return this.$$.ctx[19]}get pan(){return this.$$.ctx[20]}get commit(){return this.$$.ctx[21]}}function gr(e,t){var n=null;return function(){n&&window.clearTimeout(n),n=window.setTimeout(async function(){e(),n=null},t)}}const hr=25,Ml=35,fr=1.25;function pr(e){return e>fr||e<1/fr}function _r(e){return e<-hr||e>hr}function mr(e){return As(e,{x:0,y:0})>Ml}function Nl(e){let t=[],n,l=0,r={x:0,y:0},c=1;function o(T){let D=e.getBoundingClientRect();return De({x:T.clientX,y:T.clientY},D)}function i(T){let D=t.findIndex(I=>I.identifier==T.identifier);D!=-1?t[D].p=o(T):t.push({p:o(T),identifier:T.identifier})}function a(T){let D=t.findIndex(I=>I.identifier==T);if(D!=-1)return t[D].p}function h(T){T.preventDefault();for(let D of T.changedTouches)i(D);l=0,r={x:0,y:0},c=1,t.length>1&&e.dispatchEvent(new CustomEvent("number_of_touch_points_changed",{detail:null})),window.addEventListener("touchmove",E),window.addEventListener("touchend",H)}function E(T){if(T.touches.length==1){const D=a(T.touches[0].identifier),I=o(T.touches[0]);if(!I)throw"no focal_point";let F={x:0,y:0};D&&(F=De(I,D)),x({focal_point:I,pan:F,rotation:0,scale:1},T.touches)}if(T.touches.length>=2){let D=a(T.touches[0].identifier),I=a(T.touches[1].identifier),F=o(T.touches[0]),A=o(T.touches[1]);const C=D&&I?Os(D,I):void 0,b=Os(F,A);let z=0;D&&I&&(z=vi(F,A)-vi(D,I),_r(l)||(l+=z));let Z={x:0,y:0};C&&(Z=De(b,C),mr(r)||(r=ve(r,Z)));let ae=1;D&&I&&(ae=As(F,A)/As(D,I),pr(c)||(c*=ae));let fe={focal_point:b,pan:mr(r)?Z:{x:0,y:0},rotation:_r(l)?z:0,scale:pr(c)?ae:1};x(fe,T.touches)}}function x(T,D){n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("touch_scale_pan_rotate",{detail:T}));for(let I of D)i(I)})}function H(T){t=[],l=0,c=1,r={x:0,y:0};for(let D of T.touches)i(D);e.dispatchEvent(new CustomEvent("touchend_scale_pan_rotate",{detail:null})),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",H)}return e.addEventListener("touchstart",h),{destroy(){e.removeEventListener("touchstart",h)}}}function _i(e){let t;return e.type==="touchstart"?t=e.touches[0]:e.type==="touchmove"?t=e.changedTouches[0]:t=e,{x:t.clientX,y:t.clientY}}function vr(e){return e.preventDefault(),!1}function Tl(e){let t,n,l;function r(i){if(i.preventDefault(),l===void 0){l=i.button;let a=_i(i),h={x:a.x,y:a.y,mouse_button:l};e.dispatchEvent(new CustomEvent("mouse_draggable_start",{detail:h})),window.addEventListener("mousemove",c),window.addEventListener("mouseup",o)}}function c(i){i.preventDefault();let a=_i(i);const h=a.x-(t||a.x),E=a.y-(n||a.y);t=a.x,n=a.y;let x={x:t,y:n,dx:h,dy:E,mouse_button:l||0};e.dispatchEvent(new CustomEvent("mouse_draggable_move",{detail:x}))}function o(i){i.preventDefault(),t=void 0,n=void 0,l=void 0;let a=_i(i),h={x:a.x,y:a.y,mouse_button:l||0};e.dispatchEvent(new CustomEvent("mouse_draggable_end",{detail:h})),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",o)}return e.addEventListener("mousedown",r),e.addEventListener("contextmenu",vr),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("contextmenu",vr)}}}function Ol(e){let t,n,l,r,c,o,i,a,h,E;function x(A){e[20](A)}function H(A){e[21](A)}function T(A){e[22](A)}function D(A){e[23](A)}function I(A){e[24](A)}let F={options:e[4],center_point:e[5]};return e[2]!==void 0&&(F.outer_size=e[2]),e[8]!==void 0&&(F.show_lines=e[8]),e[3]!==void 0&&(F.crop_window_size=e[3]),e[0]!==void 0&&(F.media=e[0]),e[1]!==void 0&&(F.value=e[1]),n=new kl({props:F}),e[19](n),Ae.push(()=>wt(n,"outer_size",x)),Ae.push(()=>wt(n,"show_lines",H)),Ae.push(()=>wt(n,"crop_window_size",T)),Ae.push(()=>wt(n,"media",D)),Ae.push(()=>wt(n,"value",I)),{c(){t=f("div"),Ne(n.$$.fragment),this.h()},l(A){t=p(A,"DIV",{class:!0});var C=_(t);Re(n.$$.fragment,C),C.forEach(d),this.h()},h(){u(t,"class","outer svelte-8lw7rp")},m(A,C){ke(A,t,C),Te(n,t,null),e[25](t),a=!0,h||(E=[q(t,"gesturestart",br),q(t,"gesturechange",br),nr(Tl.call(null,t)),q(t,"wheel",e[11],{passive:!1}),q(t,"mouse_draggable_move",e[9]),q(t,"mouse_draggable_end",e[10]),nr(Nl.call(null,t)),q(t,"touch_scale_pan_rotate",e[12]),q(t,"number_of_touch_points_changed",e[13]),q(t,"touchend_scale_pan_rotate",e[14])],h=!0)},p(A,[C]){const b={};C&16&&(b.options=A[4]),C&32&&(b.center_point=A[5]),!l&&C&4&&(l=!0,b.outer_size=A[2],Et(()=>l=!1)),!r&&C&256&&(r=!0,b.show_lines=A[8],Et(()=>r=!1)),!c&&C&8&&(c=!0,b.crop_window_size=A[3],Et(()=>c=!1)),!o&&C&1&&(o=!0,b.media=A[0],Et(()=>o=!1)),!i&&C&2&&(i=!0,b.value=A[1],Et(()=>i=!1)),n.$set(b)},i(A){a||(se(n.$$.fragment,A),a=!0)},o(A){ce(n.$$.fragment,A),a=!1},d(A){A&&d(t),e[19](null),Oe(n),e[25](null),h=!1,Dr(E)}}}function br(e){e.preventDefault()}function Al(e,t,n){let{media:l}=t,{value:r}=t,{options:c}=t,o,i,{center_point:a}=t,{outer_size:h}=t,{crop_window_size:E}=t,x=!1;function H(){i.commit()}function T(g){i.set_zoom(g,a)}function D(g){i.set_rotation(a,g)}function I(g){i.set_pan(g)}let F;function A(g){if(g.detail.mouse_button==0){let S={x:g.detail.dx||0,y:g.detail.dy||0};i.pan(Ze(S,1/E.height))}else{let S=o.getBoundingClientRect();const R=De(g.detail,S);let w=F?vi(R,a)-vi(F,a):0;F=R,i.rotate(a,w)}n(8,x=!0)}function C(){F=void 0,J()}function b(g){g.preventDefault();var R=g.detail<0||g.deltaY>0?1:-1;const w=1+1/10,B=R===1?w:1/w;let X=o.getBoundingClientRect();const ee=De(_i(g),X);n(8,x=!0),i.zoom(B,ee),J()}let z;function Z(g){z||(z=g.detail.focal_point),n(8,x=!0),i.zoom(g.detail.scale,z),i.rotate(z,g.detail.rotation),i.pan(Ze(g.detail.pan,1/E.height))}function ae(){z=void 0,i.commit()}function fe(){z=void 0,J()}let J,G;Is(()=>{J=gr(()=>{G(),i.commit()},200),G=gr(()=>{n(8,x=!1)},1600)});function ue(g){Ae[g?"unshift":"push"](()=>{i=g,n(7,i)})}function Q(g){h=g,n(2,h)}function _e(g){x=g,n(8,x)}function $(g){E=g,n(3,E)}function V(g){l=g,n(0,l)}function de(g){r=g,n(1,r)}function m(g){Ae[g?"unshift":"push"](()=>{o=g,n(6,o)})}return e.$$set=g=>{"media"in g&&n(0,l=g.media),"value"in g&&n(1,r=g.value),"options"in g&&n(4,c=g.options),"center_point"in g&&n(5,a=g.center_point),"outer_size"in g&&n(2,h=g.outer_size),"crop_window_size"in g&&n(3,E=g.crop_window_size)},[l,r,h,E,c,a,o,i,x,A,C,b,Z,ae,fe,H,T,D,I,ue,Q,_e,$,V,de,m]}class Il extends Qt{constructor(t){super(),$t(this,t,Al,Ol,en,{media:0,value:1,options:4,center_point:5,outer_size:2,crop_window_size:3,commit:15,set_zoom:16,set_rotation:17,set_pan:18})}get commit(){return this.$$.ctx[15]}get set_zoom(){return this.$$.ctx[16]}get set_rotation(){return this.$$.ctx[17]}get set_pan(){return this.$$.ctx[18]}}function hi(e,{delay:t=0,duration:n=400,easing:l=nl}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:l,css:c=>`opacity: ${c*r}`}}function wr(e){let t,n,l,r,c,o,i,a;return{c(){t=f("div"),r=M(),c=f("div"),this.h()},l(h){t=p(h,"DIV",{class:!0}),_(t).forEach(d),r=N(h),c=p(h,"DIV",{class:!0}),_(c).forEach(d),this.h()},h(){u(t,"class","vertical-lines svelte-13w42c5"),u(c,"class","horizontal-lines svelte-13w42c5")},m(h,E){ke(h,t,E),ke(h,r,E),ke(h,c,E),a=!0},i(h){a||(ir(()=>{l&&l.end(1),n=or(t,hi,{duration:100}),n.start()}),ir(()=>{i&&i.end(1),o=or(c,hi,{duration:100}),o.start()}),a=!0)},o(h){n&&n.invalidate(),l=sr(t,hi,{duration:1e3}),o&&o.invalidate(),i=sr(c,hi,{duration:1e3}),a=!1},d(h){h&&d(t),h&&l&&l.end(),h&&d(r),h&&d(c),h&&i&&i.end()}}}function Sl(e){let t,n,l,r,c,o=e[2]&&wr();return{c(){t=f("div"),o&&o.c(),n=M(),l=f("div"),this.h()},l(i){t=p(i,"DIV",{class:!0,style:!0});var a=_(t);o&&o.l(a),n=N(a),l=p(a,"DIV",{class:!0}),_(l).forEach(d),a.forEach(d),this.h()},h(){u(l,"class","box svelte-13w42c5"),u(t,"class","crop-window svelte-13w42c5"),u(t,"style",r=`--outline-color:${e[1].line_color};
--overlay-color:${e[1].overlay_color};`),Fn(t,"round",e[0]=="round")},m(i,a){ke(i,t,a),o&&o.m(t,null),s(t,n),s(t,l),c=!0},p(i,[a]){i[2]?o?a&4&&se(o,1):(o=wr(),o.c(),se(o,1),o.m(t,n)):o&&(wi(),ce(o,1,1,()=>{o=null}),Ei()),(!c||a&2&&r!==(r=`--outline-color:${i[1].line_color};
--overlay-color:${i[1].overlay_color};`))&&u(t,"style",r),(!c||a&1)&&Fn(t,"round",i[0]=="round")},i(i){c||(se(o),c=!0)},o(i){ce(o),c=!1},d(i){i&&d(t),o&&o.d()}}}function xl(e,t,n){let{shape:l}=t,{options:r}=t,{show_lines:c}=t;return e.$$set=o=>{"shape"in o&&n(0,l=o.shape),"options"in o&&n(1,r=o.options),"show_lines"in o&&n(2,c=o.show_lines)},[l,r,c]}class Rl extends Qt{constructor(t){super(),$t(this,t,xl,Sl,en,{shape:0,options:1,show_lines:2})}}const Lr={shape:"rect",crop_window_margin:10,overlay:Rl,overlay_options:{line_color:"#FFFFFF",overlay_color:"#222222"}},zr={position:{x:0,y:0},aspect:1,rotation:0,scale:0};function Er(e){let t,n,l;function r(o){e[14](o)}let c={options:e[2],media:e[1],crop_window_size:e[5],outer_size:e[4],center_point:e[6]};return e[0]!==void 0&&(c.value=e[0]),t=new Il({props:c}),e[13](t),Ae.push(()=>wt(t,"value",r)),{c(){Ne(t.$$.fragment)},l(o){Re(t.$$.fragment,o)},m(o,i){Te(t,o,i),l=!0},p(o,i){const a={};i&4&&(a.options=o[2]),i&2&&(a.media=o[1]),i&32&&(a.crop_window_size=o[5]),i&16&&(a.outer_size=o[4]),i&64&&(a.center_point=o[6]),!n&&i&1&&(n=!0,a.value=o[0],Et(()=>n=!1)),t.$set(a)},i(o){l||(se(t.$$.fragment,o),l=!0)},o(o){ce(t.$$.fragment,o),l=!1},d(o){e[13](null),Oe(t,o)}}}function Dl(e){let t,n,l,r,c,o=e[5]&&e[4]&&e[6]&&Er(e);return{c(){t=f("div"),o&&o.c(),this.h()},l(i){t=p(i,"DIV",{class:!0,style:!0});var a=_(t);o&&o.l(a),a.forEach(d),this.h()},h(){var i,a,h,E;u(t,"class","outer svelte-5oeq2h"),u(t,"style",n=`--crop-window-height:${((i=e[5])==null?void 0:i.height)||0}px;
--crop-window-width:${((a=e[5])==null?void 0:a.width)||0}px;
--outer-height:${((h=e[4])==null?void 0:h.height)||0}px;
--outer-width:${((E=e[4])==null?void 0:E.width)||0}px;`)},m(i,a){ke(i,t,a),o&&o.m(t,null),e[15](t),l=!0,r||(c=q(window,"resize",e[8]),r=!0)},p(i,[a]){var h,E,x,H;i[5]&&i[4]&&i[6]?o?(o.p(i,a),a&112&&se(o,1)):(o=Er(i),o.c(),se(o,1),o.m(t,null)):o&&(wi(),ce(o,1,1,()=>{o=null}),Ei()),(!l||a&48&&n!==(n=`--crop-window-height:${((h=i[5])==null?void 0:h.height)||0}px;
--crop-window-width:${((E=i[5])==null?void 0:E.width)||0}px;
--outer-height:${((x=i[4])==null?void 0:x.height)||0}px;
--outer-width:${((H=i[4])==null?void 0:H.width)||0}px;`))&&u(t,"style",n)},i(i){l||(se(o),l=!0)},o(i){ce(o),l=!1},d(i){i&&d(t),o&&o.d(),e[15](null),r=!1,c()}}}function jl(e,t,n){let{media:l}=t,{value:r=zr}=t,{options:c}=t;if(c.shape=="round"&&r.aspect!=1)throw"round crops must be circles!";let o,i,a;function h(){I.commit()}function E(b){I.set_zoom(b)}function x(b){I.set_rotation(b)}function H(b){I.set_pan(b)}Is(()=>{T()});function T(){let b=D.getBoundingClientRect();n(4,o={width:b.width,height:b.height}),n(6,a={x:b.width/2,y:b.height/2}),n(5,i=o.width/o.height>r.aspect?{height:o.height-2*c.crop_window_margin,width:(o.height-2*c.crop_window_margin)*r.aspect}:{height:(o.width-2*c.crop_window_margin)/r.aspect,width:o.width-2*c.crop_window_margin})}let D,I;function F(b){Ae[b?"unshift":"push"](()=>{I=b,n(7,I)})}function A(b){r=b,n(0,r)}function C(b){Ae[b?"unshift":"push"](()=>{D=b,n(3,D)})}return e.$$set=b=>{"media"in b&&n(1,l=b.media),"value"in b&&n(0,r=b.value),"options"in b&&n(2,c=b.options)},e.$$.update=()=>{e.$$.dirty&9&&D&&r.aspect&&T()},[r,l,c,D,o,i,a,I,T,h,E,x,H,F,A,C]}class yr extends Qt{constructor(t){super(),$t(this,t,jl,Dl,en,{media:1,value:0,options:2,commit:9,set_zoom:10,set_rotation:11,set_pan:12})}get commit(){return this.$$.ctx[9]}get set_zoom(){return this.$$.ctx[10]}get set_rotation(){return this.$$.ctx[11]}get set_pan(){return this.$$.ctx[12]}}var Ss={exports:{}};function xs(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&xs(n)}),e}Ss.exports=xs;Ss.exports.default=xs;class kr{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Br(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function yt(e,...t){const n=Object.create(null);for(const l in e)n[l]=e[l];return t.forEach(function(l){for(const r in l)n[r]=l[r]}),n}const Cl="</span>",Mr=e=>!!e.scope||e.sublanguage&&e.language,Ll=(e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((l,r)=>`${l}${"_".repeat(r+1)}`)].join(" ")}return`${t}${e}`};class zl{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Br(t)}openNode(t){if(!Mr(t))return;let n="";t.sublanguage?n=`language-${t.language}`:n=Ll(t.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(t){!Mr(t)||(this.buffer+=Cl)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Nr=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class Rs{constructor(){this.rootNode=Nr(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Nr({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(l=>this._walk(t,l)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{Rs._collapse(n)})))}}class Bl extends Rs{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const l=t.root;l.sublanguage=!0,l.language=n,this.add(l)}toHTML(){return new zl(this,this.options).value()}finalize(){return!0}}function Qn(e){return e?typeof e=="string"?e:e.source:null}function Pr(e){return tn("(?=",e,")")}function Pl(e){return tn("(?:",e,")*")}function Hl(e){return tn("(?:",e,")?")}function tn(...e){return e.map(n=>Qn(n)).join("")}function Ul(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Ds(...e){const t=Ul(e);return"("+(t.capture?"":"?:")+e.map(l=>Qn(l)).join("|")+")"}function Hr(e){return new RegExp(e.toString()+"|").exec("").length-1}function Vl(e,t){const n=e&&e.exec(t);return n&&n.index===0}const Gl=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function js(e,{joinWith:t}){let n=0;return e.map(l=>{n+=1;const r=n;let c=Qn(l),o="";for(;c.length>0;){const i=Gl.exec(c);if(!i){o+=c;break}o+=c.substring(0,i.index),c=c.substring(i.index+i[0].length),i[0][0]==="\\"&&i[1]?o+="\\"+String(Number(i[1])+r):(o+=i[0],i[0]==="("&&n++)}return o}).map(l=>`(${l})`).join(t)}const Fl=/\b\B/,Ur="[a-zA-Z]\\w*",Cs="[a-zA-Z_]\\w*",Vr="\\b\\d+(\\.\\d+)?",Gr="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Fr="\\b(0b[01]+)",Wl="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Xl=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=tn(t,/.*\b/,e.binary,/\b.*/)),yt({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,l)=>{n.index!==0&&l.ignoreMatch()}},e)},$n={begin:"\\\\[\\s\\S]",relevance:0},Kl={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[$n]},Zl={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[$n]},Yl={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},yi=function(e,t,n={}){const l=yt({scope:"comment",begin:e,end:t,contains:[]},n);l.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=Ds("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return l.contains.push({begin:tn(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),l},ql=yi("//","$"),Jl=yi("/\\*","\\*/"),Ql=yi("#","$"),$l={scope:"number",begin:Vr,relevance:0},ec={scope:"number",begin:Gr,relevance:0},tc={scope:"number",begin:Fr,relevance:0},nc={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[$n,{begin:/\[/,end:/\]/,relevance:0,contains:[$n]}]}]},ic={scope:"title",begin:Ur,relevance:0},oc={scope:"title",begin:Cs,relevance:0},sc={begin:"\\.\\s*"+Cs,relevance:0},ac=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var fi=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Fl,IDENT_RE:Ur,UNDERSCORE_IDENT_RE:Cs,NUMBER_RE:Vr,C_NUMBER_RE:Gr,BINARY_NUMBER_RE:Fr,RE_STARTERS_RE:Wl,SHEBANG:Xl,BACKSLASH_ESCAPE:$n,APOS_STRING_MODE:Kl,QUOTE_STRING_MODE:Zl,PHRASAL_WORDS_MODE:Yl,COMMENT:yi,C_LINE_COMMENT_MODE:ql,C_BLOCK_COMMENT_MODE:Jl,HASH_COMMENT_MODE:Ql,NUMBER_MODE:$l,C_NUMBER_MODE:ec,BINARY_NUMBER_MODE:tc,REGEXP_MODE:nc,TITLE_MODE:ic,UNDERSCORE_TITLE_MODE:oc,METHOD_GUARD:sc,END_SAME_AS_BEGIN:ac});function rc(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function lc(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function cc(e,t){!t||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=rc,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function uc(e,t){!Array.isArray(e.illegal)||(e.illegal=Ds(...e.illegal))}function dc(e,t){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function gc(e,t){e.relevance===void 0&&(e.relevance=1)}const hc=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(l=>{delete e[l]}),e.keywords=n.keywords,e.begin=tn(n.beforeMatch,Pr(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},fc=["of","and","for","in","not","or","if","then","parent","list","value"],pc="keyword";function Wr(e,t,n=pc){const l=Object.create(null);return typeof e=="string"?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(c){Object.assign(l,Wr(e[c],t,c))}),l;function r(c,o){t&&(o=o.map(i=>i.toLowerCase())),o.forEach(function(i){const a=i.split("|");l[a[0]]=[c,_c(a[0],a[1])]})}}function _c(e,t){return t?Number(t):mc(e)?0:1}function mc(e){return fc.includes(e.toLowerCase())}const Tr={},Jt=e=>{console.error(e)},Or=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Gn=(e,t)=>{Tr[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Tr[`${e}/${t}`]=!0)},bi=new Error;function Xr(e,t,{key:n}){let l=0;const r=e[n],c={},o={};for(let i=1;i<=t.length;i++)o[i+l]=r[i],c[i+l]=!0,l+=Hr(t[i-1]);e[n]=o,e[n]._emit=c,e[n]._multi=!0}function vc(e){if(!!Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Jt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),bi;if(typeof e.beginScope!="object"||e.beginScope===null)throw Jt("beginScope must be object"),bi;Xr(e,e.begin,{key:"beginScope"}),e.begin=js(e.begin,{joinWith:""})}}function bc(e){if(!!Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Jt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),bi;if(typeof e.endScope!="object"||e.endScope===null)throw Jt("endScope must be object"),bi;Xr(e,e.end,{key:"endScope"}),e.end=js(e.end,{joinWith:""})}}function wc(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Ec(e){wc(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),vc(e),bc(e)}function yc(e){function t(o,i){return new RegExp(Qn(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(i?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(i,a){a.position=this.position++,this.matchIndexes[this.matchAt]=a,this.regexes.push([a,i]),this.matchAt+=Hr(i)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const i=this.regexes.map(a=>a[1]);this.matcherRe=t(js(i,{joinWith:"|"}),!0),this.lastIndex=0}exec(i){this.matcherRe.lastIndex=this.lastIndex;const a=this.matcherRe.exec(i);if(!a)return null;const h=a.findIndex((x,H)=>H>0&&x!==void 0),E=this.matchIndexes[h];return a.splice(0,h),Object.assign(a,E)}}class l{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(i){if(this.multiRegexes[i])return this.multiRegexes[i];const a=new n;return this.rules.slice(i).forEach(([h,E])=>a.addRule(h,E)),a.compile(),this.multiRegexes[i]=a,a}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(i,a){this.rules.push([i,a]),a.type==="begin"&&this.count++}exec(i){const a=this.getMatcher(this.regexIndex);a.lastIndex=this.lastIndex;let h=a.exec(i);if(this.resumingScanAtSamePosition()&&!(h&&h.index===this.lastIndex)){const E=this.getMatcher(0);E.lastIndex=this.lastIndex+1,h=E.exec(i)}return h&&(this.regexIndex+=h.position+1,this.regexIndex===this.count&&this.considerAll()),h}}function r(o){const i=new l;return o.contains.forEach(a=>i.addRule(a.begin,{rule:a,type:"begin"})),o.terminatorEnd&&i.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&i.addRule(o.illegal,{type:"illegal"}),i}function c(o,i){const a=o;if(o.isCompiled)return a;[lc,dc,Ec,hc].forEach(E=>E(o,i)),e.compilerExtensions.forEach(E=>E(o,i)),o.__beforeBegin=null,[cc,uc,gc].forEach(E=>E(o,i)),o.isCompiled=!0;let h=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),h=o.keywords.$pattern,delete o.keywords.$pattern),h=h||/\w+/,o.keywords&&(o.keywords=Wr(o.keywords,e.case_insensitive)),a.keywordPatternRe=t(h,!0),i&&(o.begin||(o.begin=/\B|\b/),a.beginRe=t(a.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(a.endRe=t(a.end)),a.terminatorEnd=Qn(a.end)||"",o.endsWithParent&&i.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+i.terminatorEnd)),o.illegal&&(a.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(E){return kc(E==="self"?o:E)})),o.contains.forEach(function(E){c(E,a)}),o.starts&&c(o.starts,i),a.matcher=r(a),a}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=yt(e.classNameAliases||{}),c(e)}function Kr(e){return e?e.endsWithParent||Kr(e.starts):!1}function kc(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return yt(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Kr(e)?yt(e,{starts:e.starts?yt(e.starts):null}):Object.isFrozen(e)?yt(e):e}var Mc="11.6.0";class Nc extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Ms=Br,Ar=yt,Ir=Symbol("nomatch"),Tc=7,Oc=function(e){const t=Object.create(null),n=Object.create(null),l=[];let r=!0;const c="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let i={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Bl};function a(m){return i.noHighlightRe.test(m)}function h(m){let g=m.className+" ";g+=m.parentNode?m.parentNode.className:"";const S=i.languageDetectRe.exec(g);if(S){const R=G(S[1]);return R||(Or(c.replace("{}",S[1])),Or("Falling back to no-highlight mode for this block.",m)),R?S[1]:"no-highlight"}return g.split(/\s+/).find(R=>a(R)||G(R))}function E(m,g,S){let R="",w="";typeof g=="object"?(R=m,S=g.ignoreIllegals,w=g.language):(Gn("10.7.0","highlight(lang, code, ...args) has been deprecated."),Gn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),w=m,R=g),S===void 0&&(S=!0);const B={code:R,language:w};V("before:highlight",B);const X=B.result?B.result:x(B.language,B.code,S);return X.code=B.code,V("after:highlight",X),X}function x(m,g,S,R){const w=Object.create(null);function B(v,O){return v.keywords[O]}function X(){if(!j.keywords){ne.addText(Y);return}let v=0;j.keywordPatternRe.lastIndex=0;let O=j.keywordPatternRe.exec(Y),L="";for(;O;){L+=Y.substring(v,O.index);const W=me.case_insensitive?O[0].toLowerCase():O[0],oe=B(j,W);if(oe){const[re,on]=oe;if(ne.addText(L),L="",w[W]=(w[W]||0)+1,w[W]<=Tc&&(at+=on),re.startsWith("_"))L+=O[0];else{const Kn=me.classNameAliases[re]||re;ne.addKeyword(O[0],Kn)}}else L+=O[0];v=j.keywordPatternRe.lastIndex,O=j.keywordPatternRe.exec(Y)}L+=Y.substring(v),ne.addText(L)}function ee(){if(Y==="")return;let v=null;if(typeof j.subLanguage=="string"){if(!t[j.subLanguage]){ne.addText(Y);return}v=x(j.subLanguage,Y,!0,nn[j.subLanguage]),nn[j.subLanguage]=v._top}else v=T(Y,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(at+=v.relevance),ne.addSublanguage(v._emitter,v.language)}function ie(){j.subLanguage!=null?ee():X(),Y=""}function Ie(v,O){let L=1;const W=O.length-1;for(;L<=W;){if(!v._emit[L]){L++;continue}const oe=me.classNameAliases[v[L]]||v[L],re=O[L];oe?ne.addKeyword(re,oe):(Y=re,X(),Y=""),L++}}function pe(v,O){return v.scope&&typeof v.scope=="string"&&ne.openNode(me.classNameAliases[v.scope]||v.scope),v.beginScope&&(v.beginScope._wrap?(ne.addKeyword(Y,me.classNameAliases[v.beginScope._wrap]||v.beginScope._wrap),Y=""):v.beginScope._multi&&(Ie(v.beginScope,O),Y="")),j=Object.create(v,{parent:{value:j}}),j}function je(v,O,L){let W=Vl(v.endRe,L);if(W){if(v["on:end"]){const oe=new kr(v);v["on:end"](O,oe),oe.isMatchIgnored&&(W=!1)}if(W){for(;v.endsParent&&v.parent;)v=v.parent;return v}}if(v.endsWithParent)return je(v.parent,O,L)}function Ce(v){return j.matcher.regexIndex===0?(Y+=v[0],1):(Nt=!0,0)}function Ye(v){const O=v[0],L=v.rule,W=new kr(L),oe=[L.__beforeBegin,L["on:begin"]];for(const re of oe)if(!!re&&(re(v,W),W.isMatchIgnored))return Ce(O);return L.skip?Y+=O:(L.excludeBegin&&(Y+=O),ie(),!L.returnBegin&&!L.excludeBegin&&(Y=O)),pe(L,v),L.returnBegin?0:O.length}function Le(v){const O=v[0],L=g.substring(v.index),W=je(j,v,L);if(!W)return Ir;const oe=j;j.endScope&&j.endScope._wrap?(ie(),ne.addKeyword(O,j.endScope._wrap)):j.endScope&&j.endScope._multi?(ie(),Ie(j.endScope,v)):oe.skip?Y+=O:(oe.returnEnd||oe.excludeEnd||(Y+=O),ie(),oe.excludeEnd&&(Y=O));do j.scope&&ne.closeNode(),!j.skip&&!j.subLanguage&&(at+=j.relevance),j=j.parent;while(j!==W.parent);return W.starts&&pe(W.starts,v),oe.returnEnd?0:O.length}function kt(){const v=[];for(let O=j;O!==me;O=O.parent)O.scope&&v.unshift(O.scope);v.forEach(O=>ne.openNode(O))}let We={};function Me(v,O){const L=O&&O[0];if(Y+=v,L==null)return ie(),0;if(We.type==="begin"&&O.type==="end"&&We.index===O.index&&L===""){if(Y+=g.slice(O.index,O.index+1),!r){const W=new Error(`0 width match regex (${m})`);throw W.languageName=m,W.badRule=We.rule,W}return 1}if(We=O,O.type==="begin")return Ye(O);if(O.type==="illegal"&&!S){const W=new Error('Illegal lexeme "'+L+'" for mode "'+(j.scope||"<unnamed>")+'"');throw W.mode=j,W}else if(O.type==="end"){const W=Le(O);if(W!==Ir)return W}if(O.type==="illegal"&&L==="")return 1;if(Mt>1e5&&Mt>O.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Y+=L,L.length}const me=G(m);if(!me)throw Jt(c.replace("{}",m)),new Error('Unknown language: "'+m+'"');const st=yc(me);let Se="",j=R||st;const nn={},ne=new i.__emitter(i);kt();let Y="",at=0,xe=0,Mt=0,Nt=!1;try{for(j.matcher.considerAll();;){Mt++,Nt?Nt=!1:j.matcher.considerAll(),j.matcher.lastIndex=xe;const v=j.matcher.exec(g);if(!v)break;const O=g.substring(xe,v.index),L=Me(O,v);xe=v.index+L}return Me(g.substring(xe)),ne.closeAllNodes(),ne.finalize(),Se=ne.toHTML(),{language:m,value:Se,relevance:at,illegal:!1,_emitter:ne,_top:j}}catch(v){if(v.message&&v.message.includes("Illegal"))return{language:m,value:Ms(g),illegal:!0,relevance:0,_illegalBy:{message:v.message,index:xe,context:g.slice(xe-100,xe+100),mode:v.mode,resultSoFar:Se},_emitter:ne};if(r)return{language:m,value:Ms(g),illegal:!1,relevance:0,errorRaised:v,_emitter:ne,_top:j};throw v}}function H(m){const g={value:Ms(m),illegal:!1,relevance:0,_top:o,_emitter:new i.__emitter(i)};return g._emitter.addText(m),g}function T(m,g){g=g||i.languages||Object.keys(t);const S=H(m),R=g.filter(G).filter(Q).map(ie=>x(ie,m,!1));R.unshift(S);const w=R.sort((ie,Ie)=>{if(ie.relevance!==Ie.relevance)return Ie.relevance-ie.relevance;if(ie.language&&Ie.language){if(G(ie.language).supersetOf===Ie.language)return 1;if(G(Ie.language).supersetOf===ie.language)return-1}return 0}),[B,X]=w,ee=B;return ee.secondBest=X,ee}function D(m,g,S){const R=g&&n[g]||S;m.classList.add("hljs"),m.classList.add(`language-${R}`)}function I(m){let g=null;const S=h(m);if(a(S))return;if(V("before:highlightElement",{el:m,language:S}),m.children.length>0&&(i.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(m)),i.throwUnescapedHTML))throw new Nc("One of your code blocks includes unescaped HTML.",m.innerHTML);g=m;const R=g.textContent,w=S?E(R,{language:S,ignoreIllegals:!0}):T(R);m.innerHTML=w.value,D(m,S,w.language),m.result={language:w.language,re:w.relevance,relevance:w.relevance},w.secondBest&&(m.secondBest={language:w.secondBest.language,relevance:w.secondBest.relevance}),V("after:highlightElement",{el:m,result:w,text:R})}function F(m){i=Ar(i,m)}const A=()=>{z(),Gn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function C(){z(),Gn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function z(){if(document.readyState==="loading"){b=!0;return}document.querySelectorAll(i.cssSelector).forEach(I)}function Z(){b&&z()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Z,!1);function ae(m,g){let S=null;try{S=g(e)}catch(R){if(Jt("Language definition for '{}' could not be registered.".replace("{}",m)),r)Jt(R);else throw R;S=o}S.name||(S.name=m),t[m]=S,S.rawDefinition=g.bind(null,e),S.aliases&&ue(S.aliases,{languageName:m})}function fe(m){delete t[m];for(const g of Object.keys(n))n[g]===m&&delete n[g]}function J(){return Object.keys(t)}function G(m){return m=(m||"").toLowerCase(),t[m]||t[n[m]]}function ue(m,{languageName:g}){typeof m=="string"&&(m=[m]),m.forEach(S=>{n[S.toLowerCase()]=g})}function Q(m){const g=G(m);return g&&!g.disableAutodetect}function _e(m){m["before:highlightBlock"]&&!m["before:highlightElement"]&&(m["before:highlightElement"]=g=>{m["before:highlightBlock"](Object.assign({block:g.el},g))}),m["after:highlightBlock"]&&!m["after:highlightElement"]&&(m["after:highlightElement"]=g=>{m["after:highlightBlock"](Object.assign({block:g.el},g))})}function $(m){_e(m),l.push(m)}function V(m,g){const S=m;l.forEach(function(R){R[S]&&R[S](g)})}function de(m){return Gn("10.7.0","highlightBlock will be removed entirely in v12.0"),Gn("10.7.0","Please use highlightElement now."),I(m)}Object.assign(e,{highlight:E,highlightAuto:T,highlightAll:z,highlightElement:I,highlightBlock:de,configure:F,initHighlighting:A,initHighlightingOnLoad:C,registerLanguage:ae,unregisterLanguage:fe,listLanguages:J,getLanguage:G,registerAliases:ue,autoDetection:Q,inherit:Ar,addPlugin:$}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString=Mc,e.regex={concat:tn,lookahead:Pr,either:Ds,optional:Hl,anyNumberOfTimes:Pl};for(const m in fi)typeof fi[m]=="object"&&Ss.exports(fi[m]);return Object.assign(e,fi),e};var ei=Oc({}),Ac=ei;ei.HighlightJS=ei;ei.default=ei;const pi=Ac;function Ic(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),l=/[\p{L}0-9._:-]+/u,r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},c={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(c,{begin:/\(/,end:/\)/}),i=e.inherit(e.APOS_STRING_MODE,{className:"string"}),a=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),h={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:l,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[c,a,i,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[c,o,a,i]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[h],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[h],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:h}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const Sr="[A-Za-z$_][0-9A-Za-z$_]*",Sc=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],xc=["true","false","null","undefined","NaN","Infinity"],Zr=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Yr=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],qr=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Rc=["arguments","this","super","console","window","document","localStorage","module","global"],Dc=[].concat(qr,Zr,Yr);function jc(e){const t=e.regex,n=(g,{after:S})=>{const R="</"+g[0].slice(1);return g.input.indexOf(R,S)!==-1},l=Sr,r={begin:"<>",end:"</>"},c=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(g,S)=>{const R=g[0].length+g.index,w=g.input[R];if(w==="<"||w===","){S.ignoreMatch();return}w===">"&&(n(g,{after:R})||S.ignoreMatch());let B;if((B=g.input.substring(R).match(/^\s+extends\s+/))&&B.index===0){S.ignoreMatch();return}}},i={$pattern:Sr,keyword:Sc,literal:xc,built_in:Dc,"variable.language":Rc},a="[0-9](_?[0-9])*",h=`\\.(${a})`,E="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",x={className:"number",variants:[{begin:`(\\b(${E})((${h})|\\.)?|(${h}))[eE][+-]?(${a})\\b`},{begin:`\\b(${E})\\b((${h})\\b|\\.)?|(${h})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},H={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},T={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,H],subLanguage:"xml"}},D={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,H],subLanguage:"css"}},I={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,H]},F=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:l+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),A={className:"comment",variants:[F,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,T,D,I,x];H.contains=C.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(C)});const b=[].concat(A,H.contains),z=b.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(b)}]),Z={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:z},ae={variants:[{match:[/class/,/\s+/,l,/\s+/,/extends/,/\s+/,t.concat(l,"(",t.concat(/\./,l),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,l],scope:{1:"keyword",3:"title.class"}}]},fe={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Zr,...Yr]}},J={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,l,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[Z],illegal:/%/},ue={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Q(g){return t.concat("(?!",g.join("|"),")")}const _e={match:t.concat(/\b/,Q([...qr,"super"]),l,t.lookahead(/\(/)),className:"title.function",relevance:0},$={begin:t.concat(/\./,t.lookahead(t.concat(l,/(?![0-9A-Za-z$_(])/))),end:l,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,l,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},Z]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",m={match:[/const|var|let/,/\s+/,l,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[Z]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:z,CLASS_REFERENCE:fe},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),J,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,T,D,I,A,x,fe,{className:"attr",begin:l+t.lookahead(":"),relevance:0},m,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,e.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:z}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:c},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[Z,e.inherit(e.TITLE_MODE,{begin:l,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+l,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[Z]},_e,ue,ae,V,{match:/\$[(.]/}]}}const Cc=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Lc=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],zc=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Bc=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Pc=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Hc=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function Uc(e){const t=e.regex,n=Cc(e),l={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},r="and or not only",c=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",i=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,l,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Bc.join("|")+")"},{begin:":(:)?("+Pc.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Hc.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...i,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...i,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:c},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:r,attribute:zc.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...i,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Lc.join("|")+")\\b"}]}}const Vc=e=>({highlighted:e&2}),xr=e=>({highlighted:e[1]});function Gc(e){let t,n,l=[{"data-language":"svelte"},e[2]],r={};for(let c=0;c<l.length;c+=1)r=Ns(r,l[c]);return{c(){t=f("pre"),n=f("code"),this.h()},l(c){t=p(c,"PRE",{"data-language":!0});var o=_(t);n=p(o,"CODE",{class:!0});var i=_(n);i.forEach(d),o.forEach(d),this.h()},h(){u(n,"class","hljs"),rr(t,r),Fn(t,"langtag",e[0]),Fn(t,"svelte-4cqgwq",!0)},m(c,o){ke(c,t,o),s(t,n),n.innerHTML=e[1]},p(c,o){o&2&&(n.innerHTML=c[1]),rr(t,r=cl(l,[{"data-language":"svelte"},o&4&&c[2]])),Fn(t,"langtag",c[0]),Fn(t,"svelte-4cqgwq",!0)},d(c){c&&d(t)}}}function Fc(e){let t;const n=e[5].default,l=il(n,e,e[4],xr),r=l||Gc(e);return{c(){r&&r.c()},l(c){r&&r.l(c)},m(c,o){r&&r.m(c,o),t=!0},p(c,[o]){l?l.p&&(!t||o&18)&&ol(l,n,c,c[4],t?al(n,c[4],o,Vc):sl(c[4]),xr):r&&r.p&&(!t||o&7)&&r.p(c,t?o:-1)},i(c){t||(se(r,c),t=!0)},o(c){ce(r,c),t=!1},d(c){r&&r.d(c)}}}function Wc(e,t,n){let l;const r=["code","langtag"];let c=ar(t,r),{$$slots:o={},$$scope:i}=t,{code:a=void 0}=t,{langtag:h=!1}=t;const E=Rr();return pi.registerLanguage("xml",Ic),pi.registerLanguage("javascript",jc),pi.registerLanguage("css",Uc),rl(()=>{l&&E("highlight",{highlighted:l})}),e.$$set=x=>{t=Ns(Ns({},t),ll(x)),n(2,c=ar(t,r)),"code"in x&&n(3,a=x.code),"langtag"in x&&n(0,h=x.langtag),"$$scope"in x&&n(4,i=x.$$scope)},e.$$.update=()=>{e.$$.dirty&8&&n(1,l=pi.highlightAuto(a).value)},[h,l,c,a,i,o]}class bt extends Qt{constructor(t){super(),$t(this,t,Wc,Fc,en,{code:3,langtag:0})}}const Xc=`<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub Dark Dimmed
  Description: Dark dimmed theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Colors taken from GitHub's CSS
*/.hljs{color:#adbac7;background:#22272e}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#6cb6ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#96d0ff}.hljs-built_in,.hljs-symbol{color:#f69d50}.hljs-code,.hljs-comment,.hljs-formula{color:#768390}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#8ddb8c}.hljs-subst{color:#adbac7}.hljs-section{color:#316dca;font-weight:700}.hljs-bullet{color:#eac55f}.hljs-emphasis{color:#adbac7;font-style:italic}.hljs-strong{color:#adbac7;font-weight:700}.hljs-addition{color:#b4f1b4;background-color:#1b4721}.hljs-deletion{color:#ffd8d3;background-color:#78191b}</style>`,Kc=Xc;function Zc(e){let t,n,l,r,c,o,i,a,h,E,x,H,T,D,I,F,A,C,b,z,Z,ae,fe,J,G,ue,Q,_e,$,V,de,m,g,S,R,w,B,X,ee,ie,Ie,pe,je,Ce,Ye,Le,kt,We,Me,me,st,Se,j,nn,ne,Y,at,xe,Mt,Nt,v,O,L,W,oe,re,on,Kn,Zn=Math.round(e[0].scale*100)/100+"",ti,ki,sn,Mi,Ni,rt,ze,ni,Ti,Yn=Math.round(e[0].rotation*100)/100+"",ii,Oi,an,Ai,Ii,Be,Si,rn,xi,Ri,Pe,Di,ln,ji,Ci,he,cn,Li,zi,lt,Bi,un,Pi,Hi,ct,Ui,dn,Vi,Gi,ut,Fi,qe,Tt,Ot,Wi,Xi,dt,tt,Ki,Zi,gn,At,Yi,He,It,St,qi,Ji,gt,P,hn,Qi,$i,fn,eo,to,pn,no,io,_n,mn,oo,so,vn,bn,ao,ro,wn,lo,co,En,yn,uo,go,kn,ho,fo,Mn,po,_o,Nn,Tn,mo,vo,On,bo,wo,ht,Eo,An,yo,ko,Mo,In,Sn,No,To,xn,Oo,Ao,ft,Io,Rn,So,xo,Ro,xt,Rt,Do,jo,Dt,Co,be,jt,Ct,Lo,zo,Xe,Ue,oi,Ls,Bo,Dn,Po,Ho,Lt,Uo,zt,Bt,Vo,Go,we,nt,Fo,jn,Wo,Xo,Pt,Ko,Ht,Zo,Ut,Yo,Je,qo,Cn,Jo,Qo,zs="resized_media = scale(media, s);",$o,es,ts,it,ns,Ln,is,os,Vt,ss,Gt,as,Ft,rs,Wt,ls,Xt,cs,pt,Kt,Zt,us,ds,_t,zn,gs,hs,Bn,fs,ps,Pn,Hn,Yt,_s,qt,ms,Ke,vs,Bs;function Jr(U){e[7](U)}let Ps={media:e[5],options:e[1]};e[0]!==void 0&&(Ps.value=e[0]),w=new yr({props:Ps}),e[6](w),Ae.push(()=>wt(w,"value",Jr));function Qr(U){e[25](U)}let Hs={media:e[5],options:Lr};return e[0]!==void 0&&(Hs.value=e[0]),tt=new yr({props:Hs}),Ae.push(()=>wt(tt,"value",Qr)),At=new bt({props:{code:`// in script tag
import { CropWindow, defaultOptions, defaultValue } from 'svelte-crop-window';

let media: Media = {
    content_type: 'video',
    url: '/Mountain - 8837.mp4'
};

let value = defaultValue;

// in the template
<div style="height:20em; background: #222">
    <CropWindow bind:value {media} options={defaultOptions} />
</div>
`}}),Dt=new bt({props:{code:`export const defaultOptions: Options<OverlayOptions> = {
    shape: 'rect',
    crop_window_margin: 10,

    overlay: Overlay,
    overlay_options: {
        line_color: '#FFFFFF',
        overlay_color: '#222222'
    },
};
`}}),Lt=new bt({props:{code:`<div style="position:relative;height:{HEIGHT}px;width:{value.aspect * HEIGHT}px; overflow:hidden">
    <video
        style={\`transform: translateX(-50%) translateY(-50%) rotate({value.rotation || 0}deg);
    height: {(value.scale || 0.0) * HEIGHT}px;
    margin-left: {HEIGHT / 2 + (value.position.x || 0) * HEIGHT}px;
    margin-top: {HEIGHT / value.aspect / 2 + (value.position.y || 0) * HEIGHT}px;
    max-width:none\`}
        src={url}
    />
</div>`}}),Pt=new bt({props:{code:"target_width = target_height * value.aspect;"}}),Ut=new bt({props:{code:"s = value.scale * target_height / media.height;"}}),Vt=new bt({props:{code:`resized_and_rotated_media =
    rotate(resized_media, value.rotation);`}}),Ft=new bt({props:{code:`left =
    (resized_and_rotated_media.width - target_width) / 2.0
    - value.x * target_height;
top =
    (resized_and_rotated_media.height - target_height) / 2.0
    - value.y * target_height;`}}),Xt=new bt({props:{code:`cropped_media =
    extract_area(resized_and_rotated_media, left, top,
                 target_width, target_height);`}}),{c(){t=new ul(!1),n=Wn(),l=M(),r=f("div"),c=f("div"),o=f("h1"),i=f("a"),a=f("img"),E=y(`
            svelte-crop-window`),x=M(),H=f("p"),T=y("A crop window with touch and mouse gestures to zoom, pan and rotate an image or video."),D=M(),I=f("p"),F=y("Media snaps back to cover the crop area."),A=M(),C=f("div"),b=y("Looking for contributions, code review and feedback! Feel free to open an issue on "),z=f("a"),Z=y("the GitHub repository"),ae=y(" or connect with me via the Svelte discord (sabine#8815)."),fe=M(),J=f("div"),G=y("The code of this page is "),ue=f("a"),Q=y("here"),_e=y("."),$=M(),V=f("div"),de=f("h2"),m=f("a"),g=y("Example with controls"),S=M(),R=f("div"),Ne(w.$$.fragment),X=M(),ee=f("h3"),ie=y("Aspect ratio"),Ie=M(),pe=f("div"),je=f("button"),Ce=y("8:1"),Ye=M(),Le=f("button"),kt=y("16:9"),We=M(),Me=f("button"),me=y("4:3"),st=M(),Se=f("button"),j=y("1:1"),nn=M(),ne=f("button"),Y=y("3:4"),at=M(),xe=f("h3"),Mt=y("Scale / Rotation / Position"),Nt=M(),v=f("div"),O=f("div"),L=y("scale"),W=M(),oe=f("div"),re=f("input"),Kn=M(),ti=y(Zn),ki=M(),sn=f("div"),Mi=y("rotation"),Ni=M(),rt=f("div"),ze=f("input"),Ti=M(),ii=y(Yn),Oi=M(),an=f("div"),Ai=y("x"),Ii=M(),Be=f("input"),Si=M(),rn=f("div"),xi=y("y"),Ri=M(),Pe=f("input"),Di=M(),ln=f("h3"),ji=y("Colors"),Ci=M(),he=f("div"),cn=f("div"),Li=y("overlay color"),zi=M(),lt=f("input"),Bi=M(),un=f("div"),Pi=y("line color"),Hi=M(),ct=f("input"),Ui=M(),dn=f("div"),Vi=y("background color"),Gi=M(),ut=f("input"),Fi=M(),qe=f("div"),Tt=f("h2"),Ot=f("a"),Wi=y("Minimal code example"),Xi=M(),dt=f("div"),Ne(tt.$$.fragment),Zi=M(),gn=f("div"),Ne(At.$$.fragment),Yi=M(),He=f("div"),It=f("h2"),St=f("a"),qi=y("Options"),Ji=M(),gt=f("div"),P=f("div"),hn=f("div"),Qi=y("name"),$i=M(),fn=f("div"),eo=y("value"),to=M(),pn=f("div"),no=y("purpose"),io=M(),_n=f("div"),mn=f("code"),oo=y("shape"),so=M(),vn=f("div"),bn=f("code"),ao=y('"rect" | "round"'),ro=M(),wn=f("div"),lo=y('Determines how the to-be-cropped media "snaps back" to cover the crop area'),co=M(),En=f("div"),yn=f("code"),uo=y("crop_window_margin"),go=M(),kn=f("div"),ho=y("number of pixels"),fo=M(),Mn=f("div"),po=y(`Margin of the crop window, in pixels. The crop window will always scale to the
                    maximum possible size in its containing element.`),_o=M(),Nn=f("div"),Tn=f("code"),mo=y("overlay"),vo=M(),On=f("div"),bo=y("a Svelte component"),wo=M(),ht=f("div"),Eo=y(`The overlay component which visually highlights the crop area and, possibly,
                    some lines. You can pass your own Svelte component here, for a custom overlay.
                    Look at the included `),An=f("code"),yo=y("Overlay.svelte"),ko=y(" to see how it works."),Mo=M(),In=f("div"),Sn=f("code"),No=y("overlay_options"),To=M(),xn=f("div"),Oo=y("options for the overlay component"),Ao=M(),ft=f("div"),Io=y("Needs to be whatever options your overlay component takes. The included "),Rn=f("code"),So=y("Overlay.svelte"),xo=y(" allows you to set the color of the overlay and the color of the lines."),Ro=M(),xt=f("h3"),Rt=f("a"),Do=y("Default options"),jo=M(),Ne(Dt.$$.fragment),Co=M(),be=f("div"),jt=f("h2"),Ct=f("a"),Lo=y("How to Crop"),zo=M(),Xe=f("div"),Ue=f("video"),Bo=M(),Dn=f("h3"),Po=y("Display in HTML without actually cropping:"),Ho=M(),Ne(Lt.$$.fragment),Uo=M(),zt=f("h3"),Bt=f("a"),Vo=y("Pseudo code to crop"),Go=M(),we=f("ol"),nt=f("li"),Fo=y("Choose a "),jn=f("code"),Wo=y("target_height"),Xo=y(` and calculate the width for the cropped image:
                `),Ne(Pt.$$.fragment),Ko=M(),Ht=f("li"),Zo=y(`Calculate factor by which to scale:
                `),Ne(Ut.$$.fragment),Yo=M(),Je=f("li"),qo=y("Scale media by "),Cn=f("code"),Jo=y("s"),Qo=y(`:
                code=`),$o=y(zs),es=y(" />"),ts=M(),it=f("li"),ns=y("Rotate media by "),Ln=f("code"),is=y("value.rotation"),os=y(`:
                `),Ne(Vt.$$.fragment),ss=M(),Gt=f("li"),as=y("Calculate x,y position of area to extract: "),Ne(Ft.$$.fragment),rs=M(),Wt=f("li"),ls=y(`Extract area:
                `),Ne(Xt.$$.fragment),cs=M(),pt=f("div"),Kt=f("h2"),Zt=f("a"),us=y("What this component doesn't do"),ds=M(),_t=f("ol"),zn=f("li"),gs=y(`Does not modify/crop the image, you have to do that by whatever means make sense
                for your application.`),hs=M(),Bn=f("li"),fs=y(`Doesn't (yet) provide usable controls. Currently, you need to implement your own. Contributions are
                welcome.`),ps=M(),Pn=f("div"),Hn=f("small"),Yt=f("p"),_s=y("Video from shantararam at pixabay: "),qt=f("a"),ms=y("https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),this.h()},l(U){const ge=dl('[data-svelte="svelte-10ffuew"]',document.head);t=gl(ge,!1),n=Wn(),ge.forEach(d),l=N(U),r=p(U,"DIV",{class:!0});var le=_(r);c=p(le,"DIV",{class:!0});var ot=_(c);o=p(ot,"H1",{class:!0});var Us=_(o);i=p(Us,"A",{href:!0,style:!0,class:!0});var bs=_(i);a=p(bs,"IMG",{src:!0,alt:!0,style:!0,class:!0}),E=k(bs,`
            svelte-crop-window`),bs.forEach(d),Us.forEach(d),x=N(ot),H=p(ot,"P",{class:!0});var Vs=_(H);T=k(Vs,"A crop window with touch and mouse gestures to zoom, pan and rotate an image or video."),Vs.forEach(d),D=N(ot),I=p(ot,"P",{class:!0});var Gs=_(I);F=k(Gs,"Media snaps back to cover the crop area."),Gs.forEach(d),ot.forEach(d),A=N(le),C=p(le,"DIV",{class:!0});var si=_(C);b=k(si,"Looking for contributions, code review and feedback! Feel free to open an issue on "),z=p(si,"A",{href:!0,class:!0});var Fs=_(z);Z=k(Fs,"the GitHub repository"),Fs.forEach(d),ae=k(si," or connect with me via the Svelte discord (sabine#8815)."),si.forEach(d),fe=N(le),J=p(le,"DIV",{class:!0});var ai=_(J);G=k(ai,"The code of this page is "),ue=p(ai,"A",{href:!0,class:!0});var Ws=_(ue);Q=k(Ws,"here"),Ws.forEach(d),_e=k(ai,"."),ai.forEach(d),$=N(le),V=p(le,"DIV",{class:!0});var Ee=_(V);de=p(Ee,"H2",{id:!0,class:!0});var Xs=_(de);m=p(Xs,"A",{href:!0,class:!0});var Ks=_(m);g=k(Ks,"Example with controls"),Ks.forEach(d),Xs.forEach(d),S=N(Ee),R=p(Ee,"DIV",{style:!0,class:!0});var Zs=_(R);Re(w.$$.fragment,Zs),Zs.forEach(d),X=N(Ee),ee=p(Ee,"H3",{class:!0});var Ys=_(ee);ie=k(Ys,"Aspect ratio"),Ys.forEach(d),Ie=N(Ee),pe=p(Ee,"DIV",{class:!0});var Qe=_(pe);je=p(Qe,"BUTTON",{class:!0});var qs=_(je);Ce=k(qs,"8:1"),qs.forEach(d),Ye=N(Qe),Le=p(Qe,"BUTTON",{class:!0});var Js=_(Le);kt=k(Js,"16:9"),Js.forEach(d),We=N(Qe),Me=p(Qe,"BUTTON",{class:!0});var Qs=_(Me);me=k(Qs,"4:3"),Qs.forEach(d),st=N(Qe),Se=p(Qe,"BUTTON",{class:!0});var $s=_(Se);j=k($s,"1:1"),$s.forEach(d),nn=N(Qe),ne=p(Qe,"BUTTON",{class:!0});var ea=_(ne);Y=k(ea,"3:4"),ea.forEach(d),Qe.forEach(d),at=N(Ee),xe=p(Ee,"H3",{class:!0});var ta=_(xe);Mt=k(ta,"Scale / Rotation / Position"),ta.forEach(d),Nt=N(Ee),v=p(Ee,"DIV",{style:!0,class:!0});var ye=_(v);O=p(ye,"DIV",{class:!0});var na=_(O);L=k(na,"scale"),na.forEach(d),W=N(ye),oe=p(ye,"DIV",{class:!0});var ri=_(oe);re=p(ri,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Kn=N(ri),ti=k(ri,Zn),ri.forEach(d),ki=N(ye),sn=p(ye,"DIV",{class:!0});var ia=_(sn);Mi=k(ia,"rotation"),ia.forEach(d),Ni=N(ye),rt=p(ye,"DIV",{class:!0});var li=_(rt);ze=p(li,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ti=N(li),ii=k(li,Yn),li.forEach(d),Oi=N(ye),an=p(ye,"DIV",{class:!0});var oa=_(an);Ai=k(oa,"x"),oa.forEach(d),Ii=N(ye),Be=p(ye,"INPUT",{type:!0,step:!0,class:!0}),Si=N(ye),rn=p(ye,"DIV",{class:!0});var sa=_(rn);xi=k(sa,"y"),sa.forEach(d),Ri=N(ye),Pe=p(ye,"INPUT",{type:!0,step:!0,class:!0}),ye.forEach(d),Di=N(Ee),ln=p(Ee,"H3",{class:!0});var aa=_(ln);ji=k(aa,"Colors"),aa.forEach(d),Ci=N(Ee),he=p(Ee,"DIV",{style:!0,class:!0});var Ve=_(he);cn=p(Ve,"DIV",{class:!0});var ra=_(cn);Li=k(ra,"overlay color"),ra.forEach(d),zi=N(Ve),lt=p(Ve,"INPUT",{type:!0,class:!0}),Bi=N(Ve),un=p(Ve,"DIV",{class:!0});var la=_(un);Pi=k(la,"line color"),la.forEach(d),Hi=N(Ve),ct=p(Ve,"INPUT",{type:!0,class:!0}),Ui=N(Ve),dn=p(Ve,"DIV",{class:!0});var ca=_(dn);Vi=k(ca,"background color"),ca.forEach(d),Gi=N(Ve),ut=p(Ve,"INPUT",{type:!0,class:!0}),Ve.forEach(d),Ee.forEach(d),Fi=N(le),qe=p(le,"DIV",{class:!0});var Un=_(qe);Tt=p(Un,"H2",{id:!0,class:!0});var ua=_(Tt);Ot=p(ua,"A",{href:!0,class:!0});var da=_(Ot);Wi=k(da,"Minimal code example"),da.forEach(d),ua.forEach(d),Xi=N(Un),dt=p(Un,"DIV",{style:!0,class:!0});var ga=_(dt);Re(tt.$$.fragment,ga),ga.forEach(d),Zi=N(Un),gn=p(Un,"DIV",{class:!0});var ha=_(gn);Re(At.$$.fragment,ha),ha.forEach(d),Un.forEach(d),Yi=N(le),He=p(le,"DIV",{class:!0});var mt=_(He);It=p(mt,"H2",{id:!0,class:!0});var fa=_(It);St=p(fa,"A",{href:!0,class:!0});var pa=_(St);qi=k(pa,"Options"),pa.forEach(d),fa.forEach(d),Ji=N(mt),gt=p(mt,"DIV",{style:!0,class:!0});var _a=_(gt);P=p(_a,"DIV",{style:!0,class:!0});var K=_(P);hn=p(K,"DIV",{class:!0});var ma=_(hn);Qi=k(ma,"name"),ma.forEach(d),$i=N(K),fn=p(K,"DIV",{class:!0});var va=_(fn);eo=k(va,"value"),va.forEach(d),to=N(K),pn=p(K,"DIV",{class:!0});var ba=_(pn);no=k(ba,"purpose"),ba.forEach(d),io=N(K),_n=p(K,"DIV",{class:!0});var wa=_(_n);mn=p(wa,"CODE",{class:!0});var Ea=_(mn);oo=k(Ea,"shape"),Ea.forEach(d),wa.forEach(d),so=N(K),vn=p(K,"DIV",{class:!0});var ya=_(vn);bn=p(ya,"CODE",{class:!0});var ka=_(bn);ao=k(ka,'"rect" | "round"'),ka.forEach(d),ya.forEach(d),ro=N(K),wn=p(K,"DIV",{class:!0});var Ma=_(wn);lo=k(Ma,'Determines how the to-be-cropped media "snaps back" to cover the crop area'),Ma.forEach(d),co=N(K),En=p(K,"DIV",{class:!0});var Na=_(En);yn=p(Na,"CODE",{class:!0});var Ta=_(yn);uo=k(Ta,"crop_window_margin"),Ta.forEach(d),Na.forEach(d),go=N(K),kn=p(K,"DIV",{class:!0});var Oa=_(kn);ho=k(Oa,"number of pixels"),Oa.forEach(d),fo=N(K),Mn=p(K,"DIV",{class:!0});var Aa=_(Mn);po=k(Aa,`Margin of the crop window, in pixels. The crop window will always scale to the
                    maximum possible size in its containing element.`),Aa.forEach(d),_o=N(K),Nn=p(K,"DIV",{class:!0});var Ia=_(Nn);Tn=p(Ia,"CODE",{class:!0});var Sa=_(Tn);mo=k(Sa,"overlay"),Sa.forEach(d),Ia.forEach(d),vo=N(K),On=p(K,"DIV",{class:!0});var xa=_(On);bo=k(xa,"a Svelte component"),xa.forEach(d),wo=N(K),ht=p(K,"DIV",{class:!0});var ci=_(ht);Eo=k(ci,`The overlay component which visually highlights the crop area and, possibly,
                    some lines. You can pass your own Svelte component here, for a custom overlay.
                    Look at the included `),An=p(ci,"CODE",{class:!0});var Ra=_(An);yo=k(Ra,"Overlay.svelte"),Ra.forEach(d),ko=k(ci," to see how it works."),ci.forEach(d),Mo=N(K),In=p(K,"DIV",{class:!0});var Da=_(In);Sn=p(Da,"CODE",{class:!0});var ja=_(Sn);No=k(ja,"overlay_options"),ja.forEach(d),Da.forEach(d),To=N(K),xn=p(K,"DIV",{class:!0});var Ca=_(xn);Oo=k(Ca,"options for the overlay component"),Ca.forEach(d),Ao=N(K),ft=p(K,"DIV",{class:!0});var ui=_(ft);Io=k(ui,"Needs to be whatever options your overlay component takes. The included "),Rn=p(ui,"CODE",{class:!0});var La=_(Rn);So=k(La,"Overlay.svelte"),La.forEach(d),xo=k(ui," allows you to set the color of the overlay and the color of the lines."),ui.forEach(d),K.forEach(d),_a.forEach(d),Ro=N(mt),xt=p(mt,"H3",{id:!0,class:!0});var za=_(xt);Rt=p(za,"A",{href:!0,class:!0});var Ba=_(Rt);Do=k(Ba,"Default options"),Ba.forEach(d),za.forEach(d),jo=N(mt),Re(Dt.$$.fragment,mt),mt.forEach(d),Co=N(le),be=p(le,"DIV",{class:!0});var Ge=_(be);jt=p(Ge,"H2",{id:!0,class:!0});var Pa=_(jt);Ct=p(Pa,"A",{href:!0,class:!0});var Ha=_(Ct);Lo=k(Ha,"How to Crop"),Ha.forEach(d),Pa.forEach(d),zo=N(Ge),Xe=p(Ge,"DIV",{style:!0,class:!0});var Ua=_(Xe);Ue=p(Ua,"VIDEO",{style:!0,src:!0,class:!0}),_(Ue).forEach(d),Ua.forEach(d),Bo=N(Ge),Dn=p(Ge,"H3",{class:!0});var Va=_(Dn);Po=k(Va,"Display in HTML without actually cropping:"),Va.forEach(d),Ho=N(Ge),Re(Lt.$$.fragment,Ge),Uo=N(Ge),zt=p(Ge,"H3",{id:!0,class:!0});var Ga=_(zt);Bt=p(Ga,"A",{href:!0,class:!0});var Fa=_(Bt);Vo=k(Fa,"Pseudo code to crop"),Fa.forEach(d),Ga.forEach(d),Go=N(Ge),we=p(Ge,"OL",{class:!0});var Fe=_(we);nt=p(Fe,"LI",{class:!0});var qn=_(nt);Fo=k(qn,"Choose a "),jn=p(qn,"CODE",{class:!0});var Wa=_(jn);Wo=k(Wa,"target_height"),Wa.forEach(d),Xo=k(qn,` and calculate the width for the cropped image:
                `),Re(Pt.$$.fragment,qn),qn.forEach(d),Ko=N(Fe),Ht=p(Fe,"LI",{class:!0});var ws=_(Ht);Zo=k(ws,`Calculate factor by which to scale:
                `),Re(Ut.$$.fragment,ws),ws.forEach(d),Yo=N(Fe),Je=p(Fe,"LI",{class:!0});var Vn=_(Je);qo=k(Vn,"Scale media by "),Cn=p(Vn,"CODE",{class:!0});var Xa=_(Cn);Jo=k(Xa,"s"),Xa.forEach(d),Qo=k(Vn,`:
                code=`),$o=k(Vn,zs),es=k(Vn," />"),Vn.forEach(d),ts=N(Fe),it=p(Fe,"LI",{class:!0});var Jn=_(it);ns=k(Jn,"Rotate media by "),Ln=p(Jn,"CODE",{class:!0});var Ka=_(Ln);is=k(Ka,"value.rotation"),Ka.forEach(d),os=k(Jn,`:
                `),Re(Vt.$$.fragment,Jn),Jn.forEach(d),ss=N(Fe),Gt=p(Fe,"LI",{class:!0});var Es=_(Gt);as=k(Es,"Calculate x,y position of area to extract: "),Re(Ft.$$.fragment,Es),Es.forEach(d),rs=N(Fe),Wt=p(Fe,"LI",{class:!0});var ys=_(Wt);ls=k(ys,`Extract area:
                `),Re(Xt.$$.fragment,ys),ys.forEach(d),Fe.forEach(d),Ge.forEach(d),cs=N(le),pt=p(le,"DIV",{class:!0});var di=_(pt);Kt=p(di,"H2",{id:!0,class:!0});var Za=_(Kt);Zt=p(Za,"A",{href:!0,class:!0});var Ya=_(Zt);us=k(Ya,"What this component doesn't do"),Ya.forEach(d),Za.forEach(d),ds=N(di),_t=p(di,"OL",{class:!0});var gi=_(_t);zn=p(gi,"LI",{class:!0});var qa=_(zn);gs=k(qa,`Does not modify/crop the image, you have to do that by whatever means make sense
                for your application.`),qa.forEach(d),hs=N(gi),Bn=p(gi,"LI",{class:!0});var Ja=_(Bn);fs=k(Ja,`Doesn't (yet) provide usable controls. Currently, you need to implement your own. Contributions are
                welcome.`),Ja.forEach(d),gi.forEach(d),di.forEach(d),ps=N(le),Pn=p(le,"DIV",{class:!0});var Qa=_(Pn);Hn=p(Qa,"SMALL",{class:!0});var $a=_(Hn);Yt=p($a,"P",{class:!0});var ks=_(Yt);_s=k(ks,"Video from shantararam at pixabay: "),qt=p(ks,"A",{href:!0,class:!0});var er=_(qt);ms=k(er,"https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),er.forEach(d),ks.forEach(d),$a.forEach(d),Qa.forEach(d),le.forEach(d),this.h()},h(){t.a=n,Xn(a.src,h=jr+"/logo.svg")||u(a,"src",h),u(a,"alt","svelte media crop"),te(a,"height","5rem"),te(a,"margin-right","1rem"),u(a,"class","svelte-1pjpgag"),u(i,"href","https://github.com/sabine/svelte-crop-window"),te(i,"display","flex"),te(i,"align-items","center"),u(i,"class","svelte-1pjpgag"),u(o,"class","svelte-1pjpgag"),u(H,"class","subtitle svelte-1pjpgag"),u(I,"class","svelte-1pjpgag"),u(c,"class","box svelte-1pjpgag"),u(z,"href","https://github.com/sabine/svelte-crop-window"),u(z,"class","svelte-1pjpgag"),u(C,"class","box svelte-1pjpgag"),u(ue,"href","https://github.com/sabine/svelte-crop-window/blob/main/src/routes/%2Bpage.svelte"),u(ue,"class","svelte-1pjpgag"),u(J,"class","box svelte-1pjpgag"),u(m,"href","#with-controls"),u(m,"class","svelte-1pjpgag"),u(de,"id","with-controls"),u(de,"class","svelte-1pjpgag"),te(R,"height","20em"),te(R,"background",e[2]),u(R,"class","svelte-1pjpgag"),u(ee,"class","svelte-1pjpgag"),u(je,"class","svelte-1pjpgag"),u(Le,"class","svelte-1pjpgag"),u(Me,"class","svelte-1pjpgag"),u(Se,"class","svelte-1pjpgag"),u(ne,"class","svelte-1pjpgag"),u(pe,"class","svelte-1pjpgag"),u(xe,"class","svelte-1pjpgag"),u(O,"class","svelte-1pjpgag"),u(re,"type","range"),u(re,"min",.001),u(re,"max","6"),u(re,"step",.01),re.value=on=e[0].scale,u(re,"class","svelte-1pjpgag"),u(oe,"class","svelte-1pjpgag"),u(sn,"class","svelte-1pjpgag"),u(ze,"type","range"),u(ze,"min",-180),u(ze,"max","180"),u(ze,"step",1),ze.value=ni=e[0].rotation,u(ze,"class","svelte-1pjpgag"),u(rt,"class","svelte-1pjpgag"),u(an,"class","svelte-1pjpgag"),u(Be,"type","number"),u(Be,"step",.01),u(Be,"class","svelte-1pjpgag"),u(rn,"class","svelte-1pjpgag"),u(Pe,"type","number"),u(Pe,"step",.01),u(Pe,"class","svelte-1pjpgag"),te(v,"display","grid"),te(v,"grid-template-columns","auto 1fr"),te(v,"column-gap","2rem"),u(v,"class","svelte-1pjpgag"),u(ln,"class","svelte-1pjpgag"),u(cn,"class","svelte-1pjpgag"),u(lt,"type","color"),u(lt,"class","svelte-1pjpgag"),u(un,"class","svelte-1pjpgag"),u(ct,"type","color"),u(ct,"class","svelte-1pjpgag"),u(dn,"class","svelte-1pjpgag"),u(ut,"type","color"),u(ut,"class","svelte-1pjpgag"),te(he,"display","grid"),te(he,"grid-template-columns","auto 1fr"),te(he,"column-gap","2rem"),te(he,"align-items","center"),u(he,"class","svelte-1pjpgag"),u(V,"class","box svelte-1pjpgag"),u(Ot,"href","#minimal-code-example"),u(Ot,"class","svelte-1pjpgag"),u(Tt,"id","minimal-code-example"),u(Tt,"class","svelte-1pjpgag"),te(dt,"height","20em"),te(dt,"background","#222"),u(dt,"class","svelte-1pjpgag"),u(gn,"class","svelte-1pjpgag"),u(qe,"class","box svelte-1pjpgag"),u(St,"href","#options"),u(St,"class","svelte-1pjpgag"),u(It,"id","options"),u(It,"class","svelte-1pjpgag"),u(hn,"class","svelte-1pjpgag"),u(fn,"class","svelte-1pjpgag"),u(pn,"class","svelte-1pjpgag"),u(mn,"class","svelte-1pjpgag"),u(_n,"class","svelte-1pjpgag"),u(bn,"class","svelte-1pjpgag"),u(vn,"class","svelte-1pjpgag"),u(wn,"class","svelte-1pjpgag"),u(yn,"class","svelte-1pjpgag"),u(En,"class","svelte-1pjpgag"),u(kn,"class","svelte-1pjpgag"),u(Mn,"class","svelte-1pjpgag"),u(Tn,"class","svelte-1pjpgag"),u(Nn,"class","svelte-1pjpgag"),u(On,"class","svelte-1pjpgag"),u(An,"class","svelte-1pjpgag"),u(ht,"class","svelte-1pjpgag"),u(Sn,"class","svelte-1pjpgag"),u(In,"class","svelte-1pjpgag"),u(xn,"class","svelte-1pjpgag"),u(Rn,"class","svelte-1pjpgag"),u(ft,"class","svelte-1pjpgag"),te(P,"min-width","34em"),te(P,"display","grid"),te(P,"grid-template-columns","8em 8em 1fr"),te(P,"grid-gap","1rem"),u(P,"class","svelte-1pjpgag"),te(gt,"max-width","100%"),te(gt,"overflow-x","scroll"),u(gt,"class","svelte-1pjpgag"),u(Rt,"href","#default-options"),u(Rt,"class","svelte-1pjpgag"),u(xt,"id","default-options"),u(xt,"class","svelte-1pjpgag"),u(He,"class","box svelte-1pjpgag"),u(Ct,"href","#how-to-crop"),u(Ct,"class","svelte-1pjpgag"),u(jt,"id","how-to-crop"),u(jt,"class","svelte-1pjpgag"),u(Ue,"style",oi=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*300}px;margin-left: ${300/2+(e[0].position.x||0)*300}px;margin-top: ${300/e[0].aspect/2+(e[0].position.y||0)*300}px;
                    max-width:none`),Xn(Ue.src,Ls=e[5].url)||u(Ue,"src",Ls),Ue.autoplay=!0,Ue.loop=!0,Ue.muted=!0,u(Ue,"class","svelte-1pjpgag"),te(Xe,"position","relative"),te(Xe,"height","300px"),te(Xe,"width",e[0].aspect*300+"px"),te(Xe,"overflow","hidden"),u(Xe,"class","svelte-1pjpgag"),u(Dn,"class","svelte-1pjpgag"),u(Bt,"href","#pseudo-code"),u(Bt,"class","svelte-1pjpgag"),u(zt,"id","pseudo-code"),u(zt,"class","svelte-1pjpgag"),u(jn,"class","svelte-1pjpgag"),u(nt,"class","svelte-1pjpgag"),u(Ht,"class","svelte-1pjpgag"),u(Cn,"class","svelte-1pjpgag"),u(Je,"class","svelte-1pjpgag"),u(Ln,"class","svelte-1pjpgag"),u(it,"class","svelte-1pjpgag"),u(Gt,"class","svelte-1pjpgag"),u(Wt,"class","svelte-1pjpgag"),u(we,"class","svelte-1pjpgag"),u(be,"class","box svelte-1pjpgag"),u(Zt,"href","#what-it-doesnt-do"),u(Zt,"class","svelte-1pjpgag"),u(Kt,"id","what-it-doesnt-do"),u(Kt,"class","svelte-1pjpgag"),u(zn,"class","svelte-1pjpgag"),u(Bn,"class","svelte-1pjpgag"),u(_t,"class","svelte-1pjpgag"),u(pt,"class","box svelte-1pjpgag"),u(qt,"href","https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),u(qt,"class","svelte-1pjpgag"),u(Yt,"class","svelte-1pjpgag"),u(Hn,"class","svelte-1pjpgag"),u(Pn,"class","box svelte-1pjpgag"),u(r,"class","container svelte-1pjpgag")},m(U,ge){t.m(Kc,document.head),s(document.head,n),ke(U,l,ge),ke(U,r,ge),s(r,c),s(c,o),s(o,i),s(i,a),s(i,E),s(c,x),s(c,H),s(H,T),s(c,D),s(c,I),s(I,F),s(r,A),s(r,C),s(C,b),s(C,z),s(z,Z),s(C,ae),s(r,fe),s(r,J),s(J,G),s(J,ue),s(ue,Q),s(J,_e),s(r,$),s(r,V),s(V,de),s(de,m),s(m,g),s(V,S),s(V,R),Te(w,R,null),s(V,X),s(V,ee),s(ee,ie),s(V,Ie),s(V,pe),s(pe,je),s(je,Ce),s(pe,Ye),s(pe,Le),s(Le,kt),s(pe,We),s(pe,Me),s(Me,me),s(pe,st),s(pe,Se),s(Se,j),s(pe,nn),s(pe,ne),s(ne,Y),s(V,at),s(V,xe),s(xe,Mt),s(V,Nt),s(V,v),s(v,O),s(O,L),s(v,W),s(v,oe),s(oe,re),s(oe,Kn),s(oe,ti),s(v,ki),s(v,sn),s(sn,Mi),s(v,Ni),s(v,rt),s(rt,ze),s(rt,Ti),s(rt,ii),s(v,Oi),s(v,an),s(an,Ai),s(v,Ii),s(v,Be),et(Be,e[3].x),s(v,Si),s(v,rn),s(rn,xi),s(v,Ri),s(v,Pe),et(Pe,e[3].y),s(V,Di),s(V,ln),s(ln,ji),s(V,Ci),s(V,he),s(he,cn),s(cn,Li),s(he,zi),s(he,lt),et(lt,e[1].overlay_options.overlay_color),s(he,Bi),s(he,un),s(un,Pi),s(he,Hi),s(he,ct),et(ct,e[1].overlay_options.line_color),s(he,Ui),s(he,dn),s(dn,Vi),s(he,Gi),s(he,ut),et(ut,e[2]),s(r,Fi),s(r,qe),s(qe,Tt),s(Tt,Ot),s(Ot,Wi),s(qe,Xi),s(qe,dt),Te(tt,dt,null),s(qe,Zi),s(qe,gn),Te(At,gn,null),s(r,Yi),s(r,He),s(He,It),s(It,St),s(St,qi),s(He,Ji),s(He,gt),s(gt,P),s(P,hn),s(hn,Qi),s(P,$i),s(P,fn),s(fn,eo),s(P,to),s(P,pn),s(pn,no),s(P,io),s(P,_n),s(_n,mn),s(mn,oo),s(P,so),s(P,vn),s(vn,bn),s(bn,ao),s(P,ro),s(P,wn),s(wn,lo),s(P,co),s(P,En),s(En,yn),s(yn,uo),s(P,go),s(P,kn),s(kn,ho),s(P,fo),s(P,Mn),s(Mn,po),s(P,_o),s(P,Nn),s(Nn,Tn),s(Tn,mo),s(P,vo),s(P,On),s(On,bo),s(P,wo),s(P,ht),s(ht,Eo),s(ht,An),s(An,yo),s(ht,ko),s(P,Mo),s(P,In),s(In,Sn),s(Sn,No),s(P,To),s(P,xn),s(xn,Oo),s(P,Ao),s(P,ft),s(ft,Io),s(ft,Rn),s(Rn,So),s(ft,xo),s(He,Ro),s(He,xt),s(xt,Rt),s(Rt,Do),s(He,jo),Te(Dt,He,null),s(r,Co),s(r,be),s(be,jt),s(jt,Ct),s(Ct,Lo),s(be,zo),s(be,Xe),s(Xe,Ue),s(be,Bo),s(be,Dn),s(Dn,Po),s(be,Ho),Te(Lt,be,null),s(be,Uo),s(be,zt),s(zt,Bt),s(Bt,Vo),s(be,Go),s(be,we),s(we,nt),s(nt,Fo),s(nt,jn),s(jn,Wo),s(nt,Xo),Te(Pt,nt,null),s(we,Ko),s(we,Ht),s(Ht,Zo),Te(Ut,Ht,null),s(we,Yo),s(we,Je),s(Je,qo),s(Je,Cn),s(Cn,Jo),s(Je,Qo),s(Je,$o),s(Je,es),s(we,ts),s(we,it),s(it,ns),s(it,Ln),s(Ln,is),s(it,os),Te(Vt,it,null),s(we,ss),s(we,Gt),s(Gt,as),Te(Ft,Gt,null),s(we,rs),s(we,Wt),s(Wt,ls),Te(Xt,Wt,null),s(r,cs),s(r,pt),s(pt,Kt),s(Kt,Zt),s(Zt,us),s(pt,ds),s(pt,_t),s(_t,zn),s(zn,gs),s(_t,hs),s(_t,Bn),s(Bn,fs),s(r,ps),s(r,Pn),s(Pn,Hn),s(Hn,Yt),s(Yt,_s),s(Yt,qt),s(qt,ms),Ke=!0,vs||(Bs=[q(je,"click",e[8]),q(Le,"click",e[9]),q(Me,"click",e[10]),q(Se,"click",e[11]),q(ne,"click",e[12]),q(re,"input",e[13]),q(re,"change",e[14]),q(ze,"input",e[15]),q(ze,"change",function(){hl(e[4].commit)&&e[4].commit.apply(this,arguments)}),q(Be,"input",e[16]),q(Be,"change",e[17]),q(Be,"input",e[18]),q(Pe,"input",e[19]),q(Pe,"change",e[20]),q(Pe,"input",e[21]),q(lt,"input",e[22]),q(ct,"input",e[23]),q(ut,"input",e[24])],vs=!0)},p(U,[ge]){e=U;const le={};ge&2&&(le.options=e[1]),!B&&ge&1&&(B=!0,le.value=e[0],Et(()=>B=!1)),w.$set(le),(!Ke||ge&4)&&te(R,"background",e[2]),(!Ke||ge&1&&on!==(on=e[0].scale))&&(re.value=on),(!Ke||ge&1)&&Zn!==(Zn=Math.round(e[0].scale*100)/100+"")&&lr(ti,Zn),(!Ke||ge&1&&ni!==(ni=e[0].rotation))&&(ze.value=ni),(!Ke||ge&1)&&Yn!==(Yn=Math.round(e[0].rotation*100)/100+"")&&lr(ii,Yn),ge&8&&mi(Be.value)!==e[3].x&&et(Be,e[3].x),ge&8&&mi(Pe.value)!==e[3].y&&et(Pe,e[3].y),ge&2&&et(lt,e[1].overlay_options.overlay_color),ge&2&&et(ct,e[1].overlay_options.line_color),ge&4&&et(ut,e[2]);const ot={};!Ki&&ge&1&&(Ki=!0,ot.value=e[0],Et(()=>Ki=!1)),tt.$set(ot),(!Ke||ge&1&&oi!==(oi=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*300}px;margin-left: ${300/2+(e[0].position.x||0)*300}px;margin-top: ${300/e[0].aspect/2+(e[0].position.y||0)*300}px;
                    max-width:none`))&&u(Ue,"style",oi),(!Ke||ge&1)&&te(Xe,"width",e[0].aspect*300+"px")},i(U){Ke||(se(w.$$.fragment,U),se(tt.$$.fragment,U),se(At.$$.fragment,U),se(Dt.$$.fragment,U),se(Lt.$$.fragment,U),se(Pt.$$.fragment,U),se(Ut.$$.fragment,U),se(Vt.$$.fragment,U),se(Ft.$$.fragment,U),se(Xt.$$.fragment,U),Ke=!0)},o(U){ce(w.$$.fragment,U),ce(tt.$$.fragment,U),ce(At.$$.fragment,U),ce(Dt.$$.fragment,U),ce(Lt.$$.fragment,U),ce(Pt.$$.fragment,U),ce(Ut.$$.fragment,U),ce(Vt.$$.fragment,U),ce(Ft.$$.fragment,U),ce(Xt.$$.fragment,U),Ke=!1},d(U){d(n),U&&t.d(),U&&d(l),U&&d(r),e[6](null),Oe(w),Oe(tt),Oe(At),Oe(Dt),Oe(Lt),Oe(Pt),Oe(Ut),Oe(Vt),Oe(Ft),Oe(Xt),vs=!1,Dr(Bs)}}}function Yc(e,t,n){let l={content_type:"video",url:`${jr}/Mountain - 8837.mp4`},r={...Lr,shape:"rect",overlay_options:{line_color:"#f3f5e8",overlay_color:"#167676"}},c="#164646",o=zr,i={x:0,y:0},a;function h($){Ae[$?"unshift":"push"](()=>{a=$,n(4,a)})}function E($){o=$,n(0,o)}const x=()=>{n(0,o.aspect=8,o)},H=()=>{n(0,o.aspect=16/9,o)},T=()=>{n(0,o.aspect=4/3,o)},D=()=>{n(0,o.aspect=1,o)},I=()=>{n(0,o.aspect=3/4,o)},F=$=>a.set_zoom(parseFloat($.currentTarget.value)),A=$=>{a.commit(),$.currentTarget.value=o.scale.toString()},C=$=>a.set_rotation(parseFloat($.currentTarget.value)),b=()=>a.set_pan(i),z=()=>{a.commit(),n(3,i.x=o.position.x,i)};function Z(){i.x=mi(this.value),n(3,i),n(0,o)}const ae=()=>a.set_pan(i),fe=()=>{a.commit(),n(3,i.y=o.position.y,i)};function J(){i.y=mi(this.value),n(3,i),n(0,o)}function G(){r.overlay_options.overlay_color=this.value,n(1,r)}function ue(){r.overlay_options.line_color=this.value,n(1,r)}function Q(){c=this.value,n(2,c)}function _e($){o=$,n(0,o)}return e.$$.update=()=>{e.$$.dirty&1&&n(3,i=o.position)},[o,r,c,i,a,l,h,E,x,H,T,D,I,F,A,C,b,z,Z,ae,fe,J,G,ue,Q,_e]}class $c extends Qt{constructor(t){super(),$t(this,t,Yc,Zc,en,{})}}export{$c as default};
