var sl=Object.defineProperty;var il=(e,t,n)=>t in e?sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qe=(e,t,n)=>(il(e,typeof t!="symbol"?t+"":t,n),n);import{S as tn,i as nn,s as sn,e as It,b as ve,A as tr,h,H as jr,o as Ro,I as Se,k as g,l as p,m as _,n as c,J as q,K as ol,L as Xn,f as se,g as ys,t as re,d as Ms,v as Ie,a as I,w as Te,c as O,x as Oe,y as Ae,M as Et,N as nr,O as yt,P as kr,Q as al,R as Kn,F as o,T as sr,U as ir,V as or,B as rl,C as ll,D as cl,E as ul,W as ar,j as dl,X as Oo,Y as hl,Z as rr,_ as fl,q as y,r as M,u as Ao,$ as Dr,a0 as xr,a1 as gl,p as te,a2 as $e,a3 as ms,a4 as pl}from"../../chunks/index-e94117d2.js";function lr(e,t,n){const a=e.slice();return a[10]=t[n],a}function _l(e){let t,n,a,l,u=Array.isArray(e[0].url)?e[0].url:[{src:e[0].url}],i=[];for(let s=0;s<u.length;s+=1)i[s]=cr(lr(e,u,s));return{c(){t=g("video");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){t=p(s,"VIDEO",{style:!0,class:!0});var r=_(t);for(let d=0;d<i.length;d+=1)i[d].l(r);r.forEach(h),this.h()},h(){t.autoplay=!0,t.loop=!0,t.muted=!0,c(t,"style",n=`transform: translateX(-50%) translateY(-50%) rotate(${e[3]}deg);height: ${e[2]}px;margin-left: ${e[1].x}px;margin-top: ${e[1].y}px;`),t.controls=!1,c(t,"class","svelte-gles9i")},m(s,r){ve(s,t,r);for(let d=0;d<i.length;d+=1)i[d].m(t,null);e[8](t),a||(l=q(t,"loadedmetadata",e[6]),a=!0)},p(s,r){if(r&1){u=Array.isArray(s[0].url)?s[0].url:[{src:s[0].url}];let d;for(d=0;d<u.length;d+=1){const b=lr(s,u,d);i[d]?i[d].p(b,r):(i[d]=cr(b),i[d].c(),i[d].m(t,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=u.length}r&14&&n!==(n=`transform: translateX(-50%) translateY(-50%) rotate(${s[3]}deg);height: ${s[2]}px;margin-left: ${s[1].x}px;margin-top: ${s[1].y}px;`)&&c(t,"style",n)},d(s){s&&h(t),ol(i,s),e[8](null),a=!1,l()}}}function vl(e){let t,n,a,l,u;return{c(){t=g("img"),this.h()},l(i){t=p(i,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){Xn(t.src,n=e[0].url)||c(t,"src",n),c(t,"alt","image to be cropped"),c(t,"style",a=`transform: translateX(-50%) translateY(-50%) rotate(${e[3]}deg);height: ${e[2]}px;margin-left: ${e[1].x}px;margin-top: ${e[1].y}px;`),c(t,"class","svelte-gles9i")},m(i,s){ve(i,t,s),e[7](t),l||(u=q(t,"load",e[6]),l=!0)},p(i,s){s&1&&!Xn(t.src,n=i[0].url)&&c(t,"src",n),s&14&&a!==(a=`transform: translateX(-50%) translateY(-50%) rotate(${i[3]}deg);height: ${i[2]}px;margin-left: ${i[1].x}px;margin-top: ${i[1].y}px;`)&&c(t,"style",a)},d(i){i&&h(t),e[7](null),l=!1,u()}}}function cr(e){let t,n;return{c(){t=g("source"),this.h()},l(a){t=p(a,"SOURCE",{src:!0}),this.h()},h(){Xn(t.src,n=e[10].src)||c(t,"src",n)},m(a,l){ve(a,t,l)},p(a,l){l&1&&!Xn(t.src,n=a[10].src)&&c(t,"src",n)},d(a){a&&h(t)}}}function ml(e){let t;function n(u,i){if(u[0]&&u[0].content_type=="image")return vl;if(u[0]&&u[0].content_type=="video")return _l}let a=n(e),l=a&&a(e);return{c(){l&&l.c(),t=It()},l(u){l&&l.l(u),t=It()},m(u,i){l&&l.m(u,i),ve(u,t,i)},p(u,[i]){a===(a=n(u))&&l?l.p(u,i):(l&&l.d(1),l=a&&a(u),l&&(l.c(),l.m(t.parentNode,t)))},i:tr,o:tr,d(u){l&&l.d(u),u&&h(t)}}}function wl(e,t,n){let{media:a}=t,{position:l={x:0,y:0}}=t,{height:u=1}=t,{rotation:i=0}=t,s,r,d=jr();function b(){if(s||r){const D=(s==null?void 0:s.naturalWidth)||(r==null?void 0:r.videoWidth)||0,S=(s==null?void 0:s.naturalHeight)||(r==null?void 0:r.videoHeight)||0;d("media_size",{width:D,height:S})}}Ro(()=>{s&&s.complete&&b()});function R(A){Se[A?"unshift":"push"](()=>{s=A,n(4,s)})}function j(A){Se[A?"unshift":"push"](()=>{r=A,n(5,r)})}return e.$$set=A=>{"media"in A&&n(0,a=A.media),"position"in A&&n(1,l=A.position),"height"in A&&n(2,u=A.height),"rotation"in A&&n(3,i=A.rotation)},[a,l,u,i,s,r,b,R,j]}class bl extends tn{constructor(t){super(),nn(this,t,wl,ml,sn,{media:0,position:1,height:2,rotation:3})}}function No(e,t){let n=t/180*Math.PI;return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.y*Math.cos(n)+e.x*Math.sin(n)}}function we(...e){let t={x:0,y:0};for(var n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return t}function De(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ye(e,t){return{x:e.x*t,y:e.y*t}}function bt(e,t,n){let{x:a,y:l}=No({x:e.x-t.x,y:e.y-t.y},n);return{x:a+t.x,y:l+t.y}}function To(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function ws(e,t){let n=-Math.atan2(e.y-t.y,t.x-e.x)*(180/Math.PI);return n<0?n+360:n}function So(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function El(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Cr(e){e.rafTimeout&&window.cancelAnimationFrame(e.rafTimeout),e.rafTimeout=window.requestAnimationFrame(t=>{e.start_time||(e.start_time=t);const n=Math.min((t-e.start_time)/e.duration,1);let a=El(n);if(e.offset===void 0||e.scale===void 0)throw"animation lacks start or end position/scale";e.on_progress({x:(1-a)*e.offset.x,y:(1-a)*e.offset.y},(1-a)*e.scale+a*1),n<1?Cr(e):e.abort()})}class yl{constructor(t,n){Qe(this,"duration",500);Qe(this,"start_time",null);Qe(this,"offset");Qe(this,"scale");Qe(this,"rafTimeout",null);Qe(this,"start",(t,n)=>{this.start_time=null,this.offset=t,this.scale=n,Cr(this)});Qe(this,"abort",()=>{this.rafTimeout&&window.cancelAnimationFrame(this.rafTimeout),this.on_end(),this.start_time=null,this.offset=void 0,this.scale=void 0});Qe(this,"on_progress");Qe(this,"on_end");this.on_progress=t,this.on_end=n}}function ur(e){let t,n,a,l,u;t=new bl({props:{media:e[1],height:e[0].scale*e[12]*e[13]*e[5].height,position:we(e[6],Ye(we(e[0].position,e[7],e[9],e[8],e[10]),e[5].height)),rotation:e[0].rotation+e[11]}}),t.$on("media_size",e[14]);var i=e[2].overlay;function s(r){return{props:{options:r[2].overlay_options,show_lines:r[3],shape:r[2].shape}}}return i&&(l=new i(s(e))),{c(){Ie(t.$$.fragment),n=I(),a=g("div"),l&&Ie(l.$$.fragment),this.h()},l(r){Te(t.$$.fragment,r),n=O(r),a=p(r,"DIV",{class:!0});var d=_(a);l&&Te(l.$$.fragment,d),d.forEach(h),this.h()},h(){c(a,"class","inner svelte-143jpe6")},m(r,d){Oe(t,r,d),ve(r,n,d),ve(r,a,d),l&&Oe(l,a,null),u=!0},p(r,d){const b={};d[0]&2&&(b.media=r[1]),d[0]&12321&&(b.height=r[0].scale*r[12]*r[13]*r[5].height),d[0]&2017&&(b.position=we(r[6],Ye(we(r[0].position,r[7],r[9],r[8],r[10]),r[5].height))),d[0]&2049&&(b.rotation=r[0].rotation+r[11]),t.$set(b);const R={};if(d[0]&4&&(R.options=r[2].overlay_options),d[0]&8&&(R.show_lines=r[3]),d[0]&4&&(R.shape=r[2].shape),i!==(i=r[2].overlay)){if(l){ys();const j=l;re(j.$$.fragment,1,0,()=>{Ae(j,1)}),Ms()}i?(l=new i(s(r)),Ie(l.$$.fragment),se(l.$$.fragment,1),Oe(l,a,null)):l=null}else i&&l.$set(R)},i(r){u||(se(t.$$.fragment,r),l&&se(l.$$.fragment,r),u=!0)},o(r){re(t.$$.fragment,r),l&&re(l.$$.fragment,r),u=!1},d(r){Ae(t,r),r&&h(n),r&&h(a),l&&Ae(l)}}}function Ml(e){let t,n,a=e[5]&&e[4]&&ur(e);return{c(){a&&a.c(),t=It()},l(l){a&&a.l(l),t=It()},m(l,u){a&&a.m(l,u),ve(l,t,u),n=!0},p(l,u){l[5]&&l[4]?a?(a.p(l,u),u[0]&48&&se(a,1)):(a=ur(l),a.c(),se(a,1),a.m(t.parentNode,t)):a&&(ys(),re(a,1,1,()=>{a=null}),Ms())},i(l){n||(se(a),n=!0)},o(l){re(a),n=!1},d(l){a&&a.d(l),l&&h(t)}}}function Il(e,t,n){let{media:a}=t,{options:l}=t,{show_lines:u=!1}=t,{outer_size:i}=t,{crop_window_size:s}=t;function r(E,H){let K=De(H,we(Q,Ye(we(w.position,B,ae,Y),s.height))),ee=E/w.scale,ie={x:-K.x*(ee-G)/G/s.height,y:-K.y*(ee-G)/G/s.height};n(8,Y=we(Y,ie)),n(12,G=ee),T.abort()}function d(E,H){if(!_e)throw"image points not defined";n(11,J=H-w.rotation);let K=bt(E,_e.center,J);n(9,ae=Ye(De(E,K),1/s.height)),T.abort()}function b(E){n(7,B=De(E,w.position)),T.abort()}function R(E,H){let K=De(H,we(Q,Ye(we(w.position,B,ae,Y),s.height))),ee=E*G,ie={x:-K.x*(ee-G)/G/s.height,y:-K.y*(ee-G)/G/s.height};n(8,Y=we(Y,ie)),n(12,G=ee),T.abort()}function j(E,H){if(!_e)throw"image points not defined";n(11,J=J+H);let K=bt(E,_e.center,J);n(9,ae=Ye(De(E,K),1/s.height)),T.abort()}function A(E){n(7,B=we(B,E)),T.abort()}function D(E){n(0,w.rotation=w.rotation+J,w),n(11,J=0),n(0,w.scale=w.scale*G,w),n(12,G=1),n(0,w.position=we(w.position,B,ae,Y),w),n(7,B={x:0,y:0}),n(9,ae={x:0,y:0}),n(8,Y={x:0,y:0}),x(E)}function S(E){let H=Ye(w.position,s.height);return we(No(E,w.rotation),H,Q)}function F(E){L={...E.detail,aspect:E.detail.width/E.detail.height},D(!0)}let T=new yl((E,H)=>{n(10,ge=E),n(13,ue=H)},()=>{n(7,B=we(B,ge)),n(12,G*=ue),n(13,ue=1),n(10,ge={x:0,y:0})}),L,{value:w}=t,B={x:0,y:0},Y={x:0,y:0},ae={x:0,y:0},ge={x:0,y:0},J=0,G=1,ue=1,{center_point:Q}=t,_e,$,V,de,v,f;function k(){if(l.shape=="rect"){let E=(i.width-s.width)/2,H=(i.width-s.width)/2+s.width,K=(i.height-s.height)/2,ee=(i.height-s.height)/2+s.height;V=bt({x:E,y:K},Q,-w.rotation),de=bt({x:H,y:K},Q,-w.rotation),v=bt({x:E,y:ee},Q,-w.rotation),f=bt({x:H,y:ee},Q,-w.rotation)}else V=De(Q,{x:0,y:+s.height/2}),de=De(Q,{x:0,y:-s.height/2}),f=De(Q,{x:+s.width/2,y:0}),v=De(Q,{x:-s.width/2,y:0})}function x(E){if(!L||!i||!s)return;k();let H=Math.max(V.x,de.x,v.x,f.x),K=Math.min(V.x,de.x,v.x,f.x),ee=Math.max(V.y,de.y,v.y,f.y),ie=Math.min(V.y,de.y,v.y,f.y);if(w.scale){let Ne=s.height*L.aspect*w.scale,me=s.height*w.scale,rt=S({x:-Ne/2,y:-me/2}),je=S({x:Ne/2,y:me/2});if(_e={top_left:rt,top_right:S({x:Ne/2,y:-me/2}),bottom_right:je,bottom_left:S({x:-Ne/2,y:me/2}),center:we(To(rt,je))},$=bt(_e.top_left,Q,-w.rotation),K>=$.x&&H<=$.x+s.height*L.aspect*w.scale&&ie>=$.y&&ee<=$.y+s.height*w.scale)return}let Re=H-K,pe=ee-ie,xe=Math.max(Re/s.height/L.aspect,pe/s.height),Ce=xe>w.scale?xe:w.scale,Ze=bt(S({x:-s.height*L.aspect*Ce/2,y:-s.height*Ce/2}),Q,-w.rotation),Le={width:s.height*L.aspect*Ce,height:s.height*Ce},Ot={x:Math.min(K-Ze.x,0)-Math.min(Ze.x+Le.width+-H,0),y:Math.min(ie-Ze.y,0)-Math.min(Ze.y+Le.height-ee,0)},We=Ye(No(Ot,w.rotation),1/s.height);(E===void 0||E===!1)&&T.start(Ye(We,-1),w.scale/Ce),n(0,w.position=we(w.position,We),w),n(0,w.scale=Ce,w)}return e.$$set=E=>{"media"in E&&n(1,a=E.media),"options"in E&&n(2,l=E.options),"show_lines"in E&&n(3,u=E.show_lines),"outer_size"in E&&n(4,i=E.outer_size),"crop_window_size"in E&&n(5,s=E.crop_window_size),"value"in E&&n(0,w=E.value),"center_point"in E&&n(6,Q=E.center_point)},e.$$.update=()=>{e.$$.dirty[0]&1&&w.aspect&&x(!0)},[w,a,l,u,i,s,Q,B,Y,ae,ge,J,G,ue,F,r,d,b,R,j,A,D]}class Ol extends tn{constructor(t){super(),nn(this,t,Il,Ml,sn,{media:1,options:2,show_lines:3,outer_size:4,crop_window_size:5,set_zoom:15,set_rotation:16,set_pan:17,zoom:18,rotate:19,pan:20,commit:21,value:0,center_point:6},null,[-1,-1])}get set_zoom(){return this.$$.ctx[15]}get set_rotation(){return this.$$.ctx[16]}get set_pan(){return this.$$.ctx[17]}get zoom(){return this.$$.ctx[18]}get rotate(){return this.$$.ctx[19]}get pan(){return this.$$.ctx[20]}get commit(){return this.$$.ctx[21]}}function dr(e,t){var n=null;return function(){n&&window.clearTimeout(n),n=window.setTimeout(async function(){e(),n=null},t)}}const hr=25,Al=35,fr=1.25;function gr(e){return e>fr||e<1/fr}function pr(e){return e<-hr||e>hr}function _r(e){return So(e,{x:0,y:0})>Al}function Nl(e){let t=[],n,a=0,l={x:0,y:0},u=1;function i(A){let D=e.getBoundingClientRect();return De({x:A.clientX,y:A.clientY},D)}function s(A){let D=t.findIndex(S=>S.identifier==A.identifier);D!=-1?t[D].p=i(A):t.push({p:i(A),identifier:A.identifier})}function r(A){let D=t.findIndex(S=>S.identifier==A);if(D!=-1)return t[D].p}function d(A){A.preventDefault();for(let D of A.changedTouches)s(D);a=0,l={x:0,y:0},u=1,t.length>1&&e.dispatchEvent(new CustomEvent("number_of_touch_points_changed",{detail:null})),window.addEventListener("touchmove",b),window.addEventListener("touchend",j)}function b(A){if(A.touches.length==1){const D=r(A.touches[0].identifier),S=i(A.touches[0]);if(!S)throw"no focal_point";let F={x:0,y:0};D&&(F=De(S,D)),R({focal_point:S,pan:F,rotation:0,scale:1},A.touches)}if(A.touches.length>=2){let D=r(A.touches[0].identifier),S=r(A.touches[1].identifier),F=i(A.touches[0]),T=i(A.touches[1]);const L=D&&S?To(D,S):void 0,w=To(F,T);let B=0;D&&S&&(B=ws(F,T)-ws(D,S),pr(a)||(a+=B));let Y={x:0,y:0};L&&(Y=De(w,L),_r(l)||(l=we(l,Y)));let ae=1;D&&S&&(ae=So(F,T)/So(D,S),gr(u)||(u*=ae));let ge={focal_point:w,pan:_r(l)?Y:{x:0,y:0},rotation:pr(a)?B:0,scale:gr(u)?ae:1};R(ge,A.touches)}}function R(A,D){n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("touch_scale_pan_rotate",{detail:A}));for(let S of D)s(S)})}function j(A){t=[],a=0,u=1,l={x:0,y:0};for(let D of A.touches)s(D);e.dispatchEvent(new CustomEvent("touchend_scale_pan_rotate",{detail:null})),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",j)}return e.addEventListener("touchstart",d),{destroy(){e.removeEventListener("touchstart",d)}}}function vs(e){let t;return e.type==="touchstart"?t=e.touches[0]:e.type==="touchmove"?t=e.changedTouches[0]:t=e,{x:t.clientX,y:t.clientY}}function vr(e){return e.preventDefault(),!1}function Tl(e){let t,n,a;function l(s){if(s.preventDefault(),a===void 0){a=s.button;let r=vs(s),d={x:r.x,y:r.y,mouse_button:a};e.dispatchEvent(new CustomEvent("mouse_draggable_start",{detail:d})),window.addEventListener("mousemove",u),window.addEventListener("mouseup",i)}}function u(s){s.preventDefault();let r=vs(s);const d=r.x-(t||r.x),b=r.y-(n||r.y);t=r.x,n=r.y;let R={x:t,y:n,dx:d,dy:b,mouse_button:a||0};e.dispatchEvent(new CustomEvent("mouse_draggable_move",{detail:R}))}function i(s){s.preventDefault(),t=void 0,n=void 0,a=void 0;let r=vs(s),d={x:r.x,y:r.y,mouse_button:a||0};e.dispatchEvent(new CustomEvent("mouse_draggable_end",{detail:d})),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",i)}return e.addEventListener("mousedown",l),e.addEventListener("contextmenu",vr),{destroy(){e.removeEventListener("mousedown",l),e.removeEventListener("contextmenu",vr)}}}function Sl(e){let t,n,a,l,u,i,s,r,d,b;function R(T){e[20](T)}function j(T){e[21](T)}function A(T){e[22](T)}function D(T){e[23](T)}function S(T){e[24](T)}let F={options:e[4],center_point:e[5]};return e[2]!==void 0&&(F.outer_size=e[2]),e[8]!==void 0&&(F.show_lines=e[8]),e[3]!==void 0&&(F.crop_window_size=e[3]),e[0]!==void 0&&(F.media=e[0]),e[1]!==void 0&&(F.value=e[1]),n=new Ol({props:F}),e[19](n),Se.push(()=>Et(n,"outer_size",R)),Se.push(()=>Et(n,"show_lines",j)),Se.push(()=>Et(n,"crop_window_size",A)),Se.push(()=>Et(n,"media",D)),Se.push(()=>Et(n,"value",S)),{c(){t=g("div"),Ie(n.$$.fragment),this.h()},l(T){t=p(T,"DIV",{class:!0});var L=_(t);Te(n.$$.fragment,L),L.forEach(h),this.h()},h(){c(t,"class","outer svelte-8lw7rp")},m(T,L){ve(T,t,L),Oe(n,t,null),e[25](t),r=!0,d||(b=[q(t,"gesturestart",mr),q(t,"gesturechange",mr),nr(Tl.call(null,t)),q(t,"wheel",e[11],{passive:!1}),q(t,"mouse_draggable_move",e[9]),q(t,"mouse_draggable_end",e[10]),nr(Nl.call(null,t)),q(t,"touch_scale_pan_rotate",e[12]),q(t,"number_of_touch_points_changed",e[13]),q(t,"touchend_scale_pan_rotate",e[14])],d=!0)},p(T,[L]){const w={};L&16&&(w.options=T[4]),L&32&&(w.center_point=T[5]),!a&&L&4&&(a=!0,w.outer_size=T[2],yt(()=>a=!1)),!l&&L&256&&(l=!0,w.show_lines=T[8],yt(()=>l=!1)),!u&&L&8&&(u=!0,w.crop_window_size=T[3],yt(()=>u=!1)),!i&&L&1&&(i=!0,w.media=T[0],yt(()=>i=!1)),!s&&L&2&&(s=!0,w.value=T[1],yt(()=>s=!1)),n.$set(w)},i(T){r||(se(n.$$.fragment,T),r=!0)},o(T){re(n.$$.fragment,T),r=!1},d(T){T&&h(t),e[19](null),Ae(n),e[25](null),d=!1,kr(b)}}}function mr(e){e.preventDefault()}function Rl(e,t,n){let{media:a}=t,{value:l}=t,{options:u}=t,i,s,{center_point:r}=t,{outer_size:d}=t,{crop_window_size:b}=t,R=!1;function j(){s.commit()}function A(f){s.set_zoom(f,r)}function D(f){s.set_rotation(r,f)}function S(f){s.set_pan(f)}let F;function T(f){if(f.detail.mouse_button==0){let k={x:f.detail.dx||0,y:f.detail.dy||0};s.pan(Ye(k,1/b.height))}else{let k=i.getBoundingClientRect();const x=De(f.detail,k);let E=F?ws(x,r)-ws(F,r):0;F=x,s.rotate(r,E)}n(8,R=!0)}function L(){F=void 0,J()}function w(f){f.preventDefault();var x=f.detail<0||f.deltaY>0?1:-1;const E=1+1/10,H=x===1?E:1/E;let K=i.getBoundingClientRect();const ee=De(vs(f),K);n(8,R=!0),s.zoom(H,ee),J()}let B;function Y(f){B||(B=f.detail.focal_point),n(8,R=!0),s.zoom(f.detail.scale,B),s.rotate(B,f.detail.rotation),s.pan(Ye(f.detail.pan,1/b.height))}function ae(){B=void 0,s.commit()}function ge(){B=void 0,J()}let J,G;Ro(()=>{J=dr(()=>{G(),s.commit()},200),G=dr(()=>{n(8,R=!1)},1600)});function ue(f){Se[f?"unshift":"push"](()=>{s=f,n(7,s)})}function Q(f){d=f,n(2,d)}function _e(f){R=f,n(8,R)}function $(f){b=f,n(3,b)}function V(f){a=f,n(0,a)}function de(f){l=f,n(1,l)}function v(f){Se[f?"unshift":"push"](()=>{i=f,n(6,i)})}return e.$$set=f=>{"media"in f&&n(0,a=f.media),"value"in f&&n(1,l=f.value),"options"in f&&n(4,u=f.options),"center_point"in f&&n(5,r=f.center_point),"outer_size"in f&&n(2,d=f.outer_size),"crop_window_size"in f&&n(3,b=f.crop_window_size)},[a,l,d,b,u,r,i,s,R,T,L,w,Y,ae,ge,j,A,D,S,ue,Q,_e,$,V,de,v]}class jl extends tn{constructor(t){super(),nn(this,t,Rl,Sl,sn,{media:0,value:1,options:4,center_point:5,outer_size:2,crop_window_size:3,commit:15,set_zoom:16,set_rotation:17,set_pan:18})}get commit(){return this.$$.ctx[15]}get set_zoom(){return this.$$.ctx[16]}get set_rotation(){return this.$$.ctx[17]}get set_pan(){return this.$$.ctx[18]}}function ps(e,{delay:t=0,duration:n=400,easing:a=al}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:u=>`opacity: ${u*l}`}}function wr(e){let t,n,a,l,u,i,s,r;return{c(){t=g("div"),l=I(),u=g("div"),this.h()},l(d){t=p(d,"DIV",{class:!0}),_(t).forEach(h),l=O(d),u=p(d,"DIV",{class:!0}),_(u).forEach(h),this.h()},h(){c(t,"class","vertical-lines svelte-13w42c5"),c(u,"class","horizontal-lines svelte-13w42c5")},m(d,b){ve(d,t,b),ve(d,l,b),ve(d,u,b),r=!0},i(d){r||(sr(()=>{a&&a.end(1),n=ir(t,ps,{duration:100}),n.start()}),sr(()=>{s&&s.end(1),i=ir(u,ps,{duration:100}),i.start()}),r=!0)},o(d){n&&n.invalidate(),a=or(t,ps,{duration:1e3}),i&&i.invalidate(),s=or(u,ps,{duration:1e3}),r=!1},d(d){d&&h(t),d&&a&&a.end(),d&&h(l),d&&h(u),d&&s&&s.end()}}}function kl(e){let t,n,a,l,u,i=e[2]&&wr();return{c(){t=g("div"),i&&i.c(),n=I(),a=g("div"),this.h()},l(s){t=p(s,"DIV",{class:!0,style:!0});var r=_(t);i&&i.l(r),n=O(r),a=p(r,"DIV",{class:!0}),_(a).forEach(h),r.forEach(h),this.h()},h(){c(a,"class","box svelte-13w42c5"),c(t,"class","crop-window svelte-13w42c5"),c(t,"style",l=`--outline-color:${e[1].line_color};
--overlay-color:${e[1].overlay_color};`),Kn(t,"round",e[0]=="round")},m(s,r){ve(s,t,r),i&&i.m(t,null),o(t,n),o(t,a),u=!0},p(s,[r]){s[2]?i?r&4&&se(i,1):(i=wr(),i.c(),se(i,1),i.m(t,n)):i&&(ys(),re(i,1,1,()=>{i=null}),Ms()),(!u||r&2&&l!==(l=`--outline-color:${s[1].line_color};
--overlay-color:${s[1].overlay_color};`))&&c(t,"style",l),(!u||r&1)&&Kn(t,"round",s[0]=="round")},i(s){u||(se(i),u=!0)},o(s){re(i),u=!1},d(s){s&&h(t),i&&i.d()}}}function Dl(e,t,n){let{shape:a}=t,{options:l}=t,{show_lines:u}=t;return e.$$set=i=>{"shape"in i&&n(0,a=i.shape),"options"in i&&n(1,l=i.options),"show_lines"in i&&n(2,u=i.show_lines)},[a,l,u]}class xl extends tn{constructor(t){super(),nn(this,t,Dl,kl,sn,{shape:0,options:1,show_lines:2})}}const Lr={shape:"rect",crop_window_margin:10,overlay:xl,overlay_options:{line_color:"#FFFFFF",overlay_color:"#222222"}},zr={position:{x:0,y:0},aspect:1,rotation:0,scale:0};function br(e){let t,n,a;function l(i){e[14](i)}let u={options:e[2],media:e[1],crop_window_size:e[5],outer_size:e[4],center_point:e[6]};return e[0]!==void 0&&(u.value=e[0]),t=new jl({props:u}),e[13](t),Se.push(()=>Et(t,"value",l)),{c(){Ie(t.$$.fragment)},l(i){Te(t.$$.fragment,i)},m(i,s){Oe(t,i,s),a=!0},p(i,s){const r={};s&4&&(r.options=i[2]),s&2&&(r.media=i[1]),s&32&&(r.crop_window_size=i[5]),s&16&&(r.outer_size=i[4]),s&64&&(r.center_point=i[6]),!n&&s&1&&(n=!0,r.value=i[0],yt(()=>n=!1)),t.$set(r)},i(i){a||(se(t.$$.fragment,i),a=!0)},o(i){re(t.$$.fragment,i),a=!1},d(i){e[13](null),Ae(t,i)}}}function Cl(e){let t,n,a,l,u,i=e[5]&&e[4]&&e[6]&&br(e);return{c(){t=g("div"),i&&i.c(),this.h()},l(s){t=p(s,"DIV",{class:!0,style:!0});var r=_(t);i&&i.l(r),r.forEach(h),this.h()},h(){var s,r,d,b;c(t,"class","outer svelte-5oeq2h"),c(t,"style",n=`--crop-window-height:${((s=e[5])==null?void 0:s.height)||0}px;
--crop-window-width:${((r=e[5])==null?void 0:r.width)||0}px;
--outer-height:${((d=e[4])==null?void 0:d.height)||0}px;
--outer-width:${((b=e[4])==null?void 0:b.width)||0}px;`)},m(s,r){ve(s,t,r),i&&i.m(t,null),e[15](t),a=!0,l||(u=q(window,"resize",e[8]),l=!0)},p(s,[r]){var d,b,R,j;s[5]&&s[4]&&s[6]?i?(i.p(s,r),r&112&&se(i,1)):(i=br(s),i.c(),se(i,1),i.m(t,null)):i&&(ys(),re(i,1,1,()=>{i=null}),Ms()),(!a||r&48&&n!==(n=`--crop-window-height:${((d=s[5])==null?void 0:d.height)||0}px;
--crop-window-width:${((b=s[5])==null?void 0:b.width)||0}px;
--outer-height:${((R=s[4])==null?void 0:R.height)||0}px;
--outer-width:${((j=s[4])==null?void 0:j.width)||0}px;`))&&c(t,"style",n)},i(s){a||(se(i),a=!0)},o(s){re(i),a=!1},d(s){s&&h(t),i&&i.d(),e[15](null),l=!1,u()}}}function Ll(e,t,n){let{media:a}=t,{value:l=zr}=t,{options:u}=t;if(u.shape=="round"&&l.aspect!=1)throw"round crops must be circles!";let i,s,r;function d(){S.commit()}function b(w){S.set_zoom(w)}function R(w){S.set_rotation(w)}function j(w){S.set_pan(w)}Ro(()=>{A()});function A(){let w=D.getBoundingClientRect();n(4,i={width:w.width,height:w.height}),n(6,r={x:w.width/2,y:w.height/2}),n(5,s=i.width/i.height>l.aspect?{height:i.height-2*u.crop_window_margin,width:(i.height-2*u.crop_window_margin)*l.aspect}:{height:(i.width-2*u.crop_window_margin)/l.aspect,width:i.width-2*u.crop_window_margin})}let D,S;function F(w){Se[w?"unshift":"push"](()=>{S=w,n(7,S)})}function T(w){l=w,n(0,l)}function L(w){Se[w?"unshift":"push"](()=>{D=w,n(3,D)})}return e.$$set=w=>{"media"in w&&n(1,a=w.media),"value"in w&&n(0,l=w.value),"options"in w&&n(2,u=w.options)},e.$$.update=()=>{e.$$.dirty&9&&D&&l.aspect&&A()},[l,a,u,D,i,s,r,S,A,d,b,R,j,F,T,L]}class Er extends tn{constructor(t){super(),nn(this,t,Ll,Cl,sn,{media:1,value:0,options:2,commit:9,set_zoom:10,set_rotation:11,set_pan:12})}get commit(){return this.$$.ctx[9]}get set_zoom(){return this.$$.ctx[10]}get set_rotation(){return this.$$.ctx[11]}get set_pan(){return this.$$.ctx[12]}}var jo={exports:{}};function ko(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&ko(n)}),e}jo.exports=ko;jo.exports.default=ko;class yr{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Br(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Mt(e,...t){const n=Object.create(null);for(const a in e)n[a]=e[a];return t.forEach(function(a){for(const l in a)n[l]=a[l]}),n}const zl="</span>",Mr=e=>!!e.scope||e.sublanguage&&e.language,Bl=(e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((a,l)=>`${a}${"_".repeat(l+1)}`)].join(" ")}return`${t}${e}`};class Hl{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Br(t)}openNode(t){if(!Mr(t))return;let n="";t.sublanguage?n=`language-${t.language}`:n=Bl(t.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(t){!Mr(t)||(this.buffer+=zl)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Ir=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class Do{constructor(){this.rootNode=Ir(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Ir({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(a=>this._walk(t,a)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{Do._collapse(n)})))}}class Pl extends Do{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const a=t.root;a.sublanguage=!0,a.language=n,this.add(a)}toHTML(){return new Hl(this,this.options).value()}finalize(){return!0}}function es(e){return e?typeof e=="string"?e:e.source:null}function Hr(e){return on("(?=",e,")")}function Ul(e){return on("(?:",e,")*")}function Vl(e){return on("(?:",e,")?")}function on(...e){return e.map(n=>es(n)).join("")}function Fl(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function xo(...e){const t=Fl(e);return"("+(t.capture?"":"?:")+e.map(a=>es(a)).join("|")+")"}function Pr(e){return new RegExp(e.toString()+"|").exec("").length-1}function Gl(e,t){const n=e&&e.exec(t);return n&&n.index===0}const Wl=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Co(e,{joinWith:t}){let n=0;return e.map(a=>{n+=1;const l=n;let u=es(a),i="";for(;u.length>0;){const s=Wl.exec(u);if(!s){i+=u;break}i+=u.substring(0,s.index),u=u.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?i+="\\"+String(Number(s[1])+l):(i+=s[0],s[0]==="("&&n++)}return i}).map(a=>`(${a})`).join(t)}const Kl=/\b\B/,Ur="[a-zA-Z]\\w*",Lo="[a-zA-Z_]\\w*",Vr="\\b\\d+(\\.\\d+)?",Fr="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Gr="\\b(0b[01]+)",Xl="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Yl=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=on(t,/.*\b/,e.binary,/\b.*/)),Mt({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,a)=>{n.index!==0&&a.ignoreMatch()}},e)},ts={begin:"\\\\[\\s\\S]",relevance:0},Zl={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ts]},ql={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ts]},Jl={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Is=function(e,t,n={}){const a=Mt({scope:"comment",begin:e,end:t,contains:[]},n);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const l=xo("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:on(/[ ]+/,"(",l,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},Ql=Is("//","$"),$l=Is("/\\*","\\*/"),ec=Is("#","$"),tc={scope:"number",begin:Vr,relevance:0},nc={scope:"number",begin:Fr,relevance:0},sc={scope:"number",begin:Gr,relevance:0},ic={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ts,{begin:/\[/,end:/\]/,relevance:0,contains:[ts]}]}]},oc={scope:"title",begin:Ur,relevance:0},ac={scope:"title",begin:Lo,relevance:0},rc={begin:"\\.\\s*"+Lo,relevance:0},lc=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var _s=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Kl,IDENT_RE:Ur,UNDERSCORE_IDENT_RE:Lo,NUMBER_RE:Vr,C_NUMBER_RE:Fr,BINARY_NUMBER_RE:Gr,RE_STARTERS_RE:Xl,SHEBANG:Yl,BACKSLASH_ESCAPE:ts,APOS_STRING_MODE:Zl,QUOTE_STRING_MODE:ql,PHRASAL_WORDS_MODE:Jl,COMMENT:Is,C_LINE_COMMENT_MODE:Ql,C_BLOCK_COMMENT_MODE:$l,HASH_COMMENT_MODE:ec,NUMBER_MODE:tc,C_NUMBER_MODE:nc,BINARY_NUMBER_MODE:sc,REGEXP_MODE:ic,TITLE_MODE:oc,UNDERSCORE_TITLE_MODE:ac,METHOD_GUARD:rc,END_SAME_AS_BEGIN:lc});function cc(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function uc(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function dc(e,t){!t||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=cc,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function hc(e,t){!Array.isArray(e.illegal)||(e.illegal=xo(...e.illegal))}function fc(e,t){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function gc(e,t){e.relevance===void 0&&(e.relevance=1)}const pc=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(a=>{delete e[a]}),e.keywords=n.keywords,e.begin=on(n.beforeMatch,Hr(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},_c=["of","and","for","in","not","or","if","then","parent","list","value"],vc="keyword";function Wr(e,t,n=vc){const a=Object.create(null);return typeof e=="string"?l(n,e.split(" ")):Array.isArray(e)?l(n,e):Object.keys(e).forEach(function(u){Object.assign(a,Wr(e[u],t,u))}),a;function l(u,i){t&&(i=i.map(s=>s.toLowerCase())),i.forEach(function(s){const r=s.split("|");a[r[0]]=[u,mc(r[0],r[1])]})}}function mc(e,t){return t?Number(t):wc(e)?0:1}function wc(e){return _c.includes(e.toLowerCase())}const Or={},en=e=>{console.error(e)},Ar=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Wn=(e,t)=>{Or[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Or[`${e}/${t}`]=!0)},bs=new Error;function Kr(e,t,{key:n}){let a=0;const l=e[n],u={},i={};for(let s=1;s<=t.length;s++)i[s+a]=l[s],u[s+a]=!0,a+=Pr(t[s-1]);e[n]=i,e[n]._emit=u,e[n]._multi=!0}function bc(e){if(!!Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw en("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),bs;if(typeof e.beginScope!="object"||e.beginScope===null)throw en("beginScope must be object"),bs;Kr(e,e.begin,{key:"beginScope"}),e.begin=Co(e.begin,{joinWith:""})}}function Ec(e){if(!!Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw en("skip, excludeEnd, returnEnd not compatible with endScope: {}"),bs;if(typeof e.endScope!="object"||e.endScope===null)throw en("endScope must be object"),bs;Kr(e,e.end,{key:"endScope"}),e.end=Co(e.end,{joinWith:""})}}function yc(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Mc(e){yc(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),bc(e),Ec(e)}function Ic(e){function t(i,s){return new RegExp(es(i),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(s?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(s,r){r.position=this.position++,this.matchIndexes[this.matchAt]=r,this.regexes.push([r,s]),this.matchAt+=Pr(s)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const s=this.regexes.map(r=>r[1]);this.matcherRe=t(Co(s,{joinWith:"|"}),!0),this.lastIndex=0}exec(s){this.matcherRe.lastIndex=this.lastIndex;const r=this.matcherRe.exec(s);if(!r)return null;const d=r.findIndex((R,j)=>j>0&&R!==void 0),b=this.matchIndexes[d];return r.splice(0,d),Object.assign(r,b)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(s){if(this.multiRegexes[s])return this.multiRegexes[s];const r=new n;return this.rules.slice(s).forEach(([d,b])=>r.addRule(d,b)),r.compile(),this.multiRegexes[s]=r,r}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(s,r){this.rules.push([s,r]),r.type==="begin"&&this.count++}exec(s){const r=this.getMatcher(this.regexIndex);r.lastIndex=this.lastIndex;let d=r.exec(s);if(this.resumingScanAtSamePosition()&&!(d&&d.index===this.lastIndex)){const b=this.getMatcher(0);b.lastIndex=this.lastIndex+1,d=b.exec(s)}return d&&(this.regexIndex+=d.position+1,this.regexIndex===this.count&&this.considerAll()),d}}function l(i){const s=new a;return i.contains.forEach(r=>s.addRule(r.begin,{rule:r,type:"begin"})),i.terminatorEnd&&s.addRule(i.terminatorEnd,{type:"end"}),i.illegal&&s.addRule(i.illegal,{type:"illegal"}),s}function u(i,s){const r=i;if(i.isCompiled)return r;[uc,fc,Mc,pc].forEach(b=>b(i,s)),e.compilerExtensions.forEach(b=>b(i,s)),i.__beforeBegin=null,[dc,hc,gc].forEach(b=>b(i,s)),i.isCompiled=!0;let d=null;return typeof i.keywords=="object"&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),d=i.keywords.$pattern,delete i.keywords.$pattern),d=d||/\w+/,i.keywords&&(i.keywords=Wr(i.keywords,e.case_insensitive)),r.keywordPatternRe=t(d,!0),s&&(i.begin||(i.begin=/\B|\b/),r.beginRe=t(r.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(r.endRe=t(r.end)),r.terminatorEnd=es(r.end)||"",i.endsWithParent&&s.terminatorEnd&&(r.terminatorEnd+=(i.end?"|":"")+s.terminatorEnd)),i.illegal&&(r.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(b){return Oc(b==="self"?i:b)})),i.contains.forEach(function(b){u(b,r)}),i.starts&&u(i.starts,s),r.matcher=l(r),r}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Mt(e.classNameAliases||{}),u(e)}function Xr(e){return e?e.endsWithParent||Xr(e.starts):!1}function Oc(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Mt(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Xr(e)?Mt(e,{starts:e.starts?Mt(e.starts):null}):Object.isFrozen(e)?Mt(e):e}var Ac="11.6.0";class Nc extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Io=Br,Nr=Mt,Tr=Symbol("nomatch"),Tc=7,Sc=function(e){const t=Object.create(null),n=Object.create(null),a=[];let l=!0;const u="Could not find the language '{}', did you forget to load/include a language module?",i={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Pl};function r(v){return s.noHighlightRe.test(v)}function d(v){let f=v.className+" ";f+=v.parentNode?v.parentNode.className:"";const k=s.languageDetectRe.exec(f);if(k){const x=G(k[1]);return x||(Ar(u.replace("{}",k[1])),Ar("Falling back to no-highlight mode for this block.",v)),x?k[1]:"no-highlight"}return f.split(/\s+/).find(x=>r(x)||G(x))}function b(v,f,k){let x="",E="";typeof f=="object"?(x=v,k=f.ignoreIllegals,E=f.language):(Wn("10.7.0","highlight(lang, code, ...args) has been deprecated."),Wn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),E=v,x=f),k===void 0&&(k=!0);const H={code:x,language:E};V("before:highlight",H);const K=H.result?H.result:R(H.language,H.code,k);return K.code=H.code,V("after:highlight",K),K}function R(v,f,k,x){const E=Object.create(null);function H(m,N){return m.keywords[N]}function K(){if(!C.keywords){ne.addText(Z);return}let m=0;C.keywordPatternRe.lastIndex=0;let N=C.keywordPatternRe.exec(Z),z="";for(;N;){z+=Z.substring(m,N.index);const W=me.case_insensitive?N[0].toLowerCase():N[0],oe=H(C,W);if(oe){const[le,rn]=oe;if(ne.addText(z),z="",E[W]=(E[W]||0)+1,E[W]<=Tc&&(lt+=rn),le.startsWith("_"))z+=N[0];else{const Yn=me.classNameAliases[le]||le;ne.addKeyword(N[0],Yn)}}else z+=N[0];m=C.keywordPatternRe.lastIndex,N=C.keywordPatternRe.exec(Z)}z+=Z.substring(m),ne.addText(z)}function ee(){if(Z==="")return;let m=null;if(typeof C.subLanguage=="string"){if(!t[C.subLanguage]){ne.addText(Z);return}m=R(C.subLanguage,Z,!0,an[C.subLanguage]),an[C.subLanguage]=m._top}else m=A(Z,C.subLanguage.length?C.subLanguage:null);C.relevance>0&&(lt+=m.relevance),ne.addSublanguage(m._emitter,m.language)}function ie(){C.subLanguage!=null?ee():K(),Z=""}function Re(m,N){let z=1;const W=N.length-1;for(;z<=W;){if(!m._emit[z]){z++;continue}const oe=me.classNameAliases[m[z]]||m[z],le=N[z];oe?ne.addKeyword(le,oe):(Z=le,K(),Z=""),z++}}function pe(m,N){return m.scope&&typeof m.scope=="string"&&ne.openNode(me.classNameAliases[m.scope]||m.scope),m.beginScope&&(m.beginScope._wrap?(ne.addKeyword(Z,me.classNameAliases[m.beginScope._wrap]||m.beginScope._wrap),Z=""):m.beginScope._multi&&(Re(m.beginScope,N),Z="")),C=Object.create(m,{parent:{value:C}}),C}function xe(m,N,z){let W=Gl(m.endRe,z);if(W){if(m["on:end"]){const oe=new yr(m);m["on:end"](N,oe),oe.isMatchIgnored&&(W=!1)}if(W){for(;m.endsParent&&m.parent;)m=m.parent;return m}}if(m.endsWithParent)return xe(m.parent,N,z)}function Ce(m){return C.matcher.regexIndex===0?(Z+=m[0],1):(Nt=!0,0)}function Ze(m){const N=m[0],z=m.rule,W=new yr(z),oe=[z.__beforeBegin,z["on:begin"]];for(const le of oe)if(!!le&&(le(m,W),W.isMatchIgnored))return Ce(N);return z.skip?Z+=N:(z.excludeBegin&&(Z+=N),ie(),!z.returnBegin&&!z.excludeBegin&&(Z=N)),pe(z,m),z.returnBegin?0:N.length}function Le(m){const N=m[0],z=f.substring(m.index),W=xe(C,m,z);if(!W)return Tr;const oe=C;C.endScope&&C.endScope._wrap?(ie(),ne.addKeyword(N,C.endScope._wrap)):C.endScope&&C.endScope._multi?(ie(),Re(C.endScope,m)):oe.skip?Z+=N:(oe.returnEnd||oe.excludeEnd||(Z+=N),ie(),oe.excludeEnd&&(Z=N));do C.scope&&ne.closeNode(),!C.skip&&!C.subLanguage&&(lt+=C.relevance),C=C.parent;while(C!==W.parent);return W.starts&&pe(W.starts,m),oe.returnEnd?0:N.length}function Ot(){const m=[];for(let N=C;N!==me;N=N.parent)N.scope&&m.unshift(N.scope);m.forEach(N=>ne.openNode(N))}let We={};function Ne(m,N){const z=N&&N[0];if(Z+=m,z==null)return ie(),0;if(We.type==="begin"&&N.type==="end"&&We.index===N.index&&z===""){if(Z+=f.slice(N.index,N.index+1),!l){const W=new Error(`0 width match regex (${v})`);throw W.languageName=v,W.badRule=We.rule,W}return 1}if(We=N,N.type==="begin")return Ze(N);if(N.type==="illegal"&&!k){const W=new Error('Illegal lexeme "'+z+'" for mode "'+(C.scope||"<unnamed>")+'"');throw W.mode=C,W}else if(N.type==="end"){const W=Le(N);if(W!==Tr)return W}if(N.type==="illegal"&&z==="")return 1;if(At>1e5&&At>N.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Z+=z,z.length}const me=G(v);if(!me)throw en(u.replace("{}",v)),new Error('Unknown language: "'+v+'"');const rt=Ic(me);let je="",C=x||rt;const an={},ne=new s.__emitter(s);Ot();let Z="",lt=0,ke=0,At=0,Nt=!1;try{for(C.matcher.considerAll();;){At++,Nt?Nt=!1:C.matcher.considerAll(),C.matcher.lastIndex=ke;const m=C.matcher.exec(f);if(!m)break;const N=f.substring(ke,m.index),z=Ne(N,m);ke=m.index+z}return Ne(f.substring(ke)),ne.closeAllNodes(),ne.finalize(),je=ne.toHTML(),{language:v,value:je,relevance:lt,illegal:!1,_emitter:ne,_top:C}}catch(m){if(m.message&&m.message.includes("Illegal"))return{language:v,value:Io(f),illegal:!0,relevance:0,_illegalBy:{message:m.message,index:ke,context:f.slice(ke-100,ke+100),mode:m.mode,resultSoFar:je},_emitter:ne};if(l)return{language:v,value:Io(f),illegal:!1,relevance:0,errorRaised:m,_emitter:ne,_top:C};throw m}}function j(v){const f={value:Io(v),illegal:!1,relevance:0,_top:i,_emitter:new s.__emitter(s)};return f._emitter.addText(v),f}function A(v,f){f=f||s.languages||Object.keys(t);const k=j(v),x=f.filter(G).filter(Q).map(ie=>R(ie,v,!1));x.unshift(k);const E=x.sort((ie,Re)=>{if(ie.relevance!==Re.relevance)return Re.relevance-ie.relevance;if(ie.language&&Re.language){if(G(ie.language).supersetOf===Re.language)return 1;if(G(Re.language).supersetOf===ie.language)return-1}return 0}),[H,K]=E,ee=H;return ee.secondBest=K,ee}function D(v,f,k){const x=f&&n[f]||k;v.classList.add("hljs"),v.classList.add(`language-${x}`)}function S(v){let f=null;const k=d(v);if(r(k))return;if(V("before:highlightElement",{el:v,language:k}),v.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(v)),s.throwUnescapedHTML))throw new Nc("One of your code blocks includes unescaped HTML.",v.innerHTML);f=v;const x=f.textContent,E=k?b(x,{language:k,ignoreIllegals:!0}):A(x);v.innerHTML=E.value,D(v,k,E.language),v.result={language:E.language,re:E.relevance,relevance:E.relevance},E.secondBest&&(v.secondBest={language:E.secondBest.language,relevance:E.secondBest.relevance}),V("after:highlightElement",{el:v,result:E,text:x})}function F(v){s=Nr(s,v)}const T=()=>{B(),Wn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function L(){B(),Wn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let w=!1;function B(){if(document.readyState==="loading"){w=!0;return}document.querySelectorAll(s.cssSelector).forEach(S)}function Y(){w&&B()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",Y,!1);function ae(v,f){let k=null;try{k=f(e)}catch(x){if(en("Language definition for '{}' could not be registered.".replace("{}",v)),l)en(x);else throw x;k=i}k.name||(k.name=v),t[v]=k,k.rawDefinition=f.bind(null,e),k.aliases&&ue(k.aliases,{languageName:v})}function ge(v){delete t[v];for(const f of Object.keys(n))n[f]===v&&delete n[f]}function J(){return Object.keys(t)}function G(v){return v=(v||"").toLowerCase(),t[v]||t[n[v]]}function ue(v,{languageName:f}){typeof v=="string"&&(v=[v]),v.forEach(k=>{n[k.toLowerCase()]=f})}function Q(v){const f=G(v);return f&&!f.disableAutodetect}function _e(v){v["before:highlightBlock"]&&!v["before:highlightElement"]&&(v["before:highlightElement"]=f=>{v["before:highlightBlock"](Object.assign({block:f.el},f))}),v["after:highlightBlock"]&&!v["after:highlightElement"]&&(v["after:highlightElement"]=f=>{v["after:highlightBlock"](Object.assign({block:f.el},f))})}function $(v){_e(v),a.push(v)}function V(v,f){const k=v;a.forEach(function(x){x[k]&&x[k](f)})}function de(v){return Wn("10.7.0","highlightBlock will be removed entirely in v12.0"),Wn("10.7.0","Please use highlightElement now."),S(v)}Object.assign(e,{highlight:b,highlightAuto:A,highlightAll:B,highlightElement:S,highlightBlock:de,configure:F,initHighlighting:T,initHighlightingOnLoad:L,registerLanguage:ae,unregisterLanguage:ge,listLanguages:J,getLanguage:G,registerAliases:ue,autoDetection:Q,inherit:Nr,addPlugin:$}),e.debugMode=function(){l=!1},e.safeMode=function(){l=!0},e.versionString=Ac,e.regex={concat:on,lookahead:Hr,either:xo,optional:Vl,anyNumberOfTimes:Ul};for(const v in _s)typeof _s[v]=="object"&&jo.exports(_s[v]);return Object.assign(e,_s),e};var ns=Sc({}),Rc=ns;ns.HighlightJS=ns;ns.default=ns;const Sr=Rc;const jc=e=>({highlighted:e&8}),Rr=e=>({highlighted:e[3]});function kc(e){let t;return{c(){t=y(e[1])},l(n){t=M(n,e[1])},m(n,a){ve(n,t,a)},p(n,a){a&2&&Ao(t,n[1])},d(n){n&&h(t)}}}function Dc(e){let t,n;return{c(){t=new Dr(!1),n=It(),this.h()},l(a){t=xr(a,!1),n=It(),this.h()},h(){t.a=n},m(a,l){t.m(e[3],a,l),ve(a,n,l)},p(a,l){l&8&&t.p(a[3])},d(a){a&&h(n),a&&t.d()}}}function xc(e){let t,n,a;function l(d,b){return d[3]!==void 0?Dc:kc}let u=l(e),i=u(e),s=[{"data-language":a=e[0].name||"plaintext"},e[4]],r={};for(let d=0;d<s.length;d+=1)r=Oo(r,s[d]);return{c(){t=g("pre"),n=g("code"),i.c(),this.h()},l(d){t=p(d,"PRE",{"data-language":!0});var b=_(t);n=p(b,"CODE",{class:!0});var R=_(n);i.l(R),R.forEach(h),b.forEach(h),this.h()},h(){c(n,"class","hljs"),rr(t,r),Kn(t,"langtag",e[2]),Kn(t,"svelte-4cqgwq",!0)},m(d,b){ve(d,t,b),o(t,n),i.m(n,null)},p(d,b){u===(u=l(d))&&i?i.p(d,b):(i.d(1),i=u(d),i&&(i.c(),i.m(n,null))),rr(t,r=fl(s,[b&1&&a!==(a=d[0].name||"plaintext")&&{"data-language":a},b&16&&d[4]])),Kn(t,"langtag",d[2]),Kn(t,"svelte-4cqgwq",!0)},d(d){d&&h(t),i.d()}}}function Cc(e){let t;const n=e[6].default,a=rl(n,e,e[5],Rr),l=a||xc(e);return{c(){l&&l.c()},l(u){l&&l.l(u)},m(u,i){l&&l.m(u,i),t=!0},p(u,[i]){a?a.p&&(!t||i&40)&&ll(a,n,u,u[5],t?ul(n,u[5],i,jc):cl(u[5]),Rr):l&&l.p&&(!t||i&31)&&l.p(u,t?i:-1)},i(u){t||(se(l,u),t=!0)},o(u){re(l,u),t=!1},d(u){l&&l.d(u)}}}function Lc(e,t,n){const a=["language","code","langtag"];let l=ar(t,a),{$$slots:u={},$$scope:i}=t,{language:s={name:void 0,register:void 0}}=t,{code:r=void 0}=t,{langtag:d=!1}=t;const b=jr();let R;return dl(()=>{R&&b("highlight",{highlighted:R})}),e.$$set=j=>{t=Oo(Oo({},t),hl(j)),n(4,l=ar(t,a)),"language"in j&&n(0,s=j.language),"code"in j&&n(1,r=j.code),"langtag"in j&&n(2,d=j.langtag),"$$scope"in j&&n(5,i=j.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&s.name&&s.register&&(Sr.registerLanguage(s.name,s.register),n(3,R=Sr.highlight(r,{language:s.name}).value))},[s,r,d,R,l,i,u]}class ot extends tn{constructor(t){super(),nn(this,t,Lc,Cc,sn,{language:0,code:1,langtag:2})}}const Es="[A-Za-z$_][0-9A-Za-z$_]*",Yr=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Zr=["true","false","null","undefined","NaN","Infinity"],qr=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Jr=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Qr=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],$r=["arguments","this","super","console","window","document","localStorage","module","global"],el=[].concat(Qr,qr,Jr);function zc(e){const t=e.regex,n=(f,{after:k})=>{const x="</"+f[0].slice(1);return f.input.indexOf(x,k)!==-1},a=Es,l={begin:"<>",end:"</>"},u=/<[A-Za-z0-9\\._:-]+\s*\/>/,i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(f,k)=>{const x=f[0].length+f.index,E=f.input[x];if(E==="<"||E===","){k.ignoreMatch();return}E===">"&&(n(f,{after:x})||k.ignoreMatch());let H;if((H=f.input.substring(x).match(/^\s+extends\s+/))&&H.index===0){k.ignoreMatch();return}}},s={$pattern:Es,keyword:Yr,literal:Zr,built_in:el,"variable.language":$r},r="[0-9](_?[0-9])*",d=`\\.(${r})`,b="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",R={className:"number",variants:[{begin:`(\\b(${b})((${d})|\\.)?|(${d}))[eE][+-]?(${r})\\b`},{begin:`\\b(${b})\\b((${d})\\b|\\.)?|(${d})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},j={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},A={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,j],subLanguage:"xml"}},D={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,j],subLanguage:"css"}},S={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,j]},F=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),T={className:"comment",variants:[F,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},L=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,A,D,S,R];j.contains=L.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(L)});const w=[].concat(T,j.contains),B=w.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(w)}]),Y={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:B},ae={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,t.concat(a,"(",t.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},ge={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...qr,...Jr]}},J={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},G={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[Y],illegal:/%/},ue={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Q(f){return t.concat("(?!",f.join("|"),")")}const _e={match:t.concat(/\b/,Q([...Qr,"super"]),a,t.lookahead(/\(/)),className:"title.function",relevance:0},$={begin:t.concat(/\./,t.lookahead(t.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},V={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},Y]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",v={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[Y]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:B,CLASS_REFERENCE:ge},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),J,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,A,D,S,T,R,ge,{className:"attr",begin:a+t.lookahead(":"),relevance:0},v,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[T,e.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:B}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:l.begin,end:l.end},{match:u},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},G,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[Y,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[Y]},_e,ue,ae,V,{match:/\$[(.]/}]}}function Bc(e){const t=zc(e),n=Es,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],l={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},u={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[t.exports.CLASS_REFERENCE]},i={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},s=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],r={$pattern:Es,keyword:Yr.concat(s),literal:Zr,built_in:el.concat(a),"variable.language":$r},d={className:"meta",begin:"@"+n},b=(j,A,D)=>{const S=j.contains.findIndex(F=>F.label===A);if(S===-1)throw new Error("can not find mode to replace");j.contains.splice(S,1,D)};Object.assign(t.keywords,r),t.exports.PARAMS_CONTAINS.push(d),t.contains=t.contains.concat([d,l,u]),b(t,"shebang",e.SHEBANG()),b(t,"use_strict",i);const R=t.contains.find(j=>j.label==="func.def");return R.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx"]}),t}const Hc={name:"typescript",register:Bc},at=Hc,Pc="<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>",Uc=Pc;function Vc(e){let t,n,a,l,u,i,s,r,d,b,R,j,A,D,S,F,T,L,w,B,Y,ae,ge,J,G,ue,Q,_e,$,V,de,v,f,k,x,E,H,K,ee,ie,Re,pe,xe,Ce,Ze,Le,Ot,We,Ne,me,rt,je,C,an,ne,Z,lt,ke,At,Nt,m,N,z,W,oe,le,rn,Yn,Zn=Math.round(e[0].scale*100)/100+"",ss,Os,ln,As,Ns,ct,ze,is,Ts,qn=Math.round(e[0].rotation*100)/100+"",os,Ss,cn,Rs,js,Be,ks,un,Ds,xs,He,Cs,dn,Ls,zs,fe,hn,Bs,Hs,ut,Ps,fn,Us,Vs,dt,Fs,gn,Gs,Ws,ht,Ks,qe,Tt,St,Xs,Ys,ft,et,Zs,qs,pn,Rt,Js,Pe,jt,kt,Qs,$s,gt,U,_n,ei,ti,vn,ni,si,mn,ii,oi,wn,bn,ai,ri,En,yn,li,ci,Mn,ui,di,In,On,hi,fi,An,gi,pi,Nn,_i,vi,Tn,Sn,mi,wi,Rn,bi,Ei,pt,yi,jn,Mi,Ii,Oi,kn,Dn,Ai,Ni,xn,Ti,Si,_t,Ri,Cn,ji,ki,Di,Dt,xt,xi,Ci,Ct,Li,be,Lt,zt,zi,Bi,Ke,Ue,as,zo,Hi,Ln,Pi,Ui,Bt,Vi,Ht,Pt,Fi,Gi,Ee,tt,Wi,zn,Ki,Xi,Ut,Yi,Vt,Zi,Ft,qi,nt,Ji,Bn,Qi,$i,Gt,eo,st,to,Hn,no,so,Wt,io,Kt,oo,Xt,ao,Yt,ro,Zt,lo,vt,qt,Jt,co,uo,mt,Pn,ho,fo,Un,go,po,Vn,Fn,Qt,_o,$t,vo,Xe,mo,Bo;function tl(P){e[7](P)}let Ho={media:e[5],options:e[1]};e[0]!==void 0&&(Ho.value=e[0]),E=new Er({props:Ho}),e[6](E),Se.push(()=>Et(E,"value",tl));function nl(P){e[25](P)}let Po={media:e[5],options:Lr};return e[0]!==void 0&&(Po.value=e[0]),et=new Er({props:Po}),Se.push(()=>Et(et,"value",nl)),Rt=new ot({props:{language:at,code:`// in script tag
import { CropWindow, defaultOptions, defaultValue } from 'svelte-crop-window';

let media: Media = {
    content_type: 'video',
    url: '/Mountain - 8837.mp4'
};

let value = defaultValue;

// in the template
<div style="height:20em; background: #222">
    <CropWindow bind:value {media} options={defaultOptions} />
</div>
`}}),Ct=new ot({props:{language:at,code:`export const defaultOptions: Options<OverlayOptions> = {
    shape: 'rect',
    crop_window_margin: 10,

    overlay: Overlay,
    overlay_options: {
        line_color: '#FFFFFF',
        overlay_color: '#222222'
    },
};
`}}),Bt=new ot({props:{language:at,code:`<div style="position:relative;height:{HEIGHT}px;width:{value.aspect * HEIGHT}px; overflow:hidden">
    <video
        style={\`transform: translateX(-50%) translateY(-50%) rotate({value.rotation || 0}deg);
    height: {(value.scale || 0.0) * HEIGHT}px;
    margin-left: {HEIGHT / 2 + (value.position.x || 0) * HEIGHT}px;
    margin-top: {HEIGHT / value.aspect / 2 + (value.position.y || 0) * HEIGHT}px;
    max-width:none\`}
        src={url}
    />
</div>`}}),Ut=new ot({props:{language:at,code:"target_width = target_height * value.aspect;"}}),Ft=new ot({props:{language:at,code:"s = value.scale * target_height / media.height;"}}),Gt=new ot({props:{language:at,code:"resized_media = scale(media, s);"}}),Wt=new ot({props:{language:at,code:`resized_and_rotated_media =
    rotate(resized_media, value.rotation);`}}),Xt=new ot({props:{language:at,code:`left =
    (resized_and_rotated_media.width - target_width) / 2.0
    - value.x * target_height;
top =
    (resized_and_rotated_media.height - target_height) / 2.0
    - value.y * target_height;`}}),Zt=new ot({props:{language:at,code:`cropped_media =
    extract_area(resized_and_rotated_media, left, top,
                 target_width, target_height);`}}),{c(){t=new Dr(!1),n=It(),a=I(),l=g("div"),u=g("div"),i=g("h1"),s=g("a"),r=g("img"),b=y(`
            svelte-crop-window`),R=I(),j=g("p"),A=y("A crop window with touch and mouse gestures to zoom, pan and rotate an image or video."),D=I(),S=g("p"),F=y("Media snaps back to cover the crop area."),T=I(),L=g("div"),w=y("Looking for contributions, code review and feedback! Feel free to open an issue on "),B=g("a"),Y=y("the GitHub repository"),ae=y(" or connect with me via the Svelte discord (sabine#8815)."),ge=I(),J=g("div"),G=y("The code of this page is "),ue=g("a"),Q=y("here"),_e=y("."),$=I(),V=g("div"),de=g("h2"),v=g("a"),f=y("Example with controls"),k=I(),x=g("div"),Ie(E.$$.fragment),K=I(),ee=g("h3"),ie=y("Aspect ratio"),Re=I(),pe=g("div"),xe=g("button"),Ce=y("8:1"),Ze=I(),Le=g("button"),Ot=y("16:9"),We=I(),Ne=g("button"),me=y("4:3"),rt=I(),je=g("button"),C=y("1:1"),an=I(),ne=g("button"),Z=y("3:4"),lt=I(),ke=g("h3"),At=y("Scale / Rotation / Position"),Nt=I(),m=g("div"),N=g("div"),z=y("scale"),W=I(),oe=g("div"),le=g("input"),Yn=I(),ss=y(Zn),Os=I(),ln=g("div"),As=y("rotation"),Ns=I(),ct=g("div"),ze=g("input"),Ts=I(),os=y(qn),Ss=I(),cn=g("div"),Rs=y("x"),js=I(),Be=g("input"),ks=I(),un=g("div"),Ds=y("y"),xs=I(),He=g("input"),Cs=I(),dn=g("h3"),Ls=y("Colors"),zs=I(),fe=g("div"),hn=g("div"),Bs=y("overlay color"),Hs=I(),ut=g("input"),Ps=I(),fn=g("div"),Us=y("line color"),Vs=I(),dt=g("input"),Fs=I(),gn=g("div"),Gs=y("background color"),Ws=I(),ht=g("input"),Ks=I(),qe=g("div"),Tt=g("h2"),St=g("a"),Xs=y("Minimal code example"),Ys=I(),ft=g("div"),Ie(et.$$.fragment),qs=I(),pn=g("div"),Ie(Rt.$$.fragment),Js=I(),Pe=g("div"),jt=g("h2"),kt=g("a"),Qs=y("Options"),$s=I(),gt=g("div"),U=g("div"),_n=g("div"),ei=y("name"),ti=I(),vn=g("div"),ni=y("value"),si=I(),mn=g("div"),ii=y("purpose"),oi=I(),wn=g("div"),bn=g("code"),ai=y("shape"),ri=I(),En=g("div"),yn=g("code"),li=y('"rect" | "round"'),ci=I(),Mn=g("div"),ui=y('Determines how the to-be-cropped media "snaps back" to cover the crop area'),di=I(),In=g("div"),On=g("code"),hi=y("crop_window_margin"),fi=I(),An=g("div"),gi=y("number of pixels"),pi=I(),Nn=g("div"),_i=y(`Margin of the crop window, in pixels. The crop window will always scale to the
                    maximum possible size in its containing element.`),vi=I(),Tn=g("div"),Sn=g("code"),mi=y("overlay"),wi=I(),Rn=g("div"),bi=y("a Svelte component"),Ei=I(),pt=g("div"),yi=y(`The overlay component which visually highlights the crop area and, possibly,
                    some lines. You can pass your own Svelte component here, for a custom overlay.
                    Look at the included `),jn=g("code"),Mi=y("Overlay.svelte"),Ii=y(" to see how it works."),Oi=I(),kn=g("div"),Dn=g("code"),Ai=y("overlay_options"),Ni=I(),xn=g("div"),Ti=y("options for the overlay component"),Si=I(),_t=g("div"),Ri=y("Needs to be whatever options your overlay component takes. The included "),Cn=g("code"),ji=y("Overlay.svelte"),ki=y(" allows you to set the color of the overlay and the color of the lines."),Di=I(),Dt=g("h3"),xt=g("a"),xi=y("Default options"),Ci=I(),Ie(Ct.$$.fragment),Li=I(),be=g("div"),Lt=g("h2"),zt=g("a"),zi=y("How to Crop"),Bi=I(),Ke=g("div"),Ue=g("video"),Hi=I(),Ln=g("h3"),Pi=y("Render original video to HTML:"),Ui=I(),Ie(Bt.$$.fragment),Vi=I(),Ht=g("h3"),Pt=g("a"),Fi=y("Pseudo code to crop"),Gi=I(),Ee=g("ol"),tt=g("li"),Wi=y("Choose a "),zn=g("code"),Ki=y("target_height"),Xi=y(` and calculate the width for the cropped image:
                `),Ie(Ut.$$.fragment),Yi=I(),Vt=g("li"),Zi=y(`Calculate factor by which to scale:
                `),Ie(Ft.$$.fragment),qi=I(),nt=g("li"),Ji=y("Scale media by "),Bn=g("code"),Qi=y("s"),$i=y(`:
                `),Ie(Gt.$$.fragment),eo=I(),st=g("li"),to=y("Rotate media by "),Hn=g("code"),no=y("value.rotation"),so=y(`:
                `),Ie(Wt.$$.fragment),io=I(),Kt=g("li"),oo=y("Calculate x,y position of area to extract: "),Ie(Xt.$$.fragment),ao=I(),Yt=g("li"),ro=y(`Extract area:
                `),Ie(Zt.$$.fragment),lo=I(),vt=g("div"),qt=g("h2"),Jt=g("a"),co=y("What this component doesn't do"),uo=I(),mt=g("ol"),Pn=g("li"),ho=y(`Does not modify/crop the image, you have to do that by whatever means make sense
                for your application.`),fo=I(),Un=g("li"),go=y(`Doesn't (yet) provide usable controls. Currently, you need to implement your own. Contributions are
                welcome.`),po=I(),Vn=g("div"),Fn=g("small"),Qt=g("p"),_o=y("Video from shantararam at pixabay: "),$t=g("a"),vo=y("https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),this.h()},l(P){const he=gl('[data-svelte="svelte-ydr1v6"]',document.head);t=xr(he,!1),n=It(),he.forEach(h),a=O(P),l=p(P,"DIV",{class:!0});var ce=_(l);u=p(ce,"DIV",{class:!0});var it=_(u);i=p(it,"H1",{class:!0});var Uo=_(i);s=p(Uo,"A",{href:!0,style:!0,class:!0});var wo=_(s);r=p(wo,"IMG",{src:!0,alt:!0,style:!0,class:!0}),b=M(wo,`
            svelte-crop-window`),wo.forEach(h),Uo.forEach(h),R=O(it),j=p(it,"P",{class:!0});var Vo=_(j);A=M(Vo,"A crop window with touch and mouse gestures to zoom, pan and rotate an image or video."),Vo.forEach(h),D=O(it),S=p(it,"P",{class:!0});var Fo=_(S);F=M(Fo,"Media snaps back to cover the crop area."),Fo.forEach(h),it.forEach(h),T=O(ce),L=p(ce,"DIV",{class:!0});var rs=_(L);w=M(rs,"Looking for contributions, code review and feedback! Feel free to open an issue on "),B=p(rs,"A",{href:!0,class:!0});var Go=_(B);Y=M(Go,"the GitHub repository"),Go.forEach(h),ae=M(rs," or connect with me via the Svelte discord (sabine#8815)."),rs.forEach(h),ge=O(ce),J=p(ce,"DIV",{class:!0});var ls=_(J);G=M(ls,"The code of this page is "),ue=p(ls,"A",{href:!0,class:!0});var Wo=_(ue);Q=M(Wo,"here"),Wo.forEach(h),_e=M(ls,"."),ls.forEach(h),$=O(ce),V=p(ce,"DIV",{class:!0});var ye=_(V);de=p(ye,"H2",{id:!0,class:!0});var Ko=_(de);v=p(Ko,"A",{href:!0,class:!0});var Xo=_(v);f=M(Xo,"Example with controls"),Xo.forEach(h),Ko.forEach(h),k=O(ye),x=p(ye,"DIV",{style:!0,class:!0});var Yo=_(x);Te(E.$$.fragment,Yo),Yo.forEach(h),K=O(ye),ee=p(ye,"H3",{class:!0});var Zo=_(ee);ie=M(Zo,"Aspect ratio"),Zo.forEach(h),Re=O(ye),pe=p(ye,"DIV",{class:!0});var Je=_(pe);xe=p(Je,"BUTTON",{class:!0});var qo=_(xe);Ce=M(qo,"8:1"),qo.forEach(h),Ze=O(Je),Le=p(Je,"BUTTON",{class:!0});var Jo=_(Le);Ot=M(Jo,"16:9"),Jo.forEach(h),We=O(Je),Ne=p(Je,"BUTTON",{class:!0});var Qo=_(Ne);me=M(Qo,"4:3"),Qo.forEach(h),rt=O(Je),je=p(Je,"BUTTON",{class:!0});var $o=_(je);C=M($o,"1:1"),$o.forEach(h),an=O(Je),ne=p(Je,"BUTTON",{class:!0});var ea=_(ne);Z=M(ea,"3:4"),ea.forEach(h),Je.forEach(h),lt=O(ye),ke=p(ye,"H3",{class:!0});var ta=_(ke);At=M(ta,"Scale / Rotation / Position"),ta.forEach(h),Nt=O(ye),m=p(ye,"DIV",{style:!0,class:!0});var Me=_(m);N=p(Me,"DIV",{class:!0});var na=_(N);z=M(na,"scale"),na.forEach(h),W=O(Me),oe=p(Me,"DIV",{class:!0});var cs=_(oe);le=p(cs,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Yn=O(cs),ss=M(cs,Zn),cs.forEach(h),Os=O(Me),ln=p(Me,"DIV",{class:!0});var sa=_(ln);As=M(sa,"rotation"),sa.forEach(h),Ns=O(Me),ct=p(Me,"DIV",{class:!0});var us=_(ct);ze=p(us,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ts=O(us),os=M(us,qn),us.forEach(h),Ss=O(Me),cn=p(Me,"DIV",{class:!0});var ia=_(cn);Rs=M(ia,"x"),ia.forEach(h),js=O(Me),Be=p(Me,"INPUT",{type:!0,step:!0,class:!0}),ks=O(Me),un=p(Me,"DIV",{class:!0});var oa=_(un);Ds=M(oa,"y"),oa.forEach(h),xs=O(Me),He=p(Me,"INPUT",{type:!0,step:!0,class:!0}),Me.forEach(h),Cs=O(ye),dn=p(ye,"H3",{class:!0});var aa=_(dn);Ls=M(aa,"Colors"),aa.forEach(h),zs=O(ye),fe=p(ye,"DIV",{style:!0,class:!0});var Ve=_(fe);hn=p(Ve,"DIV",{class:!0});var ra=_(hn);Bs=M(ra,"overlay color"),ra.forEach(h),Hs=O(Ve),ut=p(Ve,"INPUT",{type:!0,class:!0}),Ps=O(Ve),fn=p(Ve,"DIV",{class:!0});var la=_(fn);Us=M(la,"line color"),la.forEach(h),Vs=O(Ve),dt=p(Ve,"INPUT",{type:!0,class:!0}),Fs=O(Ve),gn=p(Ve,"DIV",{class:!0});var ca=_(gn);Gs=M(ca,"background color"),ca.forEach(h),Ws=O(Ve),ht=p(Ve,"INPUT",{type:!0,class:!0}),Ve.forEach(h),ye.forEach(h),Ks=O(ce),qe=p(ce,"DIV",{class:!0});var Gn=_(qe);Tt=p(Gn,"H2",{id:!0,class:!0});var ua=_(Tt);St=p(ua,"A",{href:!0,class:!0});var da=_(St);Xs=M(da,"Minimal code example"),da.forEach(h),ua.forEach(h),Ys=O(Gn),ft=p(Gn,"DIV",{style:!0,class:!0});var ha=_(ft);Te(et.$$.fragment,ha),ha.forEach(h),qs=O(Gn),pn=p(Gn,"DIV",{class:!0});var fa=_(pn);Te(Rt.$$.fragment,fa),fa.forEach(h),Gn.forEach(h),Js=O(ce),Pe=p(ce,"DIV",{class:!0});var wt=_(Pe);jt=p(wt,"H2",{id:!0,class:!0});var ga=_(jt);kt=p(ga,"A",{href:!0,class:!0});var pa=_(kt);Qs=M(pa,"Options"),pa.forEach(h),ga.forEach(h),$s=O(wt),gt=p(wt,"DIV",{style:!0,class:!0});var _a=_(gt);U=p(_a,"DIV",{style:!0,class:!0});var X=_(U);_n=p(X,"DIV",{class:!0});var va=_(_n);ei=M(va,"name"),va.forEach(h),ti=O(X),vn=p(X,"DIV",{class:!0});var ma=_(vn);ni=M(ma,"value"),ma.forEach(h),si=O(X),mn=p(X,"DIV",{class:!0});var wa=_(mn);ii=M(wa,"purpose"),wa.forEach(h),oi=O(X),wn=p(X,"DIV",{class:!0});var ba=_(wn);bn=p(ba,"CODE",{class:!0});var Ea=_(bn);ai=M(Ea,"shape"),Ea.forEach(h),ba.forEach(h),ri=O(X),En=p(X,"DIV",{class:!0});var ya=_(En);yn=p(ya,"CODE",{class:!0});var Ma=_(yn);li=M(Ma,'"rect" | "round"'),Ma.forEach(h),ya.forEach(h),ci=O(X),Mn=p(X,"DIV",{class:!0});var Ia=_(Mn);ui=M(Ia,'Determines how the to-be-cropped media "snaps back" to cover the crop area'),Ia.forEach(h),di=O(X),In=p(X,"DIV",{class:!0});var Oa=_(In);On=p(Oa,"CODE",{class:!0});var Aa=_(On);hi=M(Aa,"crop_window_margin"),Aa.forEach(h),Oa.forEach(h),fi=O(X),An=p(X,"DIV",{class:!0});var Na=_(An);gi=M(Na,"number of pixels"),Na.forEach(h),pi=O(X),Nn=p(X,"DIV",{class:!0});var Ta=_(Nn);_i=M(Ta,`Margin of the crop window, in pixels. The crop window will always scale to the
                    maximum possible size in its containing element.`),Ta.forEach(h),vi=O(X),Tn=p(X,"DIV",{class:!0});var Sa=_(Tn);Sn=p(Sa,"CODE",{class:!0});var Ra=_(Sn);mi=M(Ra,"overlay"),Ra.forEach(h),Sa.forEach(h),wi=O(X),Rn=p(X,"DIV",{class:!0});var ja=_(Rn);bi=M(ja,"a Svelte component"),ja.forEach(h),Ei=O(X),pt=p(X,"DIV",{class:!0});var ds=_(pt);yi=M(ds,`The overlay component which visually highlights the crop area and, possibly,
                    some lines. You can pass your own Svelte component here, for a custom overlay.
                    Look at the included `),jn=p(ds,"CODE",{class:!0});var ka=_(jn);Mi=M(ka,"Overlay.svelte"),ka.forEach(h),Ii=M(ds," to see how it works."),ds.forEach(h),Oi=O(X),kn=p(X,"DIV",{class:!0});var Da=_(kn);Dn=p(Da,"CODE",{class:!0});var xa=_(Dn);Ai=M(xa,"overlay_options"),xa.forEach(h),Da.forEach(h),Ni=O(X),xn=p(X,"DIV",{class:!0});var Ca=_(xn);Ti=M(Ca,"options for the overlay component"),Ca.forEach(h),Si=O(X),_t=p(X,"DIV",{class:!0});var hs=_(_t);Ri=M(hs,"Needs to be whatever options your overlay component takes. The included "),Cn=p(hs,"CODE",{class:!0});var La=_(Cn);ji=M(La,"Overlay.svelte"),La.forEach(h),ki=M(hs," allows you to set the color of the overlay and the color of the lines."),hs.forEach(h),X.forEach(h),_a.forEach(h),Di=O(wt),Dt=p(wt,"H3",{id:!0,class:!0});var za=_(Dt);xt=p(za,"A",{href:!0,class:!0});var Ba=_(xt);xi=M(Ba,"Default options"),Ba.forEach(h),za.forEach(h),Ci=O(wt),Te(Ct.$$.fragment,wt),wt.forEach(h),Li=O(ce),be=p(ce,"DIV",{class:!0});var Fe=_(be);Lt=p(Fe,"H2",{id:!0,class:!0});var Ha=_(Lt);zt=p(Ha,"A",{href:!0,class:!0});var Pa=_(zt);zi=M(Pa,"How to Crop"),Pa.forEach(h),Ha.forEach(h),Bi=O(Fe),Ke=p(Fe,"DIV",{style:!0,class:!0});var Ua=_(Ke);Ue=p(Ua,"VIDEO",{style:!0,src:!0,class:!0}),_(Ue).forEach(h),Ua.forEach(h),Hi=O(Fe),Ln=p(Fe,"H3",{class:!0});var Va=_(Ln);Pi=M(Va,"Render original video to HTML:"),Va.forEach(h),Ui=O(Fe),Te(Bt.$$.fragment,Fe),Vi=O(Fe),Ht=p(Fe,"H3",{id:!0,class:!0});var Fa=_(Ht);Pt=p(Fa,"A",{href:!0,class:!0});var Ga=_(Pt);Fi=M(Ga,"Pseudo code to crop"),Ga.forEach(h),Fa.forEach(h),Gi=O(Fe),Ee=p(Fe,"OL",{class:!0});var Ge=_(Ee);tt=p(Ge,"LI",{class:!0});var Jn=_(tt);Wi=M(Jn,"Choose a "),zn=p(Jn,"CODE",{class:!0});var Wa=_(zn);Ki=M(Wa,"target_height"),Wa.forEach(h),Xi=M(Jn,` and calculate the width for the cropped image:
                `),Te(Ut.$$.fragment,Jn),Jn.forEach(h),Yi=O(Ge),Vt=p(Ge,"LI",{class:!0});var bo=_(Vt);Zi=M(bo,`Calculate factor by which to scale:
                `),Te(Ft.$$.fragment,bo),bo.forEach(h),qi=O(Ge),nt=p(Ge,"LI",{class:!0});var Qn=_(nt);Ji=M(Qn,"Scale media by "),Bn=p(Qn,"CODE",{class:!0});var Ka=_(Bn);Qi=M(Ka,"s"),Ka.forEach(h),$i=M(Qn,`:
                `),Te(Gt.$$.fragment,Qn),Qn.forEach(h),eo=O(Ge),st=p(Ge,"LI",{class:!0});var $n=_(st);to=M($n,"Rotate media by "),Hn=p($n,"CODE",{class:!0});var Xa=_(Hn);no=M(Xa,"value.rotation"),Xa.forEach(h),so=M($n,`:
                `),Te(Wt.$$.fragment,$n),$n.forEach(h),io=O(Ge),Kt=p(Ge,"LI",{class:!0});var Eo=_(Kt);oo=M(Eo,"Calculate x,y position of area to extract: "),Te(Xt.$$.fragment,Eo),Eo.forEach(h),ao=O(Ge),Yt=p(Ge,"LI",{class:!0});var yo=_(Yt);ro=M(yo,`Extract area:
                `),Te(Zt.$$.fragment,yo),yo.forEach(h),Ge.forEach(h),Fe.forEach(h),lo=O(ce),vt=p(ce,"DIV",{class:!0});var fs=_(vt);qt=p(fs,"H2",{id:!0,class:!0});var Ya=_(qt);Jt=p(Ya,"A",{href:!0,class:!0});var Za=_(Jt);co=M(Za,"What this component doesn't do"),Za.forEach(h),Ya.forEach(h),uo=O(fs),mt=p(fs,"OL",{class:!0});var gs=_(mt);Pn=p(gs,"LI",{class:!0});var qa=_(Pn);ho=M(qa,`Does not modify/crop the image, you have to do that by whatever means make sense
                for your application.`),qa.forEach(h),fo=O(gs),Un=p(gs,"LI",{class:!0});var Ja=_(Un);go=M(Ja,`Doesn't (yet) provide usable controls. Currently, you need to implement your own. Contributions are
                welcome.`),Ja.forEach(h),gs.forEach(h),fs.forEach(h),po=O(ce),Vn=p(ce,"DIV",{class:!0});var Qa=_(Vn);Fn=p(Qa,"SMALL",{class:!0});var $a=_(Fn);Qt=p($a,"P",{class:!0});var Mo=_(Qt);_o=M(Mo,"Video from shantararam at pixabay: "),$t=p(Mo,"A",{href:!0,class:!0});var er=_($t);vo=M(er,"https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),er.forEach(h),Mo.forEach(h),$a.forEach(h),Qa.forEach(h),ce.forEach(h),this.h()},h(){t.a=n,Xn(r.src,d="logo.svg")||c(r,"src",d),c(r,"alt","svelte media crop"),te(r,"height","5rem"),te(r,"margin-right","1rem"),c(r,"class","svelte-1pjpgag"),c(s,"href","https://github.com/sabine/svelte-crop-window"),te(s,"display","flex"),te(s,"align-items","center"),c(s,"class","svelte-1pjpgag"),c(i,"class","svelte-1pjpgag"),c(j,"class","subtitle svelte-1pjpgag"),c(S,"class","svelte-1pjpgag"),c(u,"class","box svelte-1pjpgag"),c(B,"href","https://github.com/sabine/svelte-crop-window"),c(B,"class","svelte-1pjpgag"),c(L,"class","box svelte-1pjpgag"),c(ue,"href","https://github.com/sabine/svelte-crop-window/blob/main/src/routes/%2Bpage.svelte"),c(ue,"class","svelte-1pjpgag"),c(J,"class","box svelte-1pjpgag"),c(v,"href","#with-controls"),c(v,"class","svelte-1pjpgag"),c(de,"id","with-controls"),c(de,"class","svelte-1pjpgag"),te(x,"height","20em"),te(x,"background",e[2]),c(x,"class","svelte-1pjpgag"),c(ee,"class","svelte-1pjpgag"),c(xe,"class","svelte-1pjpgag"),c(Le,"class","svelte-1pjpgag"),c(Ne,"class","svelte-1pjpgag"),c(je,"class","svelte-1pjpgag"),c(ne,"class","svelte-1pjpgag"),c(pe,"class","svelte-1pjpgag"),c(ke,"class","svelte-1pjpgag"),c(N,"class","svelte-1pjpgag"),c(le,"type","range"),c(le,"min",.001),c(le,"max","6"),c(le,"step",.01),le.value=rn=e[0].scale,c(le,"class","svelte-1pjpgag"),c(oe,"class","svelte-1pjpgag"),c(ln,"class","svelte-1pjpgag"),c(ze,"type","range"),c(ze,"min",-180),c(ze,"max","180"),c(ze,"step",1),ze.value=is=e[0].rotation,c(ze,"class","svelte-1pjpgag"),c(ct,"class","svelte-1pjpgag"),c(cn,"class","svelte-1pjpgag"),c(Be,"type","number"),c(Be,"step",.01),c(Be,"class","svelte-1pjpgag"),c(un,"class","svelte-1pjpgag"),c(He,"type","number"),c(He,"step",.01),c(He,"class","svelte-1pjpgag"),te(m,"display","grid"),te(m,"grid-template-columns","auto 1fr"),te(m,"column-gap","2rem"),c(m,"class","svelte-1pjpgag"),c(dn,"class","svelte-1pjpgag"),c(hn,"class","svelte-1pjpgag"),c(ut,"type","color"),c(ut,"class","svelte-1pjpgag"),c(fn,"class","svelte-1pjpgag"),c(dt,"type","color"),c(dt,"class","svelte-1pjpgag"),c(gn,"class","svelte-1pjpgag"),c(ht,"type","color"),c(ht,"class","svelte-1pjpgag"),te(fe,"display","grid"),te(fe,"grid-template-columns","auto 1fr"),te(fe,"column-gap","2rem"),te(fe,"align-items","center"),c(fe,"class","svelte-1pjpgag"),c(V,"class","box svelte-1pjpgag"),c(St,"href","#minimal-code-example"),c(St,"class","svelte-1pjpgag"),c(Tt,"id","minimal-code-example"),c(Tt,"class","svelte-1pjpgag"),te(ft,"height","20em"),te(ft,"background","#222"),c(ft,"class","svelte-1pjpgag"),c(pn,"class","svelte-1pjpgag"),c(qe,"class","box svelte-1pjpgag"),c(kt,"href","#options"),c(kt,"class","svelte-1pjpgag"),c(jt,"id","options"),c(jt,"class","svelte-1pjpgag"),c(_n,"class","svelte-1pjpgag"),c(vn,"class","svelte-1pjpgag"),c(mn,"class","svelte-1pjpgag"),c(bn,"class","svelte-1pjpgag"),c(wn,"class","svelte-1pjpgag"),c(yn,"class","svelte-1pjpgag"),c(En,"class","svelte-1pjpgag"),c(Mn,"class","svelte-1pjpgag"),c(On,"class","svelte-1pjpgag"),c(In,"class","svelte-1pjpgag"),c(An,"class","svelte-1pjpgag"),c(Nn,"class","svelte-1pjpgag"),c(Sn,"class","svelte-1pjpgag"),c(Tn,"class","svelte-1pjpgag"),c(Rn,"class","svelte-1pjpgag"),c(jn,"class","svelte-1pjpgag"),c(pt,"class","svelte-1pjpgag"),c(Dn,"class","svelte-1pjpgag"),c(kn,"class","svelte-1pjpgag"),c(xn,"class","svelte-1pjpgag"),c(Cn,"class","svelte-1pjpgag"),c(_t,"class","svelte-1pjpgag"),te(U,"min-width","34em"),te(U,"display","grid"),te(U,"grid-template-columns","8em 8em 1fr"),te(U,"grid-gap","1rem"),c(U,"class","svelte-1pjpgag"),te(gt,"max-width","100%"),te(gt,"overflow-x","scroll"),c(gt,"class","svelte-1pjpgag"),c(xt,"href","#default-options"),c(xt,"class","svelte-1pjpgag"),c(Dt,"id","default-options"),c(Dt,"class","svelte-1pjpgag"),c(Pe,"class","box svelte-1pjpgag"),c(zt,"href","#how-to-crop"),c(zt,"class","svelte-1pjpgag"),c(Lt,"id","how-to-crop"),c(Lt,"class","svelte-1pjpgag"),c(Ue,"style",as=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*300}px;margin-left: ${300/2+(e[0].position.x||0)*300}px;margin-top: ${300/e[0].aspect/2+(e[0].position.y||0)*300}px;
                    max-width:none`),Xn(Ue.src,zo=e[5].url)||c(Ue,"src",zo),Ue.autoplay=!0,Ue.loop=!0,Ue.muted=!0,c(Ue,"class","svelte-1pjpgag"),te(Ke,"position","relative"),te(Ke,"height","300px"),te(Ke,"width",e[0].aspect*300+"px"),te(Ke,"overflow","hidden"),c(Ke,"class","svelte-1pjpgag"),c(Ln,"class","svelte-1pjpgag"),c(Pt,"href","#pseudo-code"),c(Pt,"class","svelte-1pjpgag"),c(Ht,"id","pseudo-code"),c(Ht,"class","svelte-1pjpgag"),c(zn,"class","svelte-1pjpgag"),c(tt,"class","svelte-1pjpgag"),c(Vt,"class","svelte-1pjpgag"),c(Bn,"class","svelte-1pjpgag"),c(nt,"class","svelte-1pjpgag"),c(Hn,"class","svelte-1pjpgag"),c(st,"class","svelte-1pjpgag"),c(Kt,"class","svelte-1pjpgag"),c(Yt,"class","svelte-1pjpgag"),c(Ee,"class","svelte-1pjpgag"),c(be,"class","box svelte-1pjpgag"),c(Jt,"href","#what-it-doesnt-do"),c(Jt,"class","svelte-1pjpgag"),c(qt,"id","what-it-doesnt-do"),c(qt,"class","svelte-1pjpgag"),c(Pn,"class","svelte-1pjpgag"),c(Un,"class","svelte-1pjpgag"),c(mt,"class","svelte-1pjpgag"),c(vt,"class","box svelte-1pjpgag"),c($t,"href","https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),c($t,"class","svelte-1pjpgag"),c(Qt,"class","svelte-1pjpgag"),c(Fn,"class","svelte-1pjpgag"),c(Vn,"class","box svelte-1pjpgag"),c(l,"class","container svelte-1pjpgag")},m(P,he){t.m(Uc,document.head),o(document.head,n),ve(P,a,he),ve(P,l,he),o(l,u),o(u,i),o(i,s),o(s,r),o(s,b),o(u,R),o(u,j),o(j,A),o(u,D),o(u,S),o(S,F),o(l,T),o(l,L),o(L,w),o(L,B),o(B,Y),o(L,ae),o(l,ge),o(l,J),o(J,G),o(J,ue),o(ue,Q),o(J,_e),o(l,$),o(l,V),o(V,de),o(de,v),o(v,f),o(V,k),o(V,x),Oe(E,x,null),o(V,K),o(V,ee),o(ee,ie),o(V,Re),o(V,pe),o(pe,xe),o(xe,Ce),o(pe,Ze),o(pe,Le),o(Le,Ot),o(pe,We),o(pe,Ne),o(Ne,me),o(pe,rt),o(pe,je),o(je,C),o(pe,an),o(pe,ne),o(ne,Z),o(V,lt),o(V,ke),o(ke,At),o(V,Nt),o(V,m),o(m,N),o(N,z),o(m,W),o(m,oe),o(oe,le),o(oe,Yn),o(oe,ss),o(m,Os),o(m,ln),o(ln,As),o(m,Ns),o(m,ct),o(ct,ze),o(ct,Ts),o(ct,os),o(m,Ss),o(m,cn),o(cn,Rs),o(m,js),o(m,Be),$e(Be,e[3].x),o(m,ks),o(m,un),o(un,Ds),o(m,xs),o(m,He),$e(He,e[3].y),o(V,Cs),o(V,dn),o(dn,Ls),o(V,zs),o(V,fe),o(fe,hn),o(hn,Bs),o(fe,Hs),o(fe,ut),$e(ut,e[1].overlay_options.overlay_color),o(fe,Ps),o(fe,fn),o(fn,Us),o(fe,Vs),o(fe,dt),$e(dt,e[1].overlay_options.line_color),o(fe,Fs),o(fe,gn),o(gn,Gs),o(fe,Ws),o(fe,ht),$e(ht,e[2]),o(l,Ks),o(l,qe),o(qe,Tt),o(Tt,St),o(St,Xs),o(qe,Ys),o(qe,ft),Oe(et,ft,null),o(qe,qs),o(qe,pn),Oe(Rt,pn,null),o(l,Js),o(l,Pe),o(Pe,jt),o(jt,kt),o(kt,Qs),o(Pe,$s),o(Pe,gt),o(gt,U),o(U,_n),o(_n,ei),o(U,ti),o(U,vn),o(vn,ni),o(U,si),o(U,mn),o(mn,ii),o(U,oi),o(U,wn),o(wn,bn),o(bn,ai),o(U,ri),o(U,En),o(En,yn),o(yn,li),o(U,ci),o(U,Mn),o(Mn,ui),o(U,di),o(U,In),o(In,On),o(On,hi),o(U,fi),o(U,An),o(An,gi),o(U,pi),o(U,Nn),o(Nn,_i),o(U,vi),o(U,Tn),o(Tn,Sn),o(Sn,mi),o(U,wi),o(U,Rn),o(Rn,bi),o(U,Ei),o(U,pt),o(pt,yi),o(pt,jn),o(jn,Mi),o(pt,Ii),o(U,Oi),o(U,kn),o(kn,Dn),o(Dn,Ai),o(U,Ni),o(U,xn),o(xn,Ti),o(U,Si),o(U,_t),o(_t,Ri),o(_t,Cn),o(Cn,ji),o(_t,ki),o(Pe,Di),o(Pe,Dt),o(Dt,xt),o(xt,xi),o(Pe,Ci),Oe(Ct,Pe,null),o(l,Li),o(l,be),o(be,Lt),o(Lt,zt),o(zt,zi),o(be,Bi),o(be,Ke),o(Ke,Ue),o(be,Hi),o(be,Ln),o(Ln,Pi),o(be,Ui),Oe(Bt,be,null),o(be,Vi),o(be,Ht),o(Ht,Pt),o(Pt,Fi),o(be,Gi),o(be,Ee),o(Ee,tt),o(tt,Wi),o(tt,zn),o(zn,Ki),o(tt,Xi),Oe(Ut,tt,null),o(Ee,Yi),o(Ee,Vt),o(Vt,Zi),Oe(Ft,Vt,null),o(Ee,qi),o(Ee,nt),o(nt,Ji),o(nt,Bn),o(Bn,Qi),o(nt,$i),Oe(Gt,nt,null),o(Ee,eo),o(Ee,st),o(st,to),o(st,Hn),o(Hn,no),o(st,so),Oe(Wt,st,null),o(Ee,io),o(Ee,Kt),o(Kt,oo),Oe(Xt,Kt,null),o(Ee,ao),o(Ee,Yt),o(Yt,ro),Oe(Zt,Yt,null),o(l,lo),o(l,vt),o(vt,qt),o(qt,Jt),o(Jt,co),o(vt,uo),o(vt,mt),o(mt,Pn),o(Pn,ho),o(mt,fo),o(mt,Un),o(Un,go),o(l,po),o(l,Vn),o(Vn,Fn),o(Fn,Qt),o(Qt,_o),o(Qt,$t),o($t,vo),Xe=!0,mo||(Bo=[q(xe,"click",e[8]),q(Le,"click",e[9]),q(Ne,"click",e[10]),q(je,"click",e[11]),q(ne,"click",e[12]),q(le,"input",e[13]),q(le,"change",e[14]),q(ze,"input",e[15]),q(ze,"change",function(){pl(e[4].commit)&&e[4].commit.apply(this,arguments)}),q(Be,"input",e[16]),q(Be,"change",e[17]),q(Be,"input",e[18]),q(He,"input",e[19]),q(He,"change",e[20]),q(He,"input",e[21]),q(ut,"input",e[22]),q(dt,"input",e[23]),q(ht,"input",e[24])],mo=!0)},p(P,[he]){e=P;const ce={};he&2&&(ce.options=e[1]),!H&&he&1&&(H=!0,ce.value=e[0],yt(()=>H=!1)),E.$set(ce),(!Xe||he&4)&&te(x,"background",e[2]),(!Xe||he&1&&rn!==(rn=e[0].scale))&&(le.value=rn),(!Xe||he&1)&&Zn!==(Zn=Math.round(e[0].scale*100)/100+"")&&Ao(ss,Zn),(!Xe||he&1&&is!==(is=e[0].rotation))&&(ze.value=is),(!Xe||he&1)&&qn!==(qn=Math.round(e[0].rotation*100)/100+"")&&Ao(os,qn),he&8&&ms(Be.value)!==e[3].x&&$e(Be,e[3].x),he&8&&ms(He.value)!==e[3].y&&$e(He,e[3].y),he&2&&$e(ut,e[1].overlay_options.overlay_color),he&2&&$e(dt,e[1].overlay_options.line_color),he&4&&$e(ht,e[2]);const it={};!Zs&&he&1&&(Zs=!0,it.value=e[0],yt(()=>Zs=!1)),et.$set(it),(!Xe||he&1&&as!==(as=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*300}px;margin-left: ${300/2+(e[0].position.x||0)*300}px;margin-top: ${300/e[0].aspect/2+(e[0].position.y||0)*300}px;
                    max-width:none`))&&c(Ue,"style",as),(!Xe||he&1)&&te(Ke,"width",e[0].aspect*300+"px")},i(P){Xe||(se(E.$$.fragment,P),se(et.$$.fragment,P),se(Rt.$$.fragment,P),se(Ct.$$.fragment,P),se(Bt.$$.fragment,P),se(Ut.$$.fragment,P),se(Ft.$$.fragment,P),se(Gt.$$.fragment,P),se(Wt.$$.fragment,P),se(Xt.$$.fragment,P),se(Zt.$$.fragment,P),Xe=!0)},o(P){re(E.$$.fragment,P),re(et.$$.fragment,P),re(Rt.$$.fragment,P),re(Ct.$$.fragment,P),re(Bt.$$.fragment,P),re(Ut.$$.fragment,P),re(Ft.$$.fragment,P),re(Gt.$$.fragment,P),re(Wt.$$.fragment,P),re(Xt.$$.fragment,P),re(Zt.$$.fragment,P),Xe=!1},d(P){h(n),P&&t.d(),P&&h(a),P&&h(l),e[6](null),Ae(E),Ae(et),Ae(Rt),Ae(Ct),Ae(Bt),Ae(Ut),Ae(Ft),Ae(Gt),Ae(Wt),Ae(Xt),Ae(Zt),mo=!1,kr(Bo)}}}function Fc(e,t,n){let a={content_type:"video",url:"Mountain - 8837.mp4"},l={...Lr,shape:"rect",overlay_options:{line_color:"#f3f5e8",overlay_color:"#167676"}},u="#164646",i=zr,s={x:0,y:0},r;function d($){Se[$?"unshift":"push"](()=>{r=$,n(4,r)})}function b($){i=$,n(0,i)}const R=()=>{n(0,i.aspect=8,i)},j=()=>{n(0,i.aspect=16/9,i)},A=()=>{n(0,i.aspect=4/3,i)},D=()=>{n(0,i.aspect=1,i)},S=()=>{n(0,i.aspect=3/4,i)},F=$=>r.set_zoom(parseFloat($.currentTarget.value)),T=$=>{r.commit(),$.currentTarget.value=i.scale.toString()},L=$=>r.set_rotation(parseFloat($.currentTarget.value)),w=()=>r.set_pan(s),B=()=>{r.commit(),n(3,s.x=i.position.x,s)};function Y(){s.x=ms(this.value),n(3,s),n(0,i)}const ae=()=>r.set_pan(s),ge=()=>{r.commit(),n(3,s.y=i.position.y,s)};function J(){s.y=ms(this.value),n(3,s),n(0,i)}function G(){l.overlay_options.overlay_color=this.value,n(1,l)}function ue(){l.overlay_options.line_color=this.value,n(1,l)}function Q(){u=this.value,n(2,u)}function _e($){i=$,n(0,i)}return e.$$.update=()=>{e.$$.dirty&1&&n(3,s=i.position)},[i,l,u,s,r,a,d,b,R,j,A,D,S,F,T,L,w,B,Y,ae,ge,J,G,ue,Q,_e]}class Kc extends tn{constructor(t){super(),nn(this,t,Fc,Vc,sn,{})}}export{Kc as default};
