var qc=Object.defineProperty;var Jc=(e,t,n)=>t in e?qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ut=(e,t,n)=>(Jc(e,typeof t!="symbol"?t+"":t,n),n);import{S as Zt,i as Wt,s as Kt,e as jt,b as we,A as Fl,h as d,H as er,o as tr,I as Pe,k as h,l as g,m as p,n as c,J as q,K as Qc,L as On,f as ne,g as ro,t as le,d as lo,v as Ie,a as A,w as ze,c as S,x as Re,y as De,M as Ft,N as Vl,O as Vt,P as _c,Q as $c,R as Ce,F as s,T as eo,U as Gl,V as jl,B as mc,C as vc,D as bc,E as wc,W as to,j as Ec,X as Ss,Y as yc,Z as no,_ as Nc,q as b,r as w,u as qa,$ as Tc,a0 as Ac,a1 as eu,p as K,a2 as dt,a3 as qs,a4 as so,a5 as tu,a6 as Zl}from"../../chunks/index-b7665181.js";import{b as nu}from"../../chunks/paths-6cd3a76e.js";function Wl(e,t,n){const a=e.slice();return a[10]=t[n],a}function su(e){let t,n,a,r,u=Array.isArray(e[0].url)?e[0].url:[{src:e[0].url}],o=[];for(let i=0;i<u.length;i+=1)o[i]=Kl(Wl(e,u,i));return{c(){t=h("video");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){t=g(i,"VIDEO",{style:!0,class:!0});var l=p(t);for(let f=0;f<o.length;f+=1)o[f].l(l);l.forEach(d),this.h()},h(){t.autoplay=!0,t.loop=!0,t.muted=!0,c(t,"style",n=`transform: translateX(-50%) translateY(-50%) rotate(${e[3]}deg);height: ${e[2]}px;margin-left: ${e[1].x}px;margin-top: ${e[1].y}px;`),t.controls=!1,c(t,"class","svelte-gles9i")},m(i,l){we(i,t,l);for(let f=0;f<o.length;f+=1)o[f].m(t,null);e[8](t),a||(r=q(t,"loadedmetadata",e[6]),a=!0)},p(i,l){if(l&1){u=Array.isArray(i[0].url)?i[0].url:[{src:i[0].url}];let f;for(f=0;f<u.length;f+=1){const E=Wl(i,u,f);o[f]?o[f].p(E,l):(o[f]=Kl(E),o[f].c(),o[f].m(t,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}l&14&&n!==(n=`transform: translateX(-50%) translateY(-50%) rotate(${i[3]}deg);height: ${i[2]}px;margin-left: ${i[1].x}px;margin-top: ${i[1].y}px;`)&&c(t,"style",n)},d(i){i&&d(t),Qc(o,i),e[8](null),a=!1,r()}}}function ou(e){let t,n,a,r,u;return{c(){t=h("img"),this.h()},l(o){t=g(o,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){On(t.src,n=e[0].url)||c(t,"src",n),c(t,"alt","image to be cropped"),c(t,"style",a=`transform: translateX(-50%) translateY(-50%) rotate(${e[3]}deg);height: ${e[2]}px;margin-left: ${e[1].x}px;margin-top: ${e[1].y}px;`),c(t,"class","svelte-gles9i")},m(o,i){we(o,t,i),e[7](t),r||(u=q(t,"load",e[6]),r=!0)},p(o,i){i&1&&!On(t.src,n=o[0].url)&&c(t,"src",n),i&14&&a!==(a=`transform: translateX(-50%) translateY(-50%) rotate(${o[3]}deg);height: ${o[2]}px;margin-left: ${o[1].x}px;margin-top: ${o[1].y}px;`)&&c(t,"style",a)},d(o){o&&d(t),e[7](null),r=!1,u()}}}function Kl(e){let t,n;return{c(){t=h("source"),this.h()},l(a){t=g(a,"SOURCE",{src:!0}),this.h()},h(){On(t.src,n=e[10].src)||c(t,"src",n)},m(a,r){we(a,t,r)},p(a,r){r&1&&!On(t.src,n=a[10].src)&&c(t,"src",n)},d(a){a&&d(t)}}}function iu(e){let t;function n(u,o){if(u[0]&&u[0].content_type=="image")return ou;if(u[0]&&u[0].content_type=="video")return su}let a=n(e),r=a&&a(e);return{c(){r&&r.c(),t=jt()},l(u){r&&r.l(u),t=jt()},m(u,o){r&&r.m(u,o),we(u,t,o)},p(u,[o]){a===(a=n(u))&&r?r.p(u,o):(r&&r.d(1),r=a&&a(u),r&&(r.c(),r.m(t.parentNode,t)))},i:Fl,o:Fl,d(u){r&&r.d(u),u&&d(t)}}}function au(e,t,n){let{media:a}=t,{position:r={x:0,y:0}}=t,{height:u=1}=t,{rotation:o=0}=t,i,l,f=er();function E(){if(i||l){const C=(i==null?void 0:i.naturalWidth)||(l==null?void 0:l.videoWidth)||0,D=(i==null?void 0:i.naturalHeight)||(l==null?void 0:l.videoHeight)||0;f("media_size",{width:C,height:D})}}tr(()=>{i&&i.complete&&E()});function N(M){Pe[M?"unshift":"push"](()=>{i=M,n(4,i)})}function O(M){Pe[M?"unshift":"push"](()=>{l=M,n(5,l)})}return e.$$set=M=>{"media"in M&&n(0,a=M.media),"position"in M&&n(1,r=M.position),"height"in M&&n(2,u=M.height),"rotation"in M&&n(3,o=M.rotation)},[a,r,u,o,i,l,E,N,O]}class ru extends Zt{constructor(t){super(),Wt(this,t,au,iu,Kt,{media:0,position:1,height:2,rotation:3})}}function Mn(e,t){let n=t/180*Math.PI;return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.y*Math.cos(n)+e.x*Math.sin(n)}}function fe(...e){let t={x:0,y:0};for(var n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return t}function ft(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tt(e,t){return{x:e.x*t,y:e.y*t}}function Bt(e,t,n){let{x:a,y:r}=Mn({x:e.x-t.x,y:e.y-t.y},n);return{x:a+t.x,y:r+t.y}}function Ja(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function oo(e,t){let n=-Math.atan2(e.y-t.y,t.x-e.x)*(180/Math.PI);return n<0?n+360:n}function Qa(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function lu(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}function Sc(e){e.rafTimeout&&window.cancelAnimationFrame(e.rafTimeout),e.rafTimeout=window.requestAnimationFrame(t=>{e.start_time||(e.start_time=t);const n=Math.min((t-e.start_time)/e.duration,1);let a=lu(n);if(e.offset===void 0||e.scale===void 0)throw"animation lacks start or end position/scale";e.on_progress({x:(1-a)*e.offset.x,y:(1-a)*e.offset.y},(1-a)*e.scale+a*1),n<1?Sc(e):e.abort()})}class cu{constructor(t,n){ut(this,"duration",500);ut(this,"start_time",null);ut(this,"offset");ut(this,"scale");ut(this,"rafTimeout",null);ut(this,"start",(t,n)=>{this.start_time=null,this.offset=t,this.scale=n,Sc(this)});ut(this,"abort",()=>{this.rafTimeout&&window.cancelAnimationFrame(this.rafTimeout),this.on_end(),this.start_time=null,this.offset=void 0,this.scale=void 0});ut(this,"on_progress");ut(this,"on_end");this.on_progress=t,this.on_end=n}}function Xl(e){let t,n,a,r,u;t=new ru({props:{media:e[1],height:e[0].scale*e[12]*e[13]*e[5].height,position:fe(e[6],tt(fe(e[0].position,e[7],e[9],e[8],e[10]),e[5].height)),rotation:e[0].rotation+e[11]}}),t.$on("media_size",e[14]);var o=e[2].overlay;function i(l){return{props:{options:l[2].overlay_options,gesture_in_progress:l[3],shape:l[2].shape}}}return o&&(r=new o(i(e))),{c(){Ie(t.$$.fragment),n=A(),a=h("div"),r&&Ie(r.$$.fragment),this.h()},l(l){ze(t.$$.fragment,l),n=S(l),a=g(l,"DIV",{class:!0});var f=p(a);r&&ze(r.$$.fragment,f),f.forEach(d),this.h()},h(){c(a,"class","inner svelte-1ezbe4u")},m(l,f){Re(t,l,f),we(l,n,f),we(l,a,f),r&&Re(r,a,null),u=!0},p(l,f){const E={};f[0]&2&&(E.media=l[1]),f[0]&12321&&(E.height=l[0].scale*l[12]*l[13]*l[5].height),f[0]&2017&&(E.position=fe(l[6],tt(fe(l[0].position,l[7],l[9],l[8],l[10]),l[5].height))),f[0]&2049&&(E.rotation=l[0].rotation+l[11]),t.$set(E);const N={};if(f[0]&4&&(N.options=l[2].overlay_options),f[0]&8&&(N.gesture_in_progress=l[3]),f[0]&4&&(N.shape=l[2].shape),o!==(o=l[2].overlay)){if(r){ro();const O=r;le(O.$$.fragment,1,0,()=>{De(O,1)}),lo()}o?(r=new o(i(l)),Ie(r.$$.fragment),ne(r.$$.fragment,1),Re(r,a,null)):r=null}else o&&r.$set(N)},i(l){u||(ne(t.$$.fragment,l),r&&ne(r.$$.fragment,l),u=!0)},o(l){le(t.$$.fragment,l),r&&le(r.$$.fragment,l),u=!1},d(l){De(t,l),l&&d(n),l&&d(a),r&&De(r)}}}function uu(e){let t,n,a=e[5]&&e[4]&&Xl(e);return{c(){a&&a.c(),t=jt()},l(r){a&&a.l(r),t=jt()},m(r,u){a&&a.m(r,u),we(r,t,u),n=!0},p(r,u){r[5]&&r[4]?a?(a.p(r,u),u[0]&48&&ne(a,1)):(a=Xl(r),a.c(),ne(a,1),a.m(t.parentNode,t)):a&&(ro(),le(a,1,1,()=>{a=null}),lo())},i(r){n||(ne(a),n=!0)},o(r){le(a),n=!1},d(r){a&&a.d(r),r&&d(t)}}}function du(e,t,n){let{media:a}=t,{options:r}=t,{gesture_in_progress:u=!1}=t,{outer_size:o}=t,{crop_window_size:i}=t;function l(y,P){let W=ft(P,fe(J,tt(fe(v.position,U,oe,F),i.height))),X=y/v.scale,Y={x:-W.x*(X-H)/H/i.height,y:-W.y*(X-H)/H/i.height};n(8,F=fe(F,Y)),n(12,H=X),I.abort()}function f(y,P){if(!ae)throw"image points not defined";n(11,ie=P-v.rotation);let W=Bt(y,ae.center,ie);n(9,oe=tt(ft(y,W),1/i.height)),I.abort()}function E(y){n(7,U=ft(y,v.position)),I.abort()}function N(y,P){let W=ft(P,fe(J,tt(fe(v.position,U,oe,F),i.height))),X=y*H,Y={x:-W.x*(X-H)/H/i.height,y:-W.y*(X-H)/H/i.height};n(8,F=fe(F,Y)),n(12,H=X),I.abort()}function O(y,P){if(!ae)throw"image points not defined";n(11,ie=ie+P);let W=Bt(y,ae.center,ie);n(9,oe=tt(ft(y,W),1/i.height)),I.abort()}function M(y){n(7,U=fe(U,y)),I.abort()}function C(y){n(0,v.rotation=v.rotation+ie,v),n(11,ie=0),n(0,v.scale=v.scale*H,v),n(12,H=1),n(0,v.position=fe(v.position,U,oe,F),v),n(7,U={x:0,y:0}),n(9,oe={x:0,y:0}),n(8,F={x:0,y:0}),x(y)}function D(y){let P=tt(v.position,i.height);return fe(Mn(y,v.rotation),P,J)}function j(y){L={...y.detail,aspect:y.detail.width/y.detail.height},C(!0)}let I=new cu((y,P)=>{n(10,ue=y),n(13,_e=P)},()=>{n(7,U=fe(U,ue)),n(12,H*=_e),n(13,_e=1),n(10,ue={x:0,y:0})}),L,{value:v}=t,U={x:0,y:0},F={x:0,y:0},oe={x:0,y:0},ue={x:0,y:0},ie=0,H=1,_e=1,{center_point:J}=t,ae,me,ee,de,m,_;function T(){if(r.shape=="rect"){let y=(o.width-i.width)/2,P=(o.width-i.width)/2+i.width,W=(o.height-i.height)/2,X=(o.height-i.height)/2+i.height;ee=Bt({x:y,y:W},J,-v.rotation),de=Bt({x:P,y:W},J,-v.rotation),m=Bt({x:y,y:X},J,-v.rotation),_=Bt({x:P,y:X},J,-v.rotation)}else{let W=function(ve,be,Ae){return{x:ve*ve*Ae/Math.sqrt(ve*ve*Ae*Ae+be*be),y:be*be/Math.sqrt(ve*ve*Ae*Ae+be*be)}},y=Math.tan(-v.rotation/180*Math.PI),P=Math.tan((-v.rotation+90)/180*Math.PI),X=W(i.width/2,i.height/2,y),Y={x:-X.x,y:-X.y},Ee=W(i.width/2,i.height/2,P),nt={x:-Ee.x,y:-Ee.y};ee=fe(J,Mn(X,-v.rotation)),de=fe(J,Mn(Y,-v.rotation)),_=fe(J,Mn(Ee,-v.rotation)),m=fe(J,Mn(nt,-v.rotation))}}function x(y){if(!L||!o||!i)return;T();let P=Math.max(ee.x,de.x,m.x,_.x),W=Math.min(ee.x,de.x,m.x,_.x),X=Math.max(ee.y,de.y,m.y,_.y),Y=Math.min(ee.y,de.y,m.y,_.y);if(v.scale){let st=i.height*L.aspect*v.scale,Ne=i.height*v.scale,Qe=D({x:-st/2,y:-Ne/2}),ot=D({x:st/2,y:Ne/2});if(ae={top_left:Qe,top_right:D({x:st/2,y:-Ne/2}),bottom_right:ot,bottom_left:D({x:-st/2,y:Ne/2}),center:fe(Ja(Qe,ot))},me=Bt(ae.top_left,J,-v.rotation),W>=me.x&&P<=me.x+i.height*L.aspect*v.scale&&Y>=me.y&&X<=me.y+i.height*v.scale)return}let Ee=P-W,nt=X-Y,ve=Math.max(Ee/i.height/L.aspect,nt/i.height),be=ve>v.scale?ve:v.scale,Ae=Bt(D({x:-i.height*L.aspect*be/2,y:-i.height*be/2}),J,-v.rotation),ye={width:i.height*L.aspect*be,height:i.height*be},Se={x:Math.min(W-Ae.x,0)-Math.min(Ae.x+ye.width+-P,0),y:Math.min(Y-Ae.y,0)-Math.min(Ae.y+ye.height-X,0)},Fe=tt(Mn(Se,v.rotation),1/i.height);(y===void 0||y===!1)&&I.start(tt(Fe,-1),v.scale/be),n(0,v.position=fe(v.position,Fe),v),n(0,v.scale=be,v)}return e.$$set=y=>{"media"in y&&n(1,a=y.media),"options"in y&&n(2,r=y.options),"gesture_in_progress"in y&&n(3,u=y.gesture_in_progress),"outer_size"in y&&n(4,o=y.outer_size),"crop_window_size"in y&&n(5,i=y.crop_window_size),"value"in y&&n(0,v=y.value),"center_point"in y&&n(6,J=y.center_point)},e.$$.update=()=>{e.$$.dirty[0]&1&&v.aspect&&x(!0)},[v,a,r,u,o,i,J,U,F,oe,ue,ie,H,_e,j,l,f,E,N,O,M,C]}class fu extends Zt{constructor(t){super(),Wt(this,t,du,uu,Kt,{media:1,options:2,gesture_in_progress:3,outer_size:4,crop_window_size:5,set_zoom:15,set_rotation:16,set_pan:17,zoom:18,rotate:19,pan:20,commit:21,value:0,center_point:6},null,[-1,-1])}get set_zoom(){return this.$$.ctx[15]}get set_rotation(){return this.$$.ctx[16]}get set_pan(){return this.$$.ctx[17]}get zoom(){return this.$$.ctx[18]}get rotate(){return this.$$.ctx[19]}get pan(){return this.$$.ctx[20]}get commit(){return this.$$.ctx[21]}}function Yl(e,t){var n=null;return function(){n&&window.clearTimeout(n),n=window.setTimeout(async function(){e(),n=null},t)}}const ql=25,hu=35,Jl=1.25;function Ql(e){return e>Jl||e<1/Jl}function $l(e){return e<-ql||e>ql}function ec(e){return Qa(e,{x:0,y:0})>hu}function gu(e){let t=[],n,a=0,r={x:0,y:0},u=1;function o(M){let C=e.getBoundingClientRect();return ft({x:M.clientX,y:M.clientY},C)}function i(M){let C=t.findIndex(D=>D.identifier==M.identifier);C!=-1?t[C].p=o(M):t.push({p:o(M),identifier:M.identifier})}function l(M){let C=t.findIndex(D=>D.identifier==M);if(C!=-1)return t[C].p}function f(M){M.preventDefault();for(let C of M.changedTouches)i(C);a=0,r={x:0,y:0},u=1,t.length>1&&e.dispatchEvent(new CustomEvent("number_of_touch_points_changed",{detail:null})),window.addEventListener("touchmove",E),window.addEventListener("touchend",O)}function E(M){if(M.touches.length==1){const C=l(M.touches[0].identifier),D=o(M.touches[0]);if(!D)throw"no focal_point";let j={x:0,y:0};C&&(j=ft(D,C)),N({focal_point:D,pan:j,rotation:0,scale:1},M.touches)}if(M.touches.length>=2){let C=l(M.touches[0].identifier),D=l(M.touches[1].identifier),j=o(M.touches[0]),I=o(M.touches[1]);const L=C&&D?Ja(C,D):void 0,v=Ja(j,I);let U=0;C&&D&&(U=oo(j,I)-oo(C,D),$l(a)||(a+=U));let F={x:0,y:0};L&&(F=ft(v,L),ec(r)||(r=fe(r,F)));let oe=1;C&&D&&(oe=Qa(j,I)/Qa(C,D),Ql(u)||(u*=oe));let ue={focal_point:v,pan:ec(r)?F:{x:0,y:0},rotation:$l(a)?U:0,scale:Ql(u)?oe:1};N(ue,M.touches)}}function N(M,C){n&&window.cancelAnimationFrame(n),n=window.requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("touch_scale_pan_rotate",{detail:M}));for(let D of C)i(D)})}function O(M){t=[],a=0,u=1,r={x:0,y:0};for(let C of M.touches)i(C);e.dispatchEvent(new CustomEvent("touchend_scale_pan_rotate",{detail:null})),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",O)}return e.addEventListener("touchstart",f),{destroy(){e.removeEventListener("touchstart",f)}}}function $s(e){let t;return e.type==="touchstart"?t=e.touches[0]:e.type==="touchmove"?t=e.changedTouches[0]:t=e,{x:t.clientX,y:t.clientY}}function tc(e){return e.preventDefault(),!1}function pu(e){let t,n,a;function r(i){if(i.preventDefault(),a===void 0){a=i.button;let l=$s(i),f={x:l.x,y:l.y,mouse_button:a};e.dispatchEvent(new CustomEvent("mouse_draggable_start",{detail:f})),window.addEventListener("mousemove",u),window.addEventListener("mouseup",o)}}function u(i){i.preventDefault();let l=$s(i);const f=l.x-(t||l.x),E=l.y-(n||l.y);t=l.x,n=l.y;let N={x:t,y:n,dx:f,dy:E,mouse_button:a||0};e.dispatchEvent(new CustomEvent("mouse_draggable_move",{detail:N}))}function o(i){i.preventDefault(),t=void 0,n=void 0,a=void 0;let l=$s(i),f={x:l.x,y:l.y,mouse_button:a||0};e.dispatchEvent(new CustomEvent("mouse_draggable_end",{detail:f})),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",o)}return e.addEventListener("mousedown",r),e.addEventListener("contextmenu",tc),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("contextmenu",tc)}}}function _u(e){let t,n,a,r,u,o,i,l,f,E;function N(I){e[20](I)}function O(I){e[21](I)}function M(I){e[22](I)}function C(I){e[23](I)}function D(I){e[24](I)}let j={options:e[4],center_point:e[5]};return e[2]!==void 0&&(j.outer_size=e[2]),e[8]!==void 0&&(j.gesture_in_progress=e[8]),e[3]!==void 0&&(j.crop_window_size=e[3]),e[0]!==void 0&&(j.media=e[0]),e[1]!==void 0&&(j.value=e[1]),n=new fu({props:j}),e[19](n),Pe.push(()=>Ft(n,"outer_size",N)),Pe.push(()=>Ft(n,"gesture_in_progress",O)),Pe.push(()=>Ft(n,"crop_window_size",M)),Pe.push(()=>Ft(n,"media",C)),Pe.push(()=>Ft(n,"value",D)),{c(){t=h("div"),Ie(n.$$.fragment),this.h()},l(I){t=g(I,"DIV",{class:!0});var L=p(t);ze(n.$$.fragment,L),L.forEach(d),this.h()},h(){c(t,"class","outer svelte-8lw7rp")},m(I,L){we(I,t,L),Re(n,t,null),e[25](t),l=!0,f||(E=[q(t,"gesturestart",nc),q(t,"gesturechange",nc),Vl(pu.call(null,t)),q(t,"wheel",e[11],{passive:!1}),q(t,"mouse_draggable_move",e[9]),q(t,"mouse_draggable_end",e[10]),Vl(gu.call(null,t)),q(t,"touch_scale_pan_rotate",e[12]),q(t,"number_of_touch_points_changed",e[13]),q(t,"touchend_scale_pan_rotate",e[14])],f=!0)},p(I,[L]){const v={};L&16&&(v.options=I[4]),L&32&&(v.center_point=I[5]),!a&&L&4&&(a=!0,v.outer_size=I[2],Vt(()=>a=!1)),!r&&L&256&&(r=!0,v.gesture_in_progress=I[8],Vt(()=>r=!1)),!u&&L&8&&(u=!0,v.crop_window_size=I[3],Vt(()=>u=!1)),!o&&L&1&&(o=!0,v.media=I[0],Vt(()=>o=!1)),!i&&L&2&&(i=!0,v.value=I[1],Vt(()=>i=!1)),n.$set(v)},i(I){l||(ne(n.$$.fragment,I),l=!0)},o(I){le(n.$$.fragment,I),l=!1},d(I){I&&d(t),e[19](null),De(n),e[25](null),f=!1,_c(E)}}}function nc(e){e.preventDefault()}function mu(e,t,n){let{media:a}=t,{value:r}=t,{options:u}=t,o,i,{center_point:l}=t,{outer_size:f}=t,{crop_window_size:E}=t,N=!1;function O(){i.commit()}function M(_){i.set_zoom(_,l)}function C(_){i.set_rotation(l,_)}function D(_){i.set_pan(_)}let j;function I(_){if(_.detail.mouse_button==0){let T={x:_.detail.dx||0,y:_.detail.dy||0};i.pan(tt(T,1/E.height))}else{let T=o.getBoundingClientRect();const x=ft(_.detail,T);let y=j?oo(x,l)-oo(j,l):0;j=x,i.rotate(l,y)}n(8,N=!0)}function L(){j=void 0,ie()}function v(_){_.preventDefault();var x=_.detail<0||_.deltaY>0?1:-1;const y=1+1/10,P=x===1?y:1/y;let W=o.getBoundingClientRect();const X=ft($s(_),W);n(8,N=!0),i.zoom(P,X),ie()}let U;function F(_){U||(U=_.detail.focal_point),n(8,N=!0),i.zoom(_.detail.scale,U),i.rotate(U,_.detail.rotation),i.pan(tt(_.detail.pan,1/E.height))}function oe(){U=void 0,i.commit()}function ue(){U=void 0,ie()}let ie,H;tr(()=>{ie=Yl(()=>{H(),i.commit()},200),H=Yl(()=>{n(8,N=!1)},1600)});function _e(_){Pe[_?"unshift":"push"](()=>{i=_,n(7,i)})}function J(_){f=_,n(2,f)}function ae(_){N=_,n(8,N)}function me(_){E=_,n(3,E)}function ee(_){a=_,n(0,a)}function de(_){r=_,n(1,r)}function m(_){Pe[_?"unshift":"push"](()=>{o=_,n(6,o)})}return e.$$set=_=>{"media"in _&&n(0,a=_.media),"value"in _&&n(1,r=_.value),"options"in _&&n(4,u=_.options),"center_point"in _&&n(5,l=_.center_point),"outer_size"in _&&n(2,f=_.outer_size),"crop_window_size"in _&&n(3,E=_.crop_window_size)},[a,r,f,E,u,l,o,i,N,I,L,v,F,oe,ue,O,M,C,D,_e,J,ae,me,ee,de,m]}class vu extends Zt{constructor(t){super(),Wt(this,t,mu,_u,Kt,{media:0,value:1,options:4,center_point:5,outer_size:2,crop_window_size:3,commit:15,set_zoom:16,set_rotation:17,set_pan:18})}get commit(){return this.$$.ctx[15]}get set_zoom(){return this.$$.ctx[16]}get set_rotation(){return this.$$.ctx[17]}get set_pan(){return this.$$.ctx[18]}}function Js(e,{delay:t=0,duration:n=400,easing:a=$c}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:a,css:u=>`opacity: ${u*r}`}}function sc(e){let t,n,a,r,u,o,i,l,f,E;return{c(){t=h("div"),n=h("div"),u=A(),o=h("div"),i=h("div"),this.h()},l(N){t=g(N,"DIV",{class:!0});var O=p(t);n=g(O,"DIV",{class:!0}),p(n).forEach(d),O.forEach(d),u=S(N),o=g(N,"DIV",{class:!0});var M=p(o);i=g(M,"DIV",{class:!0}),p(i).forEach(d),M.forEach(d),this.h()},h(){c(n,"class","vertical-lines svelte-1ccriay"),c(t,"class","lines-wrapper svelte-1ccriay"),Ce(t,"round",e[0]=="round"),c(i,"class","horizontal-lines svelte-1ccriay"),c(o,"class","lines-wrapper svelte-1ccriay"),Ce(o,"round",e[0]=="round")},m(N,O){we(N,t,O),s(t,n),we(N,u,O),we(N,o,O),s(o,i),E=!0},p(N,O){(!E||O&1)&&Ce(t,"round",N[0]=="round"),(!E||O&1)&&Ce(o,"round",N[0]=="round")},i(N){E||(eo(()=>{r&&r.end(1),a=Gl(n,Js,{duration:100}),a.start()}),eo(()=>{f&&f.end(1),l=Gl(i,Js,{duration:100}),l.start()}),E=!0)},o(N){a&&a.invalidate(),r=jl(n,Js,{duration:1e3}),l&&l.invalidate(),f=jl(i,Js,{duration:1e3}),E=!1},d(N){N&&d(t),N&&r&&r.end(),N&&d(u),N&&d(o),N&&f&&f.end()}}}function bu(e){let t,n,a,r,u,o=e[2]&&e[1].show_third_lines&&sc(e);return{c(){t=h("div"),o&&o.c(),n=A(),a=h("div"),this.h()},l(i){t=g(i,"DIV",{class:!0,style:!0});var l=p(t);o&&o.l(l),n=S(l),a=g(l,"DIV",{class:!0}),p(a).forEach(d),l.forEach(d),this.h()},h(){c(a,"class","outline svelte-1ccriay"),Ce(a,"round",e[0]=="round"),c(t,"class","crop-window svelte-1ccriay"),c(t,"style",r=`--outline-color:${e[1].line_color};
--overlay-color:${e[1].overlay_color};`),Ce(t,"round",e[0]=="round")},m(i,l){we(i,t,l),o&&o.m(t,null),s(t,n),s(t,a),u=!0},p(i,[l]){i[2]&&i[1].show_third_lines?o?(o.p(i,l),l&6&&ne(o,1)):(o=sc(i),o.c(),ne(o,1),o.m(t,n)):o&&(ro(),le(o,1,1,()=>{o=null}),lo()),(!u||l&1)&&Ce(a,"round",i[0]=="round"),(!u||l&2&&r!==(r=`--outline-color:${i[1].line_color};
--overlay-color:${i[1].overlay_color};`))&&c(t,"style",r),(!u||l&1)&&Ce(t,"round",i[0]=="round")},i(i){u||(ne(o),u=!0)},o(i){le(o),u=!1},d(i){i&&d(t),o&&o.d()}}}function wu(e,t,n){let{shape:a}=t,{options:r}=t,{gesture_in_progress:u}=t;return e.$$set=o=>{"shape"in o&&n(0,a=o.shape),"options"in o&&n(1,r=o.options),"gesture_in_progress"in o&&n(2,u=o.gesture_in_progress)},[a,r,u]}class Eu extends Zt{constructor(t){super(),Wt(this,t,wu,bu,Kt,{shape:0,options:1,gesture_in_progress:2})}}const kc={shape:"rect",crop_window_margin:10,overlay:Eu,overlay_options:{overlay_color:"#222222",line_color:"#FFFFFF",show_third_lines:!0}},$a={position:{x:0,y:0},aspect:1,rotation:0,scale:0};function oc(e){let t,n,a;function r(o){e[14](o)}let u={options:e[2],media:e[1],crop_window_size:e[5],outer_size:e[4],center_point:e[6]};return e[0]!==void 0&&(u.value=e[0]),t=new vu({props:u}),e[13](t),Pe.push(()=>Ft(t,"value",r)),{c(){Ie(t.$$.fragment)},l(o){ze(t.$$.fragment,o)},m(o,i){Re(t,o,i),a=!0},p(o,i){const l={};i&4&&(l.options=o[2]),i&2&&(l.media=o[1]),i&32&&(l.crop_window_size=o[5]),i&16&&(l.outer_size=o[4]),i&64&&(l.center_point=o[6]),!n&&i&1&&(n=!0,l.value=o[0],Vt(()=>n=!1)),t.$set(l)},i(o){a||(ne(t.$$.fragment,o),a=!0)},o(o){le(t.$$.fragment,o),a=!1},d(o){e[13](null),De(t,o)}}}function yu(e){let t,n,a,r,u,o=e[5]&&e[4]&&e[6]&&oc(e);return{c(){t=h("div"),o&&o.c(),this.h()},l(i){t=g(i,"DIV",{class:!0,style:!0});var l=p(t);o&&o.l(l),l.forEach(d),this.h()},h(){var i,l,f,E;c(t,"class","outer svelte-1wgfjgv"),c(t,"style",n=`--crop-window-height:${((i=e[5])==null?void 0:i.height)||0}px;
--crop-window-width:${((l=e[5])==null?void 0:l.width)||0}px;
--outer-height:${((f=e[4])==null?void 0:f.height)||0}px;
--outer-width:${((E=e[4])==null?void 0:E.width)||0}px;`)},m(i,l){we(i,t,l),o&&o.m(t,null),e[15](t),a=!0,r||(u=q(window,"resize",e[8]),r=!0)},p(i,[l]){var f,E,N,O;i[5]&&i[4]&&i[6]?o?(o.p(i,l),l&112&&ne(o,1)):(o=oc(i),o.c(),ne(o,1),o.m(t,null)):o&&(ro(),le(o,1,1,()=>{o=null}),lo()),(!a||l&48&&n!==(n=`--crop-window-height:${((f=i[5])==null?void 0:f.height)||0}px;
--crop-window-width:${((E=i[5])==null?void 0:E.width)||0}px;
--outer-height:${((N=i[4])==null?void 0:N.height)||0}px;
--outer-width:${((O=i[4])==null?void 0:O.width)||0}px;`))&&c(t,"style",n)},i(i){a||(ne(o),a=!0)},o(i){le(o),a=!1},d(i){i&&d(t),o&&o.d(),e[15](null),r=!1,u()}}}function Nu(e,t,n){let{media:a}=t,{value:r=$a}=t,{options:u}=t;if(u.shape=="round"&&r.aspect!=1)throw"round crops must be circles!";let o,i,l;function f(){D.commit()}function E(v){D.set_zoom(v)}function N(v){D.set_rotation(v)}function O(v){D.set_pan(v)}tr(()=>{M()});function M(){let v=C.getBoundingClientRect();n(4,o={width:v.width,height:v.height}),n(6,l={x:v.width/2,y:v.height/2}),n(5,i=o.width/o.height>r.aspect?{height:o.height-2*u.crop_window_margin,width:(o.height-2*u.crop_window_margin)*r.aspect}:{height:(o.width-2*u.crop_window_margin)/r.aspect,width:o.width-2*u.crop_window_margin})}let C,D;function j(v){Pe[v?"unshift":"push"](()=>{D=v,n(7,D)})}function I(v){r=v,n(0,r)}function L(v){Pe[v?"unshift":"push"](()=>{C=v,n(3,C)})}return e.$$set=v=>{"media"in v&&n(1,a=v.media),"value"in v&&n(0,r=v.value),"options"in v&&n(2,u=v.options)},e.$$.update=()=>{e.$$.dirty&9&&C&&r.aspect&&M()},[r,a,u,C,o,i,l,D,M,f,E,N,O,j,I,L]}class ic extends Zt{constructor(t){super(),Wt(this,t,Nu,yu,Kt,{media:1,value:0,options:2,commit:9,set_zoom:10,set_rotation:11,set_pan:12})}get commit(){return this.$$.ctx[9]}get set_zoom(){return this.$$.ctx[10]}get set_rotation(){return this.$$.ctx[11]}get set_pan(){return this.$$.ctx[12]}}var nr={exports:{}};function sr(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&sr(n)}),e}nr.exports=sr;nr.exports.default=sr;class ac{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Mc(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Gt(e,...t){const n=Object.create(null);for(const a in e)n[a]=e[a];return t.forEach(function(a){for(const r in a)n[r]=a[r]}),n}const Tu="</span>",rc=e=>!!e.scope||e.sublanguage&&e.language,Au=(e,{prefix:t})=>{if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((a,r)=>`${a}${"_".repeat(r+1)}`)].join(" ")}return`${t}${e}`};class Su{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Mc(t)}openNode(t){if(!rc(t))return;let n="";t.sublanguage?n=`language-${t.language}`:n=Au(t.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(t){!rc(t)||(this.buffer+=Tu)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const lc=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class or{constructor(){this.rootNode=lc(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=lc({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(a=>this._walk(t,a)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{or._collapse(n)})))}}class ku extends or{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const a=t.root;a.sublanguage=!0,a.language=n,this.add(a)}toHTML(){return new Su(this,this.options).value()}finalize(){return!0}}function Cs(e){return e?typeof e=="string"?e:e.source:null}function Oc(e){return Rn("(?=",e,")")}function Mu(e){return Rn("(?:",e,")*")}function Ou(e){return Rn("(?:",e,")?")}function Rn(...e){return e.map(n=>Cs(n)).join("")}function Iu(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function ir(...e){const t=Iu(e);return"("+(t.capture?"":"?:")+e.map(a=>Cs(a)).join("|")+")"}function Ic(e){return new RegExp(e.toString()+"|").exec("").length-1}function Ru(e,t){const n=e&&e.exec(t);return n&&n.index===0}const Du=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ar(e,{joinWith:t}){let n=0;return e.map(a=>{n+=1;const r=n;let u=Cs(a),o="";for(;u.length>0;){const i=Du.exec(u);if(!i){o+=u;break}o+=u.substring(0,i.index),u=u.substring(i.index+i[0].length),i[0][0]==="\\"&&i[1]?o+="\\"+String(Number(i[1])+r):(o+=i[0],i[0]==="("&&n++)}return o}).map(a=>`(${a})`).join(t)}const Cu=/\b\B/,Rc="[a-zA-Z]\\w*",rr="[a-zA-Z_]\\w*",Dc="\\b\\d+(\\.\\d+)?",Cc="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",xc="\\b(0b[01]+)",xu="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Lu=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Rn(t,/.*\b/,e.binary,/\b.*/)),Gt({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,a)=>{n.index!==0&&a.ignoreMatch()}},e)},xs={begin:"\\\\[\\s\\S]",relevance:0},zu={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[xs]},Pu={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[xs]},Bu={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},co=function(e,t,n={}){const a=Gt({scope:"comment",begin:e,end:t,contains:[]},n);a.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=ir("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return a.contains.push({begin:Rn(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a},Uu=co("//","$"),Hu=co("/\\*","\\*/"),Fu=co("#","$"),Vu={scope:"number",begin:Dc,relevance:0},Gu={scope:"number",begin:Cc,relevance:0},ju={scope:"number",begin:xc,relevance:0},Zu={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[xs,{begin:/\[/,end:/\]/,relevance:0,contains:[xs]}]}]},Wu={scope:"title",begin:Rc,relevance:0},Ku={scope:"title",begin:rr,relevance:0},Xu={begin:"\\.\\s*"+rr,relevance:0},Yu=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var Qs=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Cu,IDENT_RE:Rc,UNDERSCORE_IDENT_RE:rr,NUMBER_RE:Dc,C_NUMBER_RE:Cc,BINARY_NUMBER_RE:xc,RE_STARTERS_RE:xu,SHEBANG:Lu,BACKSLASH_ESCAPE:xs,APOS_STRING_MODE:zu,QUOTE_STRING_MODE:Pu,PHRASAL_WORDS_MODE:Bu,COMMENT:co,C_LINE_COMMENT_MODE:Uu,C_BLOCK_COMMENT_MODE:Hu,HASH_COMMENT_MODE:Fu,NUMBER_MODE:Vu,C_NUMBER_MODE:Gu,BINARY_NUMBER_MODE:ju,REGEXP_MODE:Zu,TITLE_MODE:Wu,UNDERSCORE_TITLE_MODE:Ku,METHOD_GUARD:Xu,END_SAME_AS_BEGIN:Yu});function qu(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Ju(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Qu(e,t){!t||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=qu,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function $u(e,t){!Array.isArray(e.illegal)||(e.illegal=ir(...e.illegal))}function ed(e,t){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function td(e,t){e.relevance===void 0&&(e.relevance=1)}const nd=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(a=>{delete e[a]}),e.keywords=n.keywords,e.begin=Rn(n.beforeMatch,Oc(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},sd=["of","and","for","in","not","or","if","then","parent","list","value"],od="keyword";function Lc(e,t,n=od){const a=Object.create(null);return typeof e=="string"?r(n,e.split(" ")):Array.isArray(e)?r(n,e):Object.keys(e).forEach(function(u){Object.assign(a,Lc(e[u],t,u))}),a;function r(u,o){t&&(o=o.map(i=>i.toLowerCase())),o.forEach(function(i){const l=i.split("|");a[l[0]]=[u,id(l[0],l[1])]})}}function id(e,t){return t?Number(t):ad(e)?0:1}function ad(e){return sd.includes(e.toLowerCase())}const cc={},In=e=>{console.error(e)},uc=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Ts=(e,t)=>{cc[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),cc[`${e}/${t}`]=!0)},io=new Error;function zc(e,t,{key:n}){let a=0;const r=e[n],u={},o={};for(let i=1;i<=t.length;i++)o[i+a]=r[i],u[i+a]=!0,a+=Ic(t[i-1]);e[n]=o,e[n]._emit=u,e[n]._multi=!0}function rd(e){if(!!Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw In("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),io;if(typeof e.beginScope!="object"||e.beginScope===null)throw In("beginScope must be object"),io;zc(e,e.begin,{key:"beginScope"}),e.begin=ar(e.begin,{joinWith:""})}}function ld(e){if(!!Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw In("skip, excludeEnd, returnEnd not compatible with endScope: {}"),io;if(typeof e.endScope!="object"||e.endScope===null)throw In("endScope must be object"),io;zc(e,e.end,{key:"endScope"}),e.end=ar(e.end,{joinWith:""})}}function cd(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function ud(e){cd(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),rd(e),ld(e)}function dd(e){function t(o,i){return new RegExp(Cs(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(i?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(i,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,i]),this.matchAt+=Ic(i)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const i=this.regexes.map(l=>l[1]);this.matcherRe=t(ar(i,{joinWith:"|"}),!0),this.lastIndex=0}exec(i){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(i);if(!l)return null;const f=l.findIndex((N,O)=>O>0&&N!==void 0),E=this.matchIndexes[f];return l.splice(0,f),Object.assign(l,E)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(i){if(this.multiRegexes[i])return this.multiRegexes[i];const l=new n;return this.rules.slice(i).forEach(([f,E])=>l.addRule(f,E)),l.compile(),this.multiRegexes[i]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(i,l){this.rules.push([i,l]),l.type==="begin"&&this.count++}exec(i){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let f=l.exec(i);if(this.resumingScanAtSamePosition()&&!(f&&f.index===this.lastIndex)){const E=this.getMatcher(0);E.lastIndex=this.lastIndex+1,f=E.exec(i)}return f&&(this.regexIndex+=f.position+1,this.regexIndex===this.count&&this.considerAll()),f}}function r(o){const i=new a;return o.contains.forEach(l=>i.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&i.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&i.addRule(o.illegal,{type:"illegal"}),i}function u(o,i){const l=o;if(o.isCompiled)return l;[Ju,ed,ud,nd].forEach(E=>E(o,i)),e.compilerExtensions.forEach(E=>E(o,i)),o.__beforeBegin=null,[Qu,$u,td].forEach(E=>E(o,i)),o.isCompiled=!0;let f=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),f=o.keywords.$pattern,delete o.keywords.$pattern),f=f||/\w+/,o.keywords&&(o.keywords=Lc(o.keywords,e.case_insensitive)),l.keywordPatternRe=t(f,!0),i&&(o.begin||(o.begin=/\B|\b/),l.beginRe=t(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=t(l.end)),l.terminatorEnd=Cs(l.end)||"",o.endsWithParent&&i.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+i.terminatorEnd)),o.illegal&&(l.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(E){return fd(E==="self"?o:E)})),o.contains.forEach(function(E){u(E,l)}),o.starts&&u(o.starts,i),l.matcher=r(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Gt(e.classNameAliases||{}),u(e)}function Pc(e){return e?e.endsWithParent||Pc(e.starts):!1}function fd(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Gt(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Pc(e)?Gt(e,{starts:e.starts?Gt(e.starts):null}):Object.isFrozen(e)?Gt(e):e}var hd="11.6.0";class gd extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const Ya=Mc,dc=Gt,fc=Symbol("nomatch"),pd=7,_d=function(e){const t=Object.create(null),n=Object.create(null),a=[];let r=!0;const u="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let i={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:ku};function l(m){return i.noHighlightRe.test(m)}function f(m){let _=m.className+" ";_+=m.parentNode?m.parentNode.className:"";const T=i.languageDetectRe.exec(_);if(T){const x=H(T[1]);return x||(uc(u.replace("{}",T[1])),uc("Falling back to no-highlight mode for this block.",m)),x?T[1]:"no-highlight"}return _.split(/\s+/).find(x=>l(x)||H(x))}function E(m,_,T){let x="",y="";typeof _=="object"?(x=m,T=_.ignoreIllegals,y=_.language):(Ts("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ts("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),y=m,x=_),T===void 0&&(T=!0);const P={code:x,language:y};ee("before:highlight",P);const W=P.result?P.result:N(P.language,P.code,T);return W.code=P.code,ee("after:highlight",W),W}function N(m,_,T,x){const y=Object.create(null);function P(k,R){return k.keywords[R]}function W(){if(!z.keywords){se.addText($);return}let k=0;z.keywordPatternRe.lastIndex=0;let R=z.keywordPatternRe.exec($),B="";for(;R;){B+=$.substring(k,R.index);const Z=Ne.case_insensitive?R[0].toLowerCase():R[0],he=P(z,Z);if(he){const[Ue,ht]=he;if(se.addText(B),B="",y[Z]=(y[Z]||0)+1,y[Z]<=pd&&(Nt+=ht),Ue.startsWith("_"))B+=R[0];else{const ks=Ne.classNameAliases[Ue]||Ue;se.addKeyword(R[0],ks)}}else B+=R[0];k=z.keywordPatternRe.lastIndex,R=z.keywordPatternRe.exec($)}B+=$.substring(k),se.addText(B)}function X(){if($==="")return;let k=null;if(typeof z.subLanguage=="string"){if(!t[z.subLanguage]){se.addText($);return}k=N(z.subLanguage,$,!0,Te[z.subLanguage]),Te[z.subLanguage]=k._top}else k=M($,z.subLanguage.length?z.subLanguage:null);z.relevance>0&&(Nt+=k.relevance),se.addSublanguage(k._emitter,k.language)}function Y(){z.subLanguage!=null?X():W(),$=""}function Ee(k,R){let B=1;const Z=R.length-1;for(;B<=Z;){if(!k._emit[B]){B++;continue}const he=Ne.classNameAliases[k[B]]||k[B],Ue=R[B];he?se.addKeyword(Ue,he):($=Ue,W(),$=""),B++}}function nt(k,R){return k.scope&&typeof k.scope=="string"&&se.openNode(Ne.classNameAliases[k.scope]||k.scope),k.beginScope&&(k.beginScope._wrap?(se.addKeyword($,Ne.classNameAliases[k.beginScope._wrap]||k.beginScope._wrap),$=""):k.beginScope._multi&&(Ee(k.beginScope,R),$="")),z=Object.create(k,{parent:{value:z}}),z}function ve(k,R,B){let Z=Ru(k.endRe,B);if(Z){if(k["on:end"]){const he=new ac(k);k["on:end"](R,he),he.isMatchIgnored&&(Z=!1)}if(Z){for(;k.endsParent&&k.parent;)k=k.parent;return k}}if(k.endsWithParent)return ve(k.parent,R,B)}function be(k){return z.matcher.regexIndex===0?($+=k[0],1):(Yt=!0,0)}function Ae(k){const R=k[0],B=k.rule,Z=new ac(B),he=[B.__beforeBegin,B["on:begin"]];for(const Ue of he)if(!!Ue&&(Ue(k,Z),Z.isMatchIgnored))return be(R);return B.skip?$+=R:(B.excludeBegin&&($+=R),Y(),!B.returnBegin&&!B.excludeBegin&&($=R)),nt(B,k),B.returnBegin?0:R.length}function ye(k){const R=k[0],B=_.substring(k.index),Z=ve(z,k,B);if(!Z)return fc;const he=z;z.endScope&&z.endScope._wrap?(Y(),se.addKeyword(R,z.endScope._wrap)):z.endScope&&z.endScope._multi?(Y(),Ee(z.endScope,k)):he.skip?$+=R:(he.returnEnd||he.excludeEnd||($+=R),Y(),he.excludeEnd&&($=R));do z.scope&&se.closeNode(),!z.skip&&!z.subLanguage&&(Nt+=z.relevance),z=z.parent;while(z!==Z.parent);return Z.starts&&nt(Z.starts,k),he.returnEnd?0:R.length}function Se(){const k=[];for(let R=z;R!==Ne;R=R.parent)R.scope&&k.unshift(R.scope);k.forEach(R=>se.openNode(R))}let Fe={};function st(k,R){const B=R&&R[0];if($+=k,B==null)return Y(),0;if(Fe.type==="begin"&&R.type==="end"&&Fe.index===R.index&&B===""){if($+=_.slice(R.index,R.index+1),!r){const Z=new Error(`0 width match regex (${m})`);throw Z.languageName=m,Z.badRule=Fe.rule,Z}return 1}if(Fe=R,R.type==="begin")return Ae(R);if(R.type==="illegal"&&!T){const Z=new Error('Illegal lexeme "'+B+'" for mode "'+(z.scope||"<unnamed>")+'"');throw Z.mode=z,Z}else if(R.type==="end"){const Z=ye(R);if(Z!==fc)return Z}if(R.type==="illegal"&&B==="")return 1;if(Xt>1e5&&Xt>R.index*3)throw new Error("potential infinite loop, way more iterations than matches");return $+=B,B.length}const Ne=H(m);if(!Ne)throw In(u.replace("{}",m)),new Error('Unknown language: "'+m+'"');const Qe=dd(Ne);let ot="",z=x||Qe;const Te={},se=new i.__emitter(i);Se();let $="",Nt=0,xe=0,Xt=0,Yt=!1;try{for(z.matcher.considerAll();;){Xt++,Yt?Yt=!1:z.matcher.considerAll(),z.matcher.lastIndex=xe;const k=z.matcher.exec(_);if(!k)break;const R=_.substring(xe,k.index),B=st(R,k);xe=k.index+B}return st(_.substring(xe)),se.closeAllNodes(),se.finalize(),ot=se.toHTML(),{language:m,value:ot,relevance:Nt,illegal:!1,_emitter:se,_top:z}}catch(k){if(k.message&&k.message.includes("Illegal"))return{language:m,value:Ya(_),illegal:!0,relevance:0,_illegalBy:{message:k.message,index:xe,context:_.slice(xe-100,xe+100),mode:k.mode,resultSoFar:ot},_emitter:se};if(r)return{language:m,value:Ya(_),illegal:!1,relevance:0,errorRaised:k,_emitter:se,_top:z};throw k}}function O(m){const _={value:Ya(m),illegal:!1,relevance:0,_top:o,_emitter:new i.__emitter(i)};return _._emitter.addText(m),_}function M(m,_){_=_||i.languages||Object.keys(t);const T=O(m),x=_.filter(H).filter(J).map(Y=>N(Y,m,!1));x.unshift(T);const y=x.sort((Y,Ee)=>{if(Y.relevance!==Ee.relevance)return Ee.relevance-Y.relevance;if(Y.language&&Ee.language){if(H(Y.language).supersetOf===Ee.language)return 1;if(H(Ee.language).supersetOf===Y.language)return-1}return 0}),[P,W]=y,X=P;return X.secondBest=W,X}function C(m,_,T){const x=_&&n[_]||T;m.classList.add("hljs"),m.classList.add(`language-${x}`)}function D(m){let _=null;const T=f(m);if(l(T))return;if(ee("before:highlightElement",{el:m,language:T}),m.children.length>0&&(i.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(m)),i.throwUnescapedHTML))throw new gd("One of your code blocks includes unescaped HTML.",m.innerHTML);_=m;const x=_.textContent,y=T?E(x,{language:T,ignoreIllegals:!0}):M(x);m.innerHTML=y.value,C(m,T,y.language),m.result={language:y.language,re:y.relevance,relevance:y.relevance},y.secondBest&&(m.secondBest={language:y.secondBest.language,relevance:y.secondBest.relevance}),ee("after:highlightElement",{el:m,result:y,text:x})}function j(m){i=dc(i,m)}const I=()=>{U(),Ts("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function L(){U(),Ts("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let v=!1;function U(){if(document.readyState==="loading"){v=!0;return}document.querySelectorAll(i.cssSelector).forEach(D)}function F(){v&&U()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",F,!1);function oe(m,_){let T=null;try{T=_(e)}catch(x){if(In("Language definition for '{}' could not be registered.".replace("{}",m)),r)In(x);else throw x;T=o}T.name||(T.name=m),t[m]=T,T.rawDefinition=_.bind(null,e),T.aliases&&_e(T.aliases,{languageName:m})}function ue(m){delete t[m];for(const _ of Object.keys(n))n[_]===m&&delete n[_]}function ie(){return Object.keys(t)}function H(m){return m=(m||"").toLowerCase(),t[m]||t[n[m]]}function _e(m,{languageName:_}){typeof m=="string"&&(m=[m]),m.forEach(T=>{n[T.toLowerCase()]=_})}function J(m){const _=H(m);return _&&!_.disableAutodetect}function ae(m){m["before:highlightBlock"]&&!m["before:highlightElement"]&&(m["before:highlightElement"]=_=>{m["before:highlightBlock"](Object.assign({block:_.el},_))}),m["after:highlightBlock"]&&!m["after:highlightElement"]&&(m["after:highlightElement"]=_=>{m["after:highlightBlock"](Object.assign({block:_.el},_))})}function me(m){ae(m),a.push(m)}function ee(m,_){const T=m;a.forEach(function(x){x[T]&&x[T](_)})}function de(m){return Ts("10.7.0","highlightBlock will be removed entirely in v12.0"),Ts("10.7.0","Please use highlightElement now."),D(m)}Object.assign(e,{highlight:E,highlightAuto:M,highlightAll:U,highlightElement:D,highlightBlock:de,configure:j,initHighlighting:I,initHighlightingOnLoad:L,registerLanguage:oe,unregisterLanguage:ue,listLanguages:ie,getLanguage:H,registerAliases:_e,autoDetection:J,inherit:dc,addPlugin:me}),e.debugMode=function(){r=!1},e.safeMode=function(){r=!0},e.versionString=hd,e.regex={concat:Rn,lookahead:Oc,either:ir,optional:Ou,anyNumberOfTimes:Mu};for(const m in Qs)typeof Qs[m]=="object"&&nr.exports(Qs[m]);return Object.assign(e,Qs),e};var Ls=_d({}),md=Ls;Ls.HighlightJS=Ls;Ls.default=Ls;const As=md;const vd=e=>({highlighted:e&8}),hc=e=>({highlighted:e[3]});function bd(e){let t;return{c(){t=b(e[1])},l(n){t=w(n,e[1])},m(n,a){we(n,t,a)},p(n,a){a&2&&qa(t,n[1])},d(n){n&&d(t)}}}function wd(e){let t,n;return{c(){t=new Tc(!1),n=jt(),this.h()},l(a){t=Ac(a,!1),n=jt(),this.h()},h(){t.a=n},m(a,r){t.m(e[3],a,r),we(a,n,r)},p(a,r){r&8&&t.p(a[3])},d(a){a&&d(n),a&&t.d()}}}function Ed(e){let t,n,a;function r(f,E){return f[3]!==void 0?wd:bd}let u=r(e),o=u(e),i=[{"data-language":a=e[0].name||"plaintext"},e[4]],l={};for(let f=0;f<i.length;f+=1)l=Ss(l,i[f]);return{c(){t=h("pre"),n=h("code"),o.c(),this.h()},l(f){t=g(f,"PRE",{"data-language":!0});var E=p(t);n=g(E,"CODE",{class:!0});var N=p(n);o.l(N),N.forEach(d),E.forEach(d),this.h()},h(){c(n,"class","hljs"),no(t,l),Ce(t,"langtag",e[2]),Ce(t,"svelte-4cqgwq",!0)},m(f,E){we(f,t,E),s(t,n),o.m(n,null)},p(f,E){u===(u=r(f))&&o?o.p(f,E):(o.d(1),o=u(f),o&&(o.c(),o.m(n,null))),no(t,l=Nc(i,[E&1&&a!==(a=f[0].name||"plaintext")&&{"data-language":a},E&16&&f[4]])),Ce(t,"langtag",f[2]),Ce(t,"svelte-4cqgwq",!0)},d(f){f&&d(t),o.d()}}}function yd(e){let t;const n=e[6].default,a=mc(n,e,e[5],hc),r=a||Ed(e);return{c(){r&&r.c()},l(u){r&&r.l(u)},m(u,o){r&&r.m(u,o),t=!0},p(u,[o]){a?a.p&&(!t||o&40)&&vc(a,n,u,u[5],t?wc(n,u[5],o,vd):bc(u[5]),hc):r&&r.p&&(!t||o&31)&&r.p(u,t?o:-1)},i(u){t||(ne(r,u),t=!0)},o(u){le(r,u),t=!1},d(u){r&&r.d(u)}}}function Nd(e,t,n){const a=["language","code","langtag"];let r=to(t,a),{$$slots:u={},$$scope:o}=t,{language:i={name:void 0,register:void 0}}=t,{code:l=void 0}=t,{langtag:f=!1}=t;const E=er();let N;return Ec(()=>{N&&E("highlight",{highlighted:N})}),e.$$set=O=>{t=Ss(Ss({},t),yc(O)),n(4,r=to(t,a)),"language"in O&&n(0,i=O.language),"code"in O&&n(1,l=O.code),"langtag"in O&&n(2,f=O.langtag),"$$scope"in O&&n(5,o=O.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&i.name&&i.register&&(As.registerLanguage(i.name,i.register),n(3,N=As.highlight(l,{language:i.name}).value))},[i,l,f,N,r,o,u]}class Ut extends Zt{constructor(t){super(),Wt(this,t,Nd,yd,Kt,{language:0,code:1,langtag:2})}}function Td(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),a=/[\p{L}0-9._:-]+/u,r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},u={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(u,{begin:/\(/,end:/\)/}),i=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:a,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[u,l,i,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[u,o,l,i]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const gc="[A-Za-z$_][0-9A-Za-z$_]*",Ad=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Sd=["true","false","null","undefined","NaN","Infinity"],Bc=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Uc=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Hc=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],kd=["arguments","this","super","console","window","document","localStorage","module","global"],Md=[].concat(Hc,Bc,Uc);function Od(e){const t=e.regex,n=(_,{after:T})=>{const x="</"+_[0].slice(1);return _.input.indexOf(x,T)!==-1},a=gc,r={begin:"<>",end:"</>"},u=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(_,T)=>{const x=_[0].length+_.index,y=_.input[x];if(y==="<"||y===","){T.ignoreMatch();return}y===">"&&(n(_,{after:x})||T.ignoreMatch());let P;if((P=_.input.substring(x).match(/^\s+extends\s+/))&&P.index===0){T.ignoreMatch();return}}},i={$pattern:gc,keyword:Ad,literal:Sd,built_in:Md,"variable.language":kd},l="[0-9](_?[0-9])*",f=`\\.(${l})`,E="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",N={className:"number",variants:[{begin:`(\\b(${E})((${f})|\\.)?|(${f}))[eE][+-]?(${l})\\b`},{begin:`\\b(${E})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},O={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},M={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,O],subLanguage:"xml"}},C={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,O],subLanguage:"css"}},D={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,O]},j=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),I={className:"comment",variants:[j,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},L=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M,C,D,N];O.contains=L.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(L)});const v=[].concat(I,O.contains),U=v.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(v)}]),F={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:U},oe={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,t.concat(a,"(",t.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},ue={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Bc,...Uc]}},ie={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},H={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[F],illegal:/%/},_e={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function J(_){return t.concat("(?!",_.join("|"),")")}const ae={match:t.concat(/\b/,J([...Hc,"super"]),a,t.lookahead(/\(/)),className:"title.function",relevance:0},me={begin:t.concat(/\./,t.lookahead(t.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ee={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},F]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",m={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[F]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:U,CLASS_REFERENCE:ue},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),ie,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M,C,D,I,N,ue,{className:"attr",begin:a+t.lookahead(":"),relevance:0},m,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:U}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:u},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},H,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[F,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},me,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[F]},ae,_e,oe,ee,{match:/\$[(.]/}]}}const Id=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Rd=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Dd=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Cd=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],xd=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Ld=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function zd(e){const t=e.regex,n=Id(e),a={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},r="and or not only",u=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",i=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,a,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Cd.join("|")+")"},{begin:":(:)?("+xd.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ld.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...i,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...i,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:u},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:r,attribute:Dd.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...i,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Rd.join("|")+")\\b"}]}}const Pd=e=>({highlighted:e&2}),pc=e=>({highlighted:e[1]});function Bd(e){let t,n,a=[{"data-language":"svelte"},e[2]],r={};for(let u=0;u<a.length;u+=1)r=Ss(r,a[u]);return{c(){t=h("pre"),n=h("code"),this.h()},l(u){t=g(u,"PRE",{"data-language":!0});var o=p(t);n=g(o,"CODE",{class:!0});var i=p(n);i.forEach(d),o.forEach(d),this.h()},h(){c(n,"class","hljs"),no(t,r),Ce(t,"langtag",e[0]),Ce(t,"svelte-4cqgwq",!0)},m(u,o){we(u,t,o),s(t,n),n.innerHTML=e[1]},p(u,o){o&2&&(n.innerHTML=u[1]),no(t,r=Nc(a,[{"data-language":"svelte"},o&4&&u[2]])),Ce(t,"langtag",u[0]),Ce(t,"svelte-4cqgwq",!0)},d(u){u&&d(t)}}}function Ud(e){let t;const n=e[5].default,a=mc(n,e,e[4],pc),r=a||Bd(e);return{c(){r&&r.c()},l(u){r&&r.l(u)},m(u,o){r&&r.m(u,o),t=!0},p(u,[o]){a?a.p&&(!t||o&18)&&vc(a,n,u,u[4],t?wc(n,u[4],o,Pd):bc(u[4]),pc):r&&r.p&&(!t||o&7)&&r.p(u,t?o:-1)},i(u){t||(ne(r,u),t=!0)},o(u){le(r,u),t=!1},d(u){r&&r.d(u)}}}function Hd(e,t,n){let a;const r=["code","langtag"];let u=to(t,r),{$$slots:o={},$$scope:i}=t,{code:l=void 0}=t,{langtag:f=!1}=t;const E=er();return As.registerLanguage("xml",Td),As.registerLanguage("javascript",Od),As.registerLanguage("css",zd),Ec(()=>{a&&E("highlight",{highlighted:a})}),e.$$set=N=>{t=Ss(Ss({},t),yc(N)),n(2,u=to(t,r)),"code"in N&&n(3,l=N.code),"langtag"in N&&n(0,f=N.langtag),"$$scope"in N&&n(4,i=N.$$scope)},e.$$.update=()=>{e.$$.dirty&8&&n(1,a=As.highlightAuto(l).value)},[f,a,u,l,i,o]}class Fd extends Zt{constructor(t){super(),Wt(this,t,Hd,Ud,Kt,{code:3,langtag:0})}}const Vd="<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-built_in,.hljs-class .hljs-title,.hljs-title.class_{color:#e6c07b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>",Gd=Vd,ao="[A-Za-z$_][0-9A-Za-z$_]*",Fc=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Vc=["true","false","null","undefined","NaN","Infinity"],Gc=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],jc=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Zc=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Wc=["arguments","this","super","console","window","document","localStorage","module","global"],Kc=[].concat(Zc,Gc,jc);function jd(e){const t=e.regex,n=(_,{after:T})=>{const x="</"+_[0].slice(1);return _.input.indexOf(x,T)!==-1},a=ao,r={begin:"<>",end:"</>"},u=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(_,T)=>{const x=_[0].length+_.index,y=_.input[x];if(y==="<"||y===","){T.ignoreMatch();return}y===">"&&(n(_,{after:x})||T.ignoreMatch());let P;if((P=_.input.substring(x).match(/^\s+extends\s+/))&&P.index===0){T.ignoreMatch();return}}},i={$pattern:ao,keyword:Fc,literal:Vc,built_in:Kc,"variable.language":Wc},l="[0-9](_?[0-9])*",f=`\\.(${l})`,E="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",N={className:"number",variants:[{begin:`(\\b(${E})((${f})|\\.)?|(${f}))[eE][+-]?(${l})\\b`},{begin:`\\b(${E})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},O={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},M={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,O],subLanguage:"xml"}},C={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,O],subLanguage:"css"}},D={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,O]},j=e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:a+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),I={className:"comment",variants:[j,e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},L=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M,C,D,N];O.contains=L.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(L)});const v=[].concat(I,O.contains),U=v.concat([{begin:/\(/,end:/\)/,keywords:i,contains:["self"].concat(v)}]),F={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:U},oe={variants:[{match:[/class/,/\s+/,a,/\s+/,/extends/,/\s+/,t.concat(a,"(",t.concat(/\./,a),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,a],scope:{1:"keyword",3:"title.class"}}]},ue={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Gc,...jc]}},ie={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},H={variants:[{match:[/function/,/\s+/,a,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[F],illegal:/%/},_e={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function J(_){return t.concat("(?!",_.join("|"),")")}const ae={match:t.concat(/\b/,J([...Zc,"super"]),a,t.lookahead(/\(/)),className:"title.function",relevance:0},me={begin:t.concat(/\./,t.lookahead(t.concat(a,/(?![0-9A-Za-z$_(])/))),end:a,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ee={match:[/get|set/,/\s+/,a,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},F]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",m={match:[/const|var|let/,/\s+/,a,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[F]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{PARAMS_CONTAINS:U,CLASS_REFERENCE:ue},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),ie,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,M,C,D,I,N,ue,{className:"attr",begin:a+t.lookahead(":"),relevance:0},m,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,e.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:U}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:u},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},H,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[F,e.inherit(e.TITLE_MODE,{begin:a,className:"title.function"})]},{match:/\.\.\./,relevance:0},me,{match:"\\$"+a,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[F]},ae,_e,oe,ee,{match:/\$[(.]/}]}}function Zd(e){const t=jd(e),n=ao,a=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],r={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},u={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:a},contains:[t.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},i=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:ao,keyword:Fc.concat(i),literal:Vc,built_in:Kc.concat(a),"variable.language":Wc},f={className:"meta",begin:"@"+n},E=(O,M,C)=>{const D=O.contains.findIndex(j=>j.label===M);if(D===-1)throw new Error("can not find mode to replace");O.contains.splice(D,1,C)};Object.assign(t.keywords,l),t.exports.PARAMS_CONTAINS.push(f),t.contains=t.contains.concat([f,r,u]),E(t,"shebang",e.SHEBANG()),E(t,"use_strict",o);const N=t.contains.find(O=>O.label==="func.def");return N.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx"]}),t}const Wd={name:"typescript",register:Zd},Ht=Wd;function Kd(e){let t,n,a,r,u,o,i,l,f,E,N,O,M,C,D,j,I,L,v,U,F,oe,ue,ie,H,_e,J,ae,me,ee,de,m,_,T,x,y,P,W,X,Y,Ee,nt,ve,be,Ae,ye,Se,Fe,st,Ne,Qe,ot,z,Te,se,$,Nt,xe,Xt,Yt,k,R,B,Z,he,Ue,ht,ks,uo,Dn,fo,ho,ce,Cn,go,po,Tt,Ve,zs,_o,Ms=Math.round(e[0].scale*100)/100+"",Ps,mo,xn,vo,bo,At,Ge,Bs,wo,Os=Math.round(e[0].rotation*100)/100+"",Us,Eo,Ln,yo,No,je,To,zn,Ao,So,Ze,ko,Pn,Mo,Oo,ge,Bn,Io,Ro,St,Do,Un,Co,xo,kt,Lo,Hn,zo,Po,Mt,Bo,Fn,Uo,Ho,Ot,$e,gt,Fo,pt,Vo,Go,et,_t,jo,mt,Zo,Wo,it,qt,Jt,Ko,Xo,It,vt,Yo,qo,Vn,Qt,Jo,We,$t,en,Qo,$o,Rt,G,Gn,ei,ti,jn,ni,si,Zn,oi,ii,Wn,Kn,ai,ri,Xn,Yn,li,ci,qn,ui,di,Jn,Qn,fi,hi,$n,gi,pi,es,_i,mi,ts,ns,vi,bi,ss,wi,Ei,at,yi,Dt,Ni,os,Ti,Ai,Si,tn,ki,Mi,Oi,is,as,Ii,Ri,rs,Di,Ci,Ke,xi,ls,Li,zi,cs,Pi,Bi,us,Ui,Hi,Fi,nn,sn,Vi,Gi,on,ji,ke,an,rn,Zi,Wi,He,Xe,Hs,lr,Ki,ds,Xi,Yi,ln,qi,cn,un,Ji,Qi,Me,bt,$i,fs,ea,ta,dn,na,fn,sa,hn,oa,wt,ia,hs,aa,ra,gn,la,Et,ca,gs,ua,da,pn,fa,_n,ha,mn,ga,vn,pa,bn,_a,Ct,wn,En,ma,va,xt,ps,ba,wa,yn,Ea,_s,ya,Na,Be,ms,Ta,Aa,rt,Sa,Nn,ka,Ma,Tn,Oa,Ia,Ra,Lt,Da,An,Ca,xa,La,vs,za,Pa,bs,Sn,Ba,kn,Ua,Le,Ha,cr;function Xc(V){e[8](V)}let ur={media:e[6],options:e[1]};e[0]!==void 0&&(ur.value=e[0]),Y=new ic({props:ur}),e[7](Y),Pe.push(()=>Ft(Y,"value",Xc));function Yc(V){e[28](V)}let dr={media:e[6],options:kc};return e[3]!==void 0&&(dr.value=e[3]),vt=new ic({props:dr}),Pe.push(()=>Ft(vt,"value",Yc)),Qt=new Ut({props:{language:Ht,code:`// in script tag
import { CropWindow, defaultOptions, defaultValue } from 'svelte-crop-window';

let media: Media = {
    content_type: 'video',
    url: '/Mountain - 8837.mp4'
};

let value = { ...defaultValue };

// in the template
<div style="height:20em; background: #222">
    <CropWindow bind:value {media} options={defaultOptions} />
</div>
`}}),on=new Ut({props:{language:Ht,code:`export const defaultOptions: Options<OverlayOptions> = {
    shape: 'rect',
    crop_window_margin: 10,

    overlay: Overlay,
    overlay_options: {
        overlay_color: '#222222',
        line_color: '#FFFFFF',
        show_third_lines: true,
    },
};
`}}),ln=new Fd({props:{code:`<div style={\`position:relative; overflow:hidden;
        height:{HEIGHT}px; width:{value.aspect * HEIGHT}px;
        border-radius: { options.shape == 'round' ? '50%' : '0' }\`}>
    <video
        style={\`transform: translateX(-50%) translateY(-50%) rotate({value.rotation || 0}deg);
    height: {(value.scale || 0.0) * HEIGHT}px;
    margin-left: {HEIGHT * value.aspect / 2 + (value.position.x || 0) * HEIGHT}px;
    margin-top: {HEIGHT / 2 + (value.position.y || 0) * HEIGHT}px;
    max-width:none\`}
        src={url}
    />
</div>`}}),dn=new Ut({props:{language:Ht,code:"let target_width = target_height * value.aspect;"}}),hn=new Ut({props:{language:Ht,code:"let s = value.scale * target_height / media.height;"}}),gn=new Ut({props:{language:Ht,code:"let resized_media = scale(media, s);"}}),pn=new Ut({props:{language:Ht,code:`let resized_and_rotated_media =
    rotate(resized_media, value.rotation);`}}),mn=new Ut({props:{language:Ht,code:`let left =
    (resized_and_rotated_media.width - target_width) / 2.0
    - value.x * target_height;
let top =
    (resized_and_rotated_media.height - target_height) / 2.0
    - value.y * target_height;`}}),bn=new Ut({props:{language:Ht,code:`let cropped_media =
    extract_area(resized_and_rotated_media, left, top,
                 target_width, target_height);`}}),{c(){t=new Tc(!1),n=jt(),a=A(),r=h("div"),u=h("div"),o=h("h1"),i=h("a"),l=h("img"),E=b(`
                svelte-crop-window`),N=A(),O=h("p"),M=b("A crop window with touch and mouse gestures to zoom, pan and rotate an image or video."),C=A(),D=h("p"),j=b("Media snaps back to cover the crop area."),I=A(),L=h("div"),v=h("p"),U=b("Looking for contributions, code review and feedback! Feel free to open an issue on "),F=h("a"),oe=b("the GitHub repository"),ue=b(" or connect with me via the Svelte discord (sabine#8815)."),ie=A(),H=h("p"),_e=b(`This is still in an experimental stage. Changes to the API are to be expected. After
            v1.0.0, this package will strictly follow semantic versioning.`),J=A(),ae=h("p"),me=b("The code of this demo page is "),ee=h("a"),de=b("here"),m=b("."),_=A(),T=h("div"),x=h("h2"),y=h("a"),P=b("Example with controls"),W=A(),X=h("div"),Ie(Y.$$.fragment),nt=A(),ve=h("h3"),be=b("Result"),Ae=A(),ye=h("div"),Se=h("video"),Ne=A(),Qe=h("h3"),ot=b("Aspect ratio"),z=A(),Te=h("div"),se=h("button"),$=b("8:1"),Nt=A(),xe=h("button"),Xt=b("16:9"),Yt=A(),k=h("button"),R=b("4:3"),B=A(),Z=h("button"),he=b("1:1"),Ue=A(),ht=h("button"),ks=b("3:4"),uo=A(),Dn=h("h3"),fo=b("Scale / Rotation / Position"),ho=A(),ce=h("div"),Cn=h("div"),go=b("scale"),po=A(),Tt=h("div"),Ve=h("input"),_o=A(),Ps=b(Ms),mo=A(),xn=h("div"),vo=b("rotation"),bo=A(),At=h("div"),Ge=h("input"),wo=A(),Us=b(Os),Eo=A(),Ln=h("div"),yo=b("x"),No=A(),je=h("input"),To=A(),zn=h("div"),Ao=b("y"),So=A(),Ze=h("input"),ko=A(),Pn=h("h3"),Mo=b("Colors"),Oo=A(),ge=h("div"),Bn=h("div"),Io=b("overlay color"),Ro=A(),St=h("input"),Do=A(),Un=h("div"),Co=b("line color"),xo=A(),kt=h("input"),Lo=A(),Hn=h("div"),zo=b("background color"),Po=A(),Mt=h("input"),Bo=A(),Fn=h("h3"),Uo=b("Shape"),Ho=A(),Ot=h("div"),$e=h("select"),gt=h("option"),Fo=b("rectangle"),pt=h("option"),Vo=b("round"),Go=A(),et=h("select"),_t=h("option"),jo=b("show third lines"),mt=h("option"),Zo=b("don't show third lines"),Wo=A(),it=h("div"),qt=h("h2"),Jt=h("a"),Ko=b("Minimal code example"),Xo=A(),It=h("div"),Ie(vt.$$.fragment),qo=A(),Vn=h("div"),Ie(Qt.$$.fragment),Jo=A(),We=h("div"),$t=h("h2"),en=h("a"),Qo=b("Options"),$o=A(),Rt=h("div"),G=h("div"),Gn=h("div"),ei=b("name"),ti=A(),jn=h("div"),ni=b("type"),si=A(),Zn=h("div"),oi=b("purpose"),ii=A(),Wn=h("div"),Kn=h("code"),ai=b("shape"),ri=A(),Xn=h("div"),Yn=h("code"),li=b('"rect" | "round"'),ci=A(),qn=h("div"),ui=b('Determines how the to-be-cropped media "snaps back" to cover the crop area'),di=A(),Jn=h("div"),Qn=h("code"),fi=b("crop_window_margin"),hi=A(),$n=h("div"),gi=b("number"),pi=A(),es=h("div"),_i=b(`Margin of the crop window, in pixels. The crop window will always scale to the
                    maximum possible size in its containing element.`),mi=A(),ts=h("div"),ns=h("code"),vi=b("overlay"),bi=A(),ss=h("div"),wi=b("a Svelte component"),Ei=A(),at=h("div"),yi=b(`The overlay component which visually highlights the crop area and, possibly,
                    some lines. You can pass your own Svelte component here, for a custom overlay.
                    `),Dt=h("p"),Ni=b("The component must have props "),os=h("code"),Ti=b("options: T, gesture_in_progress: boolean, shape: 'rect' | 'round'"),Ai=b("."),Si=b(`
                    Look at the`),tn=h("a"),ki=b("included overlay's code"),Mi=b(" to see how it works."),Oi=A(),is=h("div"),as=h("code"),Ii=b("overlay_options"),Ri=A(),rs=h("div"),Di=b("T"),Ci=A(),Ke=h("div"),xi=b(`Needs to be whatever options your overlay component takes. The included overlay
                    allows you to set the color of the overlay (`),ls=h("code"),Li=b("overlay_color: string"),zi=b(`),
                    the color of the lines (`),cs=h("code"),Pi=b("line_color: string"),Bi=b(`), and whether to show
                    third lines or not (`),us=h("code"),Ui=b("show_third_lines: boolean"),Hi=b(")."),Fi=A(),nn=h("h3"),sn=h("a"),Vi=b("Default options"),Gi=A(),Ie(on.$$.fragment),ji=A(),ke=h("div"),an=h("h2"),rn=h("a"),Zi=b("How to Crop"),Wi=A(),He=h("div"),Xe=h("video"),Ki=A(),ds=h("h3"),Xi=b("Display in HTML without actually cropping:"),Yi=A(),Ie(ln.$$.fragment),qi=A(),cn=h("h3"),un=h("a"),Ji=b("Pseudo code to crop"),Qi=A(),Me=h("ol"),bt=h("li"),$i=b("Choose a "),fs=h("code"),ea=b("target_height"),ta=b(` and calculate the width for the cropped image:
                `),Ie(dn.$$.fragment),na=A(),fn=h("li"),sa=b(`Calculate factor by which to scale:
                `),Ie(hn.$$.fragment),oa=A(),wt=h("li"),ia=b("Scale media by "),hs=h("code"),aa=b("s"),ra=b(`:
                `),Ie(gn.$$.fragment),la=A(),Et=h("li"),ca=b("Rotate media by "),gs=h("code"),ua=b("value.rotation"),da=b(`:
                `),Ie(pn.$$.fragment),fa=A(),_n=h("li"),ha=b("Calculate x,y position of area to extract: "),Ie(mn.$$.fragment),ga=A(),vn=h("li"),pa=b(`Extract area:
                `),Ie(bn.$$.fragment),_a=A(),Ct=h("div"),wn=h("h2"),En=h("a"),ma=b("What this component doesn't do"),va=A(),xt=h("ol"),ps=h("li"),ba=b(`Does not modify/crop the image, you have to do that by whatever means make sense for
                your application.`),wa=A(),yn=h("li"),Ea=b(`Doesn't (yet) provide usable controls. Currently, you need to implement your own.
                `),_s=h("p"),ya=b(`Similar to the overlay, it would be nice to include some controls to make this
                    more usable out of the box. Contributions are very welcome.`),Na=A(),Be=h("div"),ms=h("h2"),Ta=b("Inspiration and Acknowledgements"),Aa=A(),rt=h("p"),Sa=b(`One big inspiration for this component was the Android library
            `),Nn=h("a"),ka=b("uCrop by Yalantis"),Ma=b(`. What is particularly
            valuable is that the developers shared their thought process in
            `),Tn=h("a"),Oa=b("this blog post"),Ia=b("."),Ra=A(),Lt=h("p"),Da=b("Another very helpful resource was "),An=h("a"),Ca=b("svelte-easy-crop"),xa=b(` which gave me a basic understanding of how to implement a crop window component in Svelte
            (and HTML/JS in general).`),La=A(),vs=h("p"),za=b(`There's no code being reused between either of these components and this one (all
            calculations had to be recreated from textbook math).`),Pa=A(),bs=h("small"),Sn=h("p"),Ba=b("Video from shantararam at pixabay: "),kn=h("a"),Ua=b("mountain-nature-snow-old-mountain-8837"),this.h()},l(V){const te=eu('[data-svelte="svelte-ydr1v6"]',document.head);t=Ac(te,!1),n=jt(),te.forEach(d),a=S(V),r=g(V,"DIV",{class:!0});var pe=p(r);u=g(pe,"DIV",{class:!0});var yt=p(u);o=g(yt,"H1",{class:!0});var fr=p(o);i=g(fr,"A",{href:!0,style:!0,class:!0});var Fa=p(i);l=g(Fa,"IMG",{src:!0,alt:!0,style:!0,class:!0}),E=w(Fa,`
                svelte-crop-window`),Fa.forEach(d),fr.forEach(d),N=S(yt),O=g(yt,"P",{class:!0});var hr=p(O);M=w(hr,"A crop window with touch and mouse gestures to zoom, pan and rotate an image or video."),hr.forEach(d),C=S(yt),D=g(yt,"P",{class:!0});var gr=p(D);j=w(gr,"Media snaps back to cover the crop area."),gr.forEach(d),yt.forEach(d),I=S(pe),L=g(pe,"DIV",{class:!0});var ws=p(L);v=g(ws,"P",{class:!0});var Fs=p(v);U=w(Fs,"Looking for contributions, code review and feedback! Feel free to open an issue on "),F=g(Fs,"A",{href:!0,class:!0});var pr=p(F);oe=w(pr,"the GitHub repository"),pr.forEach(d),ue=w(Fs," or connect with me via the Svelte discord (sabine#8815)."),Fs.forEach(d),ie=S(ws),H=g(ws,"P",{class:!0});var _r=p(H);_e=w(_r,`This is still in an experimental stage. Changes to the API are to be expected. After
            v1.0.0, this package will strictly follow semantic versioning.`),_r.forEach(d),J=S(ws),ae=g(ws,"P",{class:!0});var Vs=p(ae);me=w(Vs,"The code of this demo page is "),ee=g(Vs,"A",{href:!0,class:!0});var mr=p(ee);de=w(mr,"here"),mr.forEach(d),m=w(Vs,"."),Vs.forEach(d),ws.forEach(d),_=S(pe),T=g(pe,"DIV",{class:!0});var re=p(T);x=g(re,"H2",{id:!0,class:!0});var vr=p(x);y=g(vr,"A",{href:!0,class:!0});var br=p(y);P=w(br,"Example with controls"),br.forEach(d),vr.forEach(d),W=S(re),X=g(re,"DIV",{style:!0,class:!0});var wr=p(X);ze(Y.$$.fragment,wr),wr.forEach(d),nt=S(re),ve=g(re,"H3",{class:!0});var Er=p(ve);be=w(Er,"Result"),Er.forEach(d),Ae=S(re),ye=g(re,"DIV",{style:!0,class:!0});var yr=p(ye);Se=g(yr,"VIDEO",{style:!0,src:!0,class:!0}),p(Se).forEach(d),yr.forEach(d),Ne=S(re),Qe=g(re,"H3",{class:!0});var Nr=p(Qe);ot=w(Nr,"Aspect ratio"),Nr.forEach(d),z=S(re),Te=g(re,"DIV",{class:!0});var lt=p(Te);se=g(lt,"BUTTON",{class:!0});var Tr=p(se);$=w(Tr,"8:1"),Tr.forEach(d),Nt=S(lt),xe=g(lt,"BUTTON",{class:!0});var Ar=p(xe);Xt=w(Ar,"16:9"),Ar.forEach(d),Yt=S(lt),k=g(lt,"BUTTON",{class:!0});var Sr=p(k);R=w(Sr,"4:3"),Sr.forEach(d),B=S(lt),Z=g(lt,"BUTTON",{class:!0});var kr=p(Z);he=w(kr,"1:1"),kr.forEach(d),Ue=S(lt),ht=g(lt,"BUTTON",{class:!0});var Mr=p(ht);ks=w(Mr,"3:4"),Mr.forEach(d),lt.forEach(d),uo=S(re),Dn=g(re,"H3",{class:!0});var Or=p(Dn);fo=w(Or,"Scale / Rotation / Position"),Or.forEach(d),ho=S(re),ce=g(re,"DIV",{style:!0,class:!0});var Oe=p(ce);Cn=g(Oe,"DIV",{class:!0});var Ir=p(Cn);go=w(Ir,"scale"),Ir.forEach(d),po=S(Oe),Tt=g(Oe,"DIV",{class:!0});var Gs=p(Tt);Ve=g(Gs,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),_o=S(Gs),Ps=w(Gs,Ms),Gs.forEach(d),mo=S(Oe),xn=g(Oe,"DIV",{class:!0});var Rr=p(xn);vo=w(Rr,"rotation"),Rr.forEach(d),bo=S(Oe),At=g(Oe,"DIV",{class:!0});var js=p(At);Ge=g(js,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),wo=S(js),Us=w(js,Os),js.forEach(d),Eo=S(Oe),Ln=g(Oe,"DIV",{class:!0});var Dr=p(Ln);yo=w(Dr,"x"),Dr.forEach(d),No=S(Oe),je=g(Oe,"INPUT",{type:!0,step:!0,class:!0}),To=S(Oe),zn=g(Oe,"DIV",{class:!0});var Cr=p(zn);Ao=w(Cr,"y"),Cr.forEach(d),So=S(Oe),Ze=g(Oe,"INPUT",{type:!0,step:!0,class:!0}),Oe.forEach(d),ko=S(re),Pn=g(re,"H3",{class:!0});var xr=p(Pn);Mo=w(xr,"Colors"),xr.forEach(d),Oo=S(re),ge=g(re,"DIV",{style:!0,class:!0});var Ye=p(ge);Bn=g(Ye,"DIV",{class:!0});var Lr=p(Bn);Io=w(Lr,"overlay color"),Lr.forEach(d),Ro=S(Ye),St=g(Ye,"INPUT",{type:!0,class:!0}),Do=S(Ye),Un=g(Ye,"DIV",{class:!0});var zr=p(Un);Co=w(zr,"line color"),zr.forEach(d),xo=S(Ye),kt=g(Ye,"INPUT",{type:!0,class:!0}),Lo=S(Ye),Hn=g(Ye,"DIV",{class:!0});var Pr=p(Hn);zo=w(Pr,"background color"),Pr.forEach(d),Po=S(Ye),Mt=g(Ye,"INPUT",{type:!0,class:!0}),Ye.forEach(d),Bo=S(re),Fn=g(re,"H3",{class:!0});var Br=p(Fn);Uo=w(Br,"Shape"),Br.forEach(d),Ho=S(re),Ot=g(re,"DIV",{class:!0});var Zs=p(Ot);$e=g(Zs,"SELECT",{class:!0});var Va=p($e);gt=g(Va,"OPTION",{class:!0});var Ur=p(gt);Fo=w(Ur,"rectangle"),Ur.forEach(d),pt=g(Va,"OPTION",{class:!0});var Hr=p(pt);Vo=w(Hr,"round"),Hr.forEach(d),Va.forEach(d),Go=S(Zs),et=g(Zs,"SELECT",{class:!0});var Ga=p(et);_t=g(Ga,"OPTION",{class:!0});var Fr=p(_t);jo=w(Fr,"show third lines"),Fr.forEach(d),mt=g(Ga,"OPTION",{class:!0});var Vr=p(mt);Zo=w(Vr,"don't show third lines"),Vr.forEach(d),Ga.forEach(d),Zs.forEach(d),re.forEach(d),Wo=S(pe),it=g(pe,"DIV",{class:!0});var Es=p(it);qt=g(Es,"H2",{id:!0,class:!0});var Gr=p(qt);Jt=g(Gr,"A",{href:!0,class:!0});var jr=p(Jt);Ko=w(jr,"Minimal code example"),jr.forEach(d),Gr.forEach(d),Xo=S(Es),It=g(Es,"DIV",{style:!0,class:!0});var Zr=p(It);ze(vt.$$.fragment,Zr),Zr.forEach(d),qo=S(Es),Vn=g(Es,"DIV",{class:!0});var Wr=p(Vn);ze(Qt.$$.fragment,Wr),Wr.forEach(d),Es.forEach(d),Jo=S(pe),We=g(pe,"DIV",{class:!0});var zt=p(We);$t=g(zt,"H2",{id:!0,class:!0});var Kr=p($t);en=g(Kr,"A",{href:!0,class:!0});var Xr=p(en);Qo=w(Xr,"Options"),Xr.forEach(d),Kr.forEach(d),$o=S(zt),Rt=g(zt,"DIV",{style:!0,class:!0});var Yr=p(Rt);G=g(Yr,"DIV",{style:!0,class:!0});var Q=p(G);Gn=g(Q,"DIV",{class:!0});var qr=p(Gn);ei=w(qr,"name"),qr.forEach(d),ti=S(Q),jn=g(Q,"DIV",{class:!0});var Jr=p(jn);ni=w(Jr,"type"),Jr.forEach(d),si=S(Q),Zn=g(Q,"DIV",{class:!0});var Qr=p(Zn);oi=w(Qr,"purpose"),Qr.forEach(d),ii=S(Q),Wn=g(Q,"DIV",{class:!0});var $r=p(Wn);Kn=g($r,"CODE",{class:!0});var el=p(Kn);ai=w(el,"shape"),el.forEach(d),$r.forEach(d),ri=S(Q),Xn=g(Q,"DIV",{class:!0});var tl=p(Xn);Yn=g(tl,"CODE",{class:!0});var nl=p(Yn);li=w(nl,'"rect" | "round"'),nl.forEach(d),tl.forEach(d),ci=S(Q),qn=g(Q,"DIV",{class:!0});var sl=p(qn);ui=w(sl,'Determines how the to-be-cropped media "snaps back" to cover the crop area'),sl.forEach(d),di=S(Q),Jn=g(Q,"DIV",{class:!0});var ol=p(Jn);Qn=g(ol,"CODE",{class:!0});var il=p(Qn);fi=w(il,"crop_window_margin"),il.forEach(d),ol.forEach(d),hi=S(Q),$n=g(Q,"DIV",{class:!0});var al=p($n);gi=w(al,"number"),al.forEach(d),pi=S(Q),es=g(Q,"DIV",{class:!0});var rl=p(es);_i=w(rl,`Margin of the crop window, in pixels. The crop window will always scale to the
                    maximum possible size in its containing element.`),rl.forEach(d),mi=S(Q),ts=g(Q,"DIV",{class:!0});var ll=p(ts);ns=g(ll,"CODE",{class:!0});var cl=p(ns);vi=w(cl,"overlay"),cl.forEach(d),ll.forEach(d),bi=S(Q),ss=g(Q,"DIV",{class:!0});var ul=p(ss);wi=w(ul,"a Svelte component"),ul.forEach(d),Ei=S(Q),at=g(Q,"DIV",{class:!0});var ys=p(at);yi=w(ys,`The overlay component which visually highlights the crop area and, possibly,
                    some lines. You can pass your own Svelte component here, for a custom overlay.
                    `),Dt=g(ys,"P",{class:!0});var Ws=p(Dt);Ni=w(Ws,"The component must have props "),os=g(Ws,"CODE",{class:!0});var dl=p(os);Ti=w(dl,"options: T, gesture_in_progress: boolean, shape: 'rect' | 'round'"),dl.forEach(d),Ai=w(Ws,"."),Ws.forEach(d),Si=w(ys,`
                    Look at the`),tn=g(ys,"A",{href:!0,class:!0});var fl=p(tn);ki=w(fl,"included overlay's code"),fl.forEach(d),Mi=w(ys," to see how it works."),ys.forEach(d),Oi=S(Q),is=g(Q,"DIV",{class:!0});var hl=p(is);as=g(hl,"CODE",{class:!0});var gl=p(as);Ii=w(gl,"overlay_options"),gl.forEach(d),hl.forEach(d),Ri=S(Q),rs=g(Q,"DIV",{class:!0});var pl=p(rs);Di=w(pl,"T"),pl.forEach(d),Ci=S(Q),Ke=g(Q,"DIV",{class:!0});var Pt=p(Ke);xi=w(Pt,`Needs to be whatever options your overlay component takes. The included overlay
                    allows you to set the color of the overlay (`),ls=g(Pt,"CODE",{class:!0});var _l=p(ls);Li=w(_l,"overlay_color: string"),_l.forEach(d),zi=w(Pt,`),
                    the color of the lines (`),cs=g(Pt,"CODE",{class:!0});var ml=p(cs);Pi=w(ml,"line_color: string"),ml.forEach(d),Bi=w(Pt,`), and whether to show
                    third lines or not (`),us=g(Pt,"CODE",{class:!0});var vl=p(us);Ui=w(vl,"show_third_lines: boolean"),vl.forEach(d),Hi=w(Pt,")."),Pt.forEach(d),Q.forEach(d),Yr.forEach(d),Fi=S(zt),nn=g(zt,"H3",{id:!0,class:!0});var bl=p(nn);sn=g(bl,"A",{href:!0,class:!0});var wl=p(sn);Vi=w(wl,"Default options"),wl.forEach(d),bl.forEach(d),Gi=S(zt),ze(on.$$.fragment,zt),zt.forEach(d),ji=S(pe),ke=g(pe,"DIV",{class:!0});var qe=p(ke);an=g(qe,"H2",{id:!0,class:!0});var El=p(an);rn=g(El,"A",{href:!0,class:!0});var yl=p(rn);Zi=w(yl,"How to Crop"),yl.forEach(d),El.forEach(d),Wi=S(qe),He=g(qe,"DIV",{style:!0,class:!0});var Nl=p(He);Xe=g(Nl,"VIDEO",{style:!0,src:!0,class:!0}),p(Xe).forEach(d),Nl.forEach(d),Ki=S(qe),ds=g(qe,"H3",{class:!0});var Tl=p(ds);Xi=w(Tl,"Display in HTML without actually cropping:"),Tl.forEach(d),Yi=S(qe),ze(ln.$$.fragment,qe),qi=S(qe),cn=g(qe,"H3",{id:!0,class:!0});var Al=p(cn);un=g(Al,"A",{href:!0,class:!0});var Sl=p(un);Ji=w(Sl,"Pseudo code to crop"),Sl.forEach(d),Al.forEach(d),Qi=S(qe),Me=g(qe,"OL",{class:!0});var Je=p(Me);bt=g(Je,"LI",{class:!0});var Is=p(bt);$i=w(Is,"Choose a "),fs=g(Is,"CODE",{class:!0});var kl=p(fs);ea=w(kl,"target_height"),kl.forEach(d),ta=w(Is,` and calculate the width for the cropped image:
                `),ze(dn.$$.fragment,Is),Is.forEach(d),na=S(Je),fn=g(Je,"LI",{class:!0});var ja=p(fn);sa=w(ja,`Calculate factor by which to scale:
                `),ze(hn.$$.fragment,ja),ja.forEach(d),oa=S(Je),wt=g(Je,"LI",{class:!0});var Rs=p(wt);ia=w(Rs,"Scale media by "),hs=g(Rs,"CODE",{class:!0});var Ml=p(hs);aa=w(Ml,"s"),Ml.forEach(d),ra=w(Rs,`:
                `),ze(gn.$$.fragment,Rs),Rs.forEach(d),la=S(Je),Et=g(Je,"LI",{class:!0});var Ds=p(Et);ca=w(Ds,"Rotate media by "),gs=g(Ds,"CODE",{class:!0});var Ol=p(gs);ua=w(Ol,"value.rotation"),Ol.forEach(d),da=w(Ds,`:
                `),ze(pn.$$.fragment,Ds),Ds.forEach(d),fa=S(Je),_n=g(Je,"LI",{class:!0});var Za=p(_n);ha=w(Za,"Calculate x,y position of area to extract: "),ze(mn.$$.fragment,Za),Za.forEach(d),ga=S(Je),vn=g(Je,"LI",{class:!0});var Wa=p(vn);pa=w(Wa,`Extract area:
                `),ze(bn.$$.fragment,Wa),Wa.forEach(d),Je.forEach(d),qe.forEach(d),_a=S(pe),Ct=g(pe,"DIV",{class:!0});var Ks=p(Ct);wn=g(Ks,"H2",{id:!0,class:!0});var Il=p(wn);En=g(Il,"A",{href:!0,class:!0});var Rl=p(En);ma=w(Rl,"What this component doesn't do"),Rl.forEach(d),Il.forEach(d),va=S(Ks),xt=g(Ks,"OL",{class:!0});var Xs=p(xt);ps=g(Xs,"LI",{class:!0});var Dl=p(ps);ba=w(Dl,`Does not modify/crop the image, you have to do that by whatever means make sense for
                your application.`),Dl.forEach(d),wa=S(Xs),yn=g(Xs,"LI",{class:!0});var Ka=p(yn);Ea=w(Ka,`Doesn't (yet) provide usable controls. Currently, you need to implement your own.
                `),_s=g(Ka,"P",{class:!0});var Cl=p(_s);ya=w(Cl,`Similar to the overlay, it would be nice to include some controls to make this
                    more usable out of the box. Contributions are very welcome.`),Cl.forEach(d),Ka.forEach(d),Xs.forEach(d),Ks.forEach(d),Na=S(pe),Be=g(pe,"DIV",{class:!0});var ct=p(Be);ms=g(ct,"H2",{class:!0});var xl=p(ms);Ta=w(xl,"Inspiration and Acknowledgements"),xl.forEach(d),Aa=S(ct),rt=g(ct,"P",{class:!0});var Ns=p(rt);Sa=w(Ns,`One big inspiration for this component was the Android library
            `),Nn=g(Ns,"A",{href:!0,class:!0});var Ll=p(Nn);ka=w(Ll,"uCrop by Yalantis"),Ll.forEach(d),Ma=w(Ns,`. What is particularly
            valuable is that the developers shared their thought process in
            `),Tn=g(Ns,"A",{href:!0,class:!0});var zl=p(Tn);Oa=w(zl,"this blog post"),zl.forEach(d),Ia=w(Ns,"."),Ns.forEach(d),Ra=S(ct),Lt=g(ct,"P",{class:!0});var Ys=p(Lt);Da=w(Ys,"Another very helpful resource was "),An=g(Ys,"A",{href:!0,class:!0});var Pl=p(An);Ca=w(Pl,"svelte-easy-crop"),Pl.forEach(d),xa=w(Ys,` which gave me a basic understanding of how to implement a crop window component in Svelte
            (and HTML/JS in general).`),Ys.forEach(d),La=S(ct),vs=g(ct,"P",{class:!0});var Bl=p(vs);za=w(Bl,`There's no code being reused between either of these components and this one (all
            calculations had to be recreated from textbook math).`),Bl.forEach(d),Pa=S(ct),bs=g(ct,"SMALL",{class:!0});var Ul=p(bs);Sn=g(Ul,"P",{class:!0});var Xa=p(Sn);Ba=w(Xa,"Video from shantararam at pixabay: "),kn=g(Xa,"A",{href:!0,class:!0});var Hl=p(kn);Ua=w(Hl,"mountain-nature-snow-old-mountain-8837"),Hl.forEach(d),Xa.forEach(d),Ul.forEach(d),ct.forEach(d),pe.forEach(d),this.h()},h(){t.a=n,On(l.src,f=nu+"/logo.svg")||c(l,"src",f),c(l,"alt","svelte media crop"),K(l,"height","5rem"),K(l,"margin-right","1rem"),c(l,"class","svelte-f66pw0"),c(i,"href","https://github.com/sabine/svelte-crop-window"),K(i,"display","flex"),K(i,"align-items","center"),c(i,"class","svelte-f66pw0"),c(o,"class","svelte-f66pw0"),c(O,"class","subtitle svelte-f66pw0"),c(D,"class","svelte-f66pw0"),c(u,"class","box svelte-f66pw0"),c(F,"href","https://github.com/sabine/svelte-crop-window"),c(F,"class","svelte-f66pw0"),c(v,"class","svelte-f66pw0"),c(H,"class","svelte-f66pw0"),c(ee,"href","https://github.com/sabine/svelte-crop-window/blob/main/src/routes/%2Bpage.svelte"),c(ee,"class","svelte-f66pw0"),c(ae,"class","svelte-f66pw0"),c(L,"class","box svelte-f66pw0"),c(y,"href","#with-controls"),c(y,"class","svelte-f66pw0"),c(x,"id","with-controls"),c(x,"class","svelte-f66pw0"),K(X,"height","20em"),K(X,"background",e[2]),c(X,"class","svelte-f66pw0"),c(ve,"class","svelte-f66pw0"),c(Se,"style",Fe=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*100}px;margin-left: ${100*e[0].aspect/2+(e[0].position.x||0)*100}px;margin-top: ${100/2+(e[0].position.y||0)*100}px;
                max-width:none;`),On(Se.src,st=e[6].url)||c(Se,"src",st),Se.autoplay=!0,Se.loop=!0,Se.muted=!0,c(Se,"class","svelte-f66pw0"),K(ye,"position","relative"),K(ye,"height","100px"),K(ye,"width",e[0].aspect*100+"px"),K(ye,"overflow","hidden"),K(ye,"border-radius",e[1].shape=="round"?"50%":"0"),c(ye,"class","svelte-f66pw0"),c(Qe,"class","svelte-f66pw0"),c(se,"class","svelte-f66pw0"),c(xe,"class","svelte-f66pw0"),c(k,"class","svelte-f66pw0"),c(Z,"class","svelte-f66pw0"),c(ht,"class","svelte-f66pw0"),c(Te,"class","svelte-f66pw0"),c(Dn,"class","svelte-f66pw0"),c(Cn,"class","svelte-f66pw0"),c(Ve,"type","range"),c(Ve,"min",.001),c(Ve,"max","6"),c(Ve,"step",.01),Ve.value=zs=e[0].scale,c(Ve,"class","svelte-f66pw0"),c(Tt,"class","svelte-f66pw0"),c(xn,"class","svelte-f66pw0"),c(Ge,"type","range"),c(Ge,"min",-180),c(Ge,"max","180"),c(Ge,"step",1),Ge.value=Bs=e[0].rotation,c(Ge,"class","svelte-f66pw0"),c(At,"class","svelte-f66pw0"),c(Ln,"class","svelte-f66pw0"),c(je,"type","number"),c(je,"step",.01),c(je,"class","svelte-f66pw0"),c(zn,"class","svelte-f66pw0"),c(Ze,"type","number"),c(Ze,"step",.01),c(Ze,"class","svelte-f66pw0"),K(ce,"display","grid"),K(ce,"grid-template-columns","auto 1fr"),K(ce,"column-gap","2rem"),c(ce,"class","svelte-f66pw0"),c(Pn,"class","svelte-f66pw0"),c(Bn,"class","svelte-f66pw0"),c(St,"type","color"),c(St,"class","svelte-f66pw0"),c(Un,"class","svelte-f66pw0"),c(kt,"type","color"),c(kt,"class","svelte-f66pw0"),c(Hn,"class","svelte-f66pw0"),c(Mt,"type","color"),c(Mt,"class","svelte-f66pw0"),K(ge,"display","grid"),K(ge,"grid-template-columns","auto 1fr"),K(ge,"column-gap","2rem"),K(ge,"align-items","center"),c(ge,"class","svelte-f66pw0"),c(Fn,"class","svelte-f66pw0"),gt.__value="rect",gt.value=gt.__value,c(gt,"class","svelte-f66pw0"),pt.__value="round",pt.value=pt.__value,c(pt,"class","svelte-f66pw0"),c($e,"class","svelte-f66pw0"),e[1].shape===void 0&&eo(()=>e[26].call($e)),_t.__value=!0,_t.value=_t.__value,c(_t,"class","svelte-f66pw0"),mt.__value=!1,mt.value=mt.__value,c(mt,"class","svelte-f66pw0"),c(et,"class","svelte-f66pw0"),e[1].overlay_options.show_third_lines===void 0&&eo(()=>e[27].call(et)),c(Ot,"class","svelte-f66pw0"),c(T,"class","box svelte-f66pw0"),c(Jt,"href","#minimal-code-example"),c(Jt,"class","svelte-f66pw0"),c(qt,"id","minimal-code-example"),c(qt,"class","svelte-f66pw0"),K(It,"height","20em"),K(It,"background","#222"),c(It,"class","svelte-f66pw0"),c(Vn,"class","svelte-f66pw0"),c(it,"class","box svelte-f66pw0"),c(en,"href","#options"),c(en,"class","svelte-f66pw0"),c($t,"id","options"),c($t,"class","svelte-f66pw0"),c(Gn,"class","svelte-f66pw0"),c(jn,"class","svelte-f66pw0"),c(Zn,"class","svelte-f66pw0"),c(Kn,"class","svelte-f66pw0"),c(Wn,"class","svelte-f66pw0"),c(Yn,"class","svelte-f66pw0"),c(Xn,"class","svelte-f66pw0"),c(qn,"class","svelte-f66pw0"),c(Qn,"class","svelte-f66pw0"),c(Jn,"class","svelte-f66pw0"),c($n,"class","svelte-f66pw0"),c(es,"class","svelte-f66pw0"),c(ns,"class","svelte-f66pw0"),c(ts,"class","svelte-f66pw0"),c(ss,"class","svelte-f66pw0"),c(os,"class","svelte-f66pw0"),c(Dt,"class","svelte-f66pw0"),c(tn,"href","https://github.com/sabine/svelte-crop-window/blob/main/src/lib/overlay/Overlay.svelte"),c(tn,"class","svelte-f66pw0"),c(at,"class","svelte-f66pw0"),c(as,"class","svelte-f66pw0"),c(is,"class","svelte-f66pw0"),c(rs,"class","svelte-f66pw0"),c(ls,"class","svelte-f66pw0"),c(cs,"class","svelte-f66pw0"),c(us,"class","svelte-f66pw0"),c(Ke,"class","svelte-f66pw0"),K(G,"min-width","34em"),K(G,"display","grid"),K(G,"grid-template-columns","8em 8em 1fr"),K(G,"grid-gap","1rem"),c(G,"class","svelte-f66pw0"),K(Rt,"max-width","100%"),K(Rt,"overflow-x","scroll"),c(Rt,"class","svelte-f66pw0"),c(sn,"href","#default-options"),c(sn,"class","svelte-f66pw0"),c(nn,"id","default-options"),c(nn,"class","svelte-f66pw0"),c(We,"class","box svelte-f66pw0"),c(rn,"href","#how-to-crop"),c(rn,"class","svelte-f66pw0"),c(an,"id","how-to-crop"),c(an,"class","svelte-f66pw0"),c(Xe,"style",Hs=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*100}px;margin-left: ${100*e[0].aspect/2+(e[0].position.x||0)*100}px;margin-top: ${100/2+(e[0].position.y||0)*100}px;
                    max-width:none;`),On(Xe.src,lr=e[6].url)||c(Xe,"src",lr),Xe.autoplay=!0,Xe.loop=!0,Xe.muted=!0,c(Xe,"class","svelte-f66pw0"),K(He,"position","relative"),K(He,"height","100px"),K(He,"width",e[0].aspect*100+"px"),K(He,"overflow","hidden"),K(He,"border-radius",e[1].shape=="round"?"50%":"0"),c(He,"class","svelte-f66pw0"),c(ds,"class","svelte-f66pw0"),c(un,"href","#pseudo-code"),c(un,"class","svelte-f66pw0"),c(cn,"id","pseudo-code"),c(cn,"class","svelte-f66pw0"),c(fs,"class","svelte-f66pw0"),c(bt,"class","svelte-f66pw0"),c(fn,"class","svelte-f66pw0"),c(hs,"class","svelte-f66pw0"),c(wt,"class","svelte-f66pw0"),c(gs,"class","svelte-f66pw0"),c(Et,"class","svelte-f66pw0"),c(_n,"class","svelte-f66pw0"),c(vn,"class","svelte-f66pw0"),c(Me,"class","svelte-f66pw0"),c(ke,"class","box svelte-f66pw0"),c(En,"href","#what-it-doesnt-do"),c(En,"class","svelte-f66pw0"),c(wn,"id","what-it-doesnt-do"),c(wn,"class","svelte-f66pw0"),c(ps,"class","svelte-f66pw0"),c(_s,"class","svelte-f66pw0"),c(yn,"class","svelte-f66pw0"),c(xt,"class","svelte-f66pw0"),c(Ct,"class","box svelte-f66pw0"),c(ms,"class","svelte-f66pw0"),c(Nn,"href","https://github.com/Yalantis/uCrop"),c(Nn,"class","svelte-f66pw0"),c(Tn,"href","https://yalantis.com/blog/how-we-created-ucrop-our-own-image-cropping-library-for-android/"),c(Tn,"class","svelte-f66pw0"),c(rt,"class","svelte-f66pw0"),c(An,"href","https://github.com/ValentinH/svelte-easy-crop"),c(An,"class","svelte-f66pw0"),c(Lt,"class","svelte-f66pw0"),c(vs,"class","svelte-f66pw0"),c(kn,"href","https://pixabay.com/videos/mountain-nature-snow-old-mountain-8837/"),c(kn,"class","svelte-f66pw0"),c(Sn,"class","svelte-f66pw0"),c(bs,"class","svelte-f66pw0"),c(Be,"class","box svelte-f66pw0"),c(r,"class","container svelte-f66pw0")},m(V,te){t.m(Gd,document.head),s(document.head,n),we(V,a,te),we(V,r,te),s(r,u),s(u,o),s(o,i),s(i,l),s(i,E),s(u,N),s(u,O),s(O,M),s(u,C),s(u,D),s(D,j),s(r,I),s(r,L),s(L,v),s(v,U),s(v,F),s(F,oe),s(v,ue),s(L,ie),s(L,H),s(H,_e),s(L,J),s(L,ae),s(ae,me),s(ae,ee),s(ee,de),s(ae,m),s(r,_),s(r,T),s(T,x),s(x,y),s(y,P),s(T,W),s(T,X),Re(Y,X,null),s(T,nt),s(T,ve),s(ve,be),s(T,Ae),s(T,ye),s(ye,Se),s(T,Ne),s(T,Qe),s(Qe,ot),s(T,z),s(T,Te),s(Te,se),s(se,$),s(Te,Nt),s(Te,xe),s(xe,Xt),s(Te,Yt),s(Te,k),s(k,R),s(Te,B),s(Te,Z),s(Z,he),s(Te,Ue),s(Te,ht),s(ht,ks),s(T,uo),s(T,Dn),s(Dn,fo),s(T,ho),s(T,ce),s(ce,Cn),s(Cn,go),s(ce,po),s(ce,Tt),s(Tt,Ve),s(Tt,_o),s(Tt,Ps),s(ce,mo),s(ce,xn),s(xn,vo),s(ce,bo),s(ce,At),s(At,Ge),s(At,wo),s(At,Us),s(ce,Eo),s(ce,Ln),s(Ln,yo),s(ce,No),s(ce,je),dt(je,e[4].x),s(ce,To),s(ce,zn),s(zn,Ao),s(ce,So),s(ce,Ze),dt(Ze,e[4].y),s(T,ko),s(T,Pn),s(Pn,Mo),s(T,Oo),s(T,ge),s(ge,Bn),s(Bn,Io),s(ge,Ro),s(ge,St),dt(St,e[1].overlay_options.overlay_color),s(ge,Do),s(ge,Un),s(Un,Co),s(ge,xo),s(ge,kt),dt(kt,e[1].overlay_options.line_color),s(ge,Lo),s(ge,Hn),s(Hn,zo),s(ge,Po),s(ge,Mt),dt(Mt,e[2]),s(T,Bo),s(T,Fn),s(Fn,Uo),s(T,Ho),s(T,Ot),s(Ot,$e),s($e,gt),s(gt,Fo),s($e,pt),s(pt,Vo),qs($e,e[1].shape),s(Ot,Go),s(Ot,et),s(et,_t),s(_t,jo),s(et,mt),s(mt,Zo),qs(et,e[1].overlay_options.show_third_lines),s(r,Wo),s(r,it),s(it,qt),s(qt,Jt),s(Jt,Ko),s(it,Xo),s(it,It),Re(vt,It,null),s(it,qo),s(it,Vn),Re(Qt,Vn,null),s(r,Jo),s(r,We),s(We,$t),s($t,en),s(en,Qo),s(We,$o),s(We,Rt),s(Rt,G),s(G,Gn),s(Gn,ei),s(G,ti),s(G,jn),s(jn,ni),s(G,si),s(G,Zn),s(Zn,oi),s(G,ii),s(G,Wn),s(Wn,Kn),s(Kn,ai),s(G,ri),s(G,Xn),s(Xn,Yn),s(Yn,li),s(G,ci),s(G,qn),s(qn,ui),s(G,di),s(G,Jn),s(Jn,Qn),s(Qn,fi),s(G,hi),s(G,$n),s($n,gi),s(G,pi),s(G,es),s(es,_i),s(G,mi),s(G,ts),s(ts,ns),s(ns,vi),s(G,bi),s(G,ss),s(ss,wi),s(G,Ei),s(G,at),s(at,yi),s(at,Dt),s(Dt,Ni),s(Dt,os),s(os,Ti),s(Dt,Ai),s(at,Si),s(at,tn),s(tn,ki),s(at,Mi),s(G,Oi),s(G,is),s(is,as),s(as,Ii),s(G,Ri),s(G,rs),s(rs,Di),s(G,Ci),s(G,Ke),s(Ke,xi),s(Ke,ls),s(ls,Li),s(Ke,zi),s(Ke,cs),s(cs,Pi),s(Ke,Bi),s(Ke,us),s(us,Ui),s(Ke,Hi),s(We,Fi),s(We,nn),s(nn,sn),s(sn,Vi),s(We,Gi),Re(on,We,null),s(r,ji),s(r,ke),s(ke,an),s(an,rn),s(rn,Zi),s(ke,Wi),s(ke,He),s(He,Xe),s(ke,Ki),s(ke,ds),s(ds,Xi),s(ke,Yi),Re(ln,ke,null),s(ke,qi),s(ke,cn),s(cn,un),s(un,Ji),s(ke,Qi),s(ke,Me),s(Me,bt),s(bt,$i),s(bt,fs),s(fs,ea),s(bt,ta),Re(dn,bt,null),s(Me,na),s(Me,fn),s(fn,sa),Re(hn,fn,null),s(Me,oa),s(Me,wt),s(wt,ia),s(wt,hs),s(hs,aa),s(wt,ra),Re(gn,wt,null),s(Me,la),s(Me,Et),s(Et,ca),s(Et,gs),s(gs,ua),s(Et,da),Re(pn,Et,null),s(Me,fa),s(Me,_n),s(_n,ha),Re(mn,_n,null),s(Me,ga),s(Me,vn),s(vn,pa),Re(bn,vn,null),s(r,_a),s(r,Ct),s(Ct,wn),s(wn,En),s(En,ma),s(Ct,va),s(Ct,xt),s(xt,ps),s(ps,ba),s(xt,wa),s(xt,yn),s(yn,Ea),s(yn,_s),s(_s,ya),s(r,Na),s(r,Be),s(Be,ms),s(ms,Ta),s(Be,Aa),s(Be,rt),s(rt,Sa),s(rt,Nn),s(Nn,ka),s(rt,Ma),s(rt,Tn),s(Tn,Oa),s(rt,Ia),s(Be,Ra),s(Be,Lt),s(Lt,Da),s(Lt,An),s(An,Ca),s(Lt,xa),s(Be,La),s(Be,vs),s(vs,za),s(Be,Pa),s(Be,bs),s(bs,Sn),s(Sn,Ba),s(Sn,kn),s(kn,Ua),Le=!0,Ha||(cr=[q(se,"click",e[9]),q(xe,"click",e[10]),q(k,"click",e[11]),q(Z,"click",e[12]),q(ht,"click",e[13]),q(Ve,"input",e[14]),q(Ve,"change",e[15]),q(Ge,"input",e[16]),q(Ge,"change",function(){tu(e[5].commit)&&e[5].commit.apply(this,arguments)}),q(je,"input",e[17]),q(je,"change",e[18]),q(je,"input",e[19]),q(Ze,"input",e[20]),q(Ze,"change",e[21]),q(Ze,"input",e[22]),q(St,"input",e[23]),q(kt,"input",e[24]),q(Mt,"input",e[25]),q($e,"change",e[26]),q(et,"change",e[27])],Ha=!0)},p(V,[te]){e=V;const pe={};te&2&&(pe.options=e[1]),!Ee&&te&1&&(Ee=!0,pe.value=e[0],Vt(()=>Ee=!1)),Y.$set(pe),(!Le||te&4)&&K(X,"background",e[2]),(!Le||te&1&&Fe!==(Fe=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*100}px;margin-left: ${100*e[0].aspect/2+(e[0].position.x||0)*100}px;margin-top: ${100/2+(e[0].position.y||0)*100}px;
                max-width:none;`))&&c(Se,"style",Fe),(!Le||te&1)&&K(ye,"width",e[0].aspect*100+"px"),(!Le||te&2)&&K(ye,"border-radius",e[1].shape=="round"?"50%":"0"),(!Le||te&1&&zs!==(zs=e[0].scale))&&(Ve.value=zs),(!Le||te&1)&&Ms!==(Ms=Math.round(e[0].scale*100)/100+"")&&qa(Ps,Ms),(!Le||te&1&&Bs!==(Bs=e[0].rotation))&&(Ge.value=Bs),(!Le||te&1)&&Os!==(Os=Math.round(e[0].rotation*100)/100+"")&&qa(Us,Os),te&16&&so(je.value)!==e[4].x&&dt(je,e[4].x),te&16&&so(Ze.value)!==e[4].y&&dt(Ze,e[4].y),te&2&&dt(St,e[1].overlay_options.overlay_color),te&2&&dt(kt,e[1].overlay_options.line_color),te&4&&dt(Mt,e[2]),te&2&&qs($e,e[1].shape),te&2&&qs(et,e[1].overlay_options.show_third_lines);const yt={};!Yo&&te&8&&(Yo=!0,yt.value=e[3],Vt(()=>Yo=!1)),vt.$set(yt),(!Le||te&1&&Hs!==(Hs=`transform: translateX(-50%) translateY(-50%) rotate(${e[0].rotation||0}deg);height: ${(e[0].scale||0)*100}px;margin-left: ${100*e[0].aspect/2+(e[0].position.x||0)*100}px;margin-top: ${100/2+(e[0].position.y||0)*100}px;
                    max-width:none;`))&&c(Xe,"style",Hs),(!Le||te&1)&&K(He,"width",e[0].aspect*100+"px"),(!Le||te&2)&&K(He,"border-radius",e[1].shape=="round"?"50%":"0")},i(V){Le||(ne(Y.$$.fragment,V),ne(vt.$$.fragment,V),ne(Qt.$$.fragment,V),ne(on.$$.fragment,V),ne(ln.$$.fragment,V),ne(dn.$$.fragment,V),ne(hn.$$.fragment,V),ne(gn.$$.fragment,V),ne(pn.$$.fragment,V),ne(mn.$$.fragment,V),ne(bn.$$.fragment,V),Le=!0)},o(V){le(Y.$$.fragment,V),le(vt.$$.fragment,V),le(Qt.$$.fragment,V),le(on.$$.fragment,V),le(ln.$$.fragment,V),le(dn.$$.fragment,V),le(hn.$$.fragment,V),le(gn.$$.fragment,V),le(pn.$$.fragment,V),le(mn.$$.fragment,V),le(bn.$$.fragment,V),Le=!1},d(V){d(n),V&&t.d(),V&&d(a),V&&d(r),e[7](null),De(Y),De(vt),De(Qt),De(on),De(ln),De(dn),De(hn),De(gn),De(pn),De(mn),De(bn),Ha=!1,_c(cr)}}}function Xd(e,t,n){let a={content_type:"video",url:"https://raw.githubusercontent.com/sabine/svelte-crop-window/assets/Mountain%20-%208837.mp4"},r={...kc,shape:"round",crop_window_margin:30,overlay_options:{line_color:"#f3f5e8",overlay_color:"#167676",show_third_lines:!0}},u="#164646",o={...$a},i={...$a},l={x:0,y:0},f;function E(m){Pe[m?"unshift":"push"](()=>{f=m,n(5,f)})}function N(m){o=m,n(0,o)}const O=()=>{n(0,o.aspect=8,o)},M=()=>{n(0,o.aspect=16/9,o)},C=()=>{n(0,o.aspect=4/3,o)},D=()=>{n(0,o.aspect=1,o)},j=()=>{n(0,o.aspect=3/4,o)},I=m=>f.set_zoom(parseFloat(m.currentTarget.value)),L=m=>{f.commit(),m.currentTarget.value=o.scale.toString()},v=m=>f.set_rotation(parseFloat(m.currentTarget.value)),U=()=>f.set_pan(l),F=()=>{f.commit(),n(4,l.x=o.position.x,l)};function oe(){l.x=so(this.value),n(4,l),n(0,o)}const ue=()=>f.set_pan(l),ie=()=>{f.commit(),n(4,l.y=o.position.y,l)};function H(){l.y=so(this.value),n(4,l),n(0,o)}function _e(){r.overlay_options.overlay_color=this.value,n(1,r)}function J(){r.overlay_options.line_color=this.value,n(1,r)}function ae(){u=this.value,n(2,u)}function me(){r.shape=Zl(this),n(1,r)}function ee(){r.overlay_options.show_third_lines=Zl(this),n(1,r)}function de(m){i=m,n(3,i)}return e.$$.update=()=>{e.$$.dirty&1&&n(4,l=o.position)},[o,r,u,i,l,f,a,E,N,O,M,C,D,j,I,L,v,U,F,oe,ue,ie,H,_e,J,ae,me,ee,de]}class Qd extends Zt{constructor(t){super(),Wt(this,t,Xd,Kd,Kt,{})}}export{Qd as default};
